(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[]]);!function(n){function e(e){for(var r,o,s=e[0],l=e[1],c=e[2],p=0,d=[];p<s.length;p++)o=s[p],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(n[r]=l[r]);for(u&&u(e);d.length;)d.shift()();return i.push.apply(i,c||[]),t()}function t(){for(var n,e=0;e<i.length;e++){for(var t=i[e],r=!0,s=1;s<t.length;s++){var l=t[s];0!==a[l]&&(r=!1)}r&&(i.splice(e--,1),n=o(o.s=t[0]))}return n}var r={},a={1:0},i=[];function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.e=function(n){var e=[],t=a[n];if(0!==t)if(t)e.push(t[2]);else{var r=new Promise((function(e,r){t=a[n]=[e,r]}));e.push(t[2]=r);var i,s=document.createElement("script");s.charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.src=function(n){return o.p+"assets/js/"+({}[n]||n)+"."+{2:"56fd5cb0",3:"5ae67027",4:"cb2134f5",5:"807ea28e",6:"0d59ddfa",7:"7d78bfbd",8:"a96fa62e",9:"ba92e156",10:"e34745fa",11:"0c5a5f56",12:"e37a3bae",13:"dec75161",14:"f78337c3",15:"99acbeb8",16:"b65d0402",17:"4d622483",18:"5d6d74a0"}[n]+".js"}(n);var l=new Error;i=function(e){s.onerror=s.onload=null,clearTimeout(c);var t=a[n];if(0!==t){if(t){var r=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;l.message="Loading chunk "+n+" failed.\n("+r+": "+i+")",l.name="ChunkLoadError",l.type=r,l.request=i,t[1](l)}a[n]=void 0}};var c=setTimeout((function(){i({type:"timeout",target:s})}),12e4);s.onerror=s.onload=i,document.head.appendChild(s)}return Promise.all(e)},o.m=n,o.c=r,o.d=function(n,e,t){o.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},o.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.t=function(n,e){if(1&e&&(n=o(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)o.d(t,r,function(e){return n[e]}.bind(null,r));return t},o.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(e,"a",e),e},o.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},o.p="/",o.oe=function(n){throw console.error(n),n};var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;i.push([233,0]),t()}([function(n,e){var t=function(n){return n&&n.Math==Math&&n};n.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof global&&global)||function(){return this}()||Function("return this")()},function(n,e,t){var r=t(60),a=Function.prototype,i=a.bind,o=a.call,s=r&&i.bind(o,o);n.exports=r?function(n){return n&&s(n)}:function(n){return n&&function(){return o.apply(n,arguments)}}},function(n,e,t){var r=t(0),a=t(39).f,i=t(23),o=t(14),s=t(108),l=t(114),c=t(100);n.exports=function(n,e){var t,u,p,d,f,h=n.target,v=n.global,m=n.stat;if(t=v?r:m?r[h]||s(h,{}):(r[h]||{}).prototype)for(u in e){if(d=e[u],p=n.noTargetGet?(f=a(t,u))&&f.value:t[u],!c(v?u:h+(m?".":"#")+u,n.forced)&&void 0!==p){if(typeof d==typeof p)continue;l(d,p)}(n.sham||p&&p.sham)&&i(d,"sham",!0),o(t,u,d,n)}}},function(n,e){n.exports=function(n){try{return!!n()}catch(n){return!0}}},function(n,e){n.exports=function(n){return"function"==typeof n}},function(n,e,t){var r=t(0),a=t(76),i=t(10),o=t(77),s=t(109),l=t(152),c=a("wks"),u=r.Symbol,p=u&&u.for,d=l?u:u&&u.withoutSetter||o;n.exports=function(n){if(!i(c,n)||!s&&"string"!=typeof c[n]){var e="Symbol."+n;s&&i(u,n)?c[n]=u[n]:c[n]=l&&p?p(e):d(e)}return c[n]}},function(n,e,t){var r=t(117),a=t(14),i=t(249);r||a(Object.prototype,"toString",i,{unsafe:!0})},function(n,e,t){var r=t(0),a=t(8),i=r.String,o=r.TypeError;n.exports=function(n){if(a(n))return n;throw o(i(n)+" is not an object")}},function(n,e,t){var r=t(4);n.exports=function(n){return"object"==typeof n?null!==n:r(n)}},function(n,e,t){var r=t(3);n.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(n,e,t){var r=t(1),a=t(15),i=r({}.hasOwnProperty);n.exports=Object.hasOwn||function(n,e){return i(a(n),e)}},function(n,e,t){var r=t(60),a=Function.prototype.call;n.exports=r?a.bind(a):function(){return a.apply(a,arguments)}},function(n,e,t){var r=t(0),a=t(73),i=r.String;n.exports=function(n){if("Symbol"===a(n))throw TypeError("Cannot convert a Symbol value to a string");return i(n)}},function(n,e,t){var r=t(0),a=t(9),i=t(154),o=t(153),s=t(7),l=t(79),c=r.TypeError,u=Object.defineProperty,p=Object.getOwnPropertyDescriptor;e.f=a?o?function(n,e,t){if(s(n),e=l(e),s(t),"function"==typeof n&&"prototype"===e&&"value"in t&&"writable"in t&&!t.writable){var r=p(n,e);r&&r.writable&&(n[e]=t.value,t={configurable:"configurable"in t?t.configurable:r.configurable,enumerable:"enumerable"in t?t.enumerable:r.enumerable,writable:!1})}return u(n,e,t)}:u:function(n,e,t){if(s(n),e=l(e),s(t),i)try{return u(n,e,t)}catch(n){}if("get"in t||"set"in t)throw c("Accessors not supported");return"value"in t&&(n[e]=t.value),n}},function(n,e,t){var r=t(0),a=t(4),i=t(10),o=t(23),s=t(108),l=t(84),c=t(36),u=t(63).CONFIGURABLE,p=c.get,d=c.enforce,f=String(String).split("String");(n.exports=function(n,e,t,l){var c,p=!!l&&!!l.unsafe,h=!!l&&!!l.enumerable,v=!!l&&!!l.noTargetGet,m=l&&void 0!==l.name?l.name:e;a(t)&&("Symbol("===String(m).slice(0,7)&&(m="["+String(m).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!i(t,"name")||u&&t.name!==m)&&o(t,"name",m),(c=d(t)).source||(c.source=f.join("string"==typeof m?m:""))),n!==r?(p?!v&&n[e]&&(h=!0):delete n[e],h?n[e]=t:o(n,e,t)):h?n[e]=t:s(e,t)})(Function.prototype,"toString",(function(){return a(this)&&p(this).source||l(this)}))},function(n,e,t){var r=t(0),a=t(17),i=r.Object;n.exports=function(n){return i(a(n))}},function(n,e,t){var r=t(0),a=t(4),i=function(n){return a(n)?n:void 0};n.exports=function(n,e){return arguments.length<2?i(r[n]):r[n]&&r[n][e]}},function(n,e,t){var r=t(0).TypeError;n.exports=function(n){if(null==n)throw r("Can't call method on "+n);return n}},function(n,e,t){"use strict";var r=t(2),a=t(90);r({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},function(n,e,t){var r=t(59),a=t(17);n.exports=function(n){return r(a(n))}},function(n,e,t){var r=t(50);n.exports=function(n){return r(n.length)}},function(n,e,t){var r=t(1),a=r({}.toString),i=r("".slice);n.exports=function(n){return i(a(n),8,-1)}},function(n,e){n.exports=!1},function(n,e,t){var r=t(9),a=t(13),i=t(47);n.exports=r?function(n,e,t){return a.f(n,e,i(1,t))}:function(n,e,t){return n[e]=t,n}},function(n,e,t){"use strict";var r=t(171).charAt,a=t(12),i=t(36),o=t(158),s=i.set,l=i.getterFor("String Iterator");o(String,"String",(function(n){s(this,{type:"String Iterator",string:a(n),index:0})}),(function(){var n,e=l(this),t=e.string,a=e.index;return a>=t.length?{value:void 0,done:!0}:(n=r(t,a),e.index+=n.length,{value:n,done:!1})}))},function(n,e,t){var r=t(14),a=t(265),i=Error.prototype;i.toString!==a&&r(i,"toString",a)},function(n,e){var t=Array.isArray;n.exports=t},function(n,e,t){var r=t(16);n.exports=r("navigator","userAgent")||""},function(n,e,t){var r=t(187),a="object"==typeof self&&self&&self.Object===Object&&self,i=r||a||Function("return this")();n.exports=i},function(n,e,t){"use strict";function r(n,e,t,r,a,i,o,s){var l,c="function"==typeof n?n.options:n;if(e&&(c.render=e,c.staticRenderFns=t,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),o?(l=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),a&&a.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(o)},c._ssrRegister=l):a&&(l=s?function(){a.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:a),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(n,e){return l.call(e),u(n,e)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,l):[l]}return{exports:n,options:c}}t.d(e,"a",(function(){return r}))},function(n,e,t){"use strict";var r=t(2),a=t(54).filter;r({target:"Array",proto:!0,forced:!t(88)("filter")},{filter:function(n){return a(this,n,arguments.length>1?arguments[1]:void 0)}})},function(n,e,t){var r=t(0),a=t(172),i=t(173),o=t(139),s=t(23),l=t(5),c=l("iterator"),u=l("toStringTag"),p=o.values,d=function(n,e){if(n){if(n[c]!==p)try{s(n,c,p)}catch(e){n[c]=p}if(n[u]||s(n,u,e),a[e])for(var t in o)if(n[t]!==o[t])try{s(n,t,o[t])}catch(e){n[t]=o[t]}}};for(var f in a)d(r[f]&&r[f].prototype,f);d(i,"DOMTokenList")},function(n,e,t){var r,a=t(7),i=t(140),o=t(112),s=t(61),l=t(157),c=t(78),u=t(83),p=u("IE_PROTO"),d=function(){},f=function(n){return"<script>"+n+"<\/script>"},h=function(n){n.write(f("")),n.close();var e=n.parentWindow.Object;return n=null,e},v=function(){try{r=new ActiveXObject("htmlfile")}catch(n){}var n,e;v="undefined"!=typeof document?document.domain&&r?h(r):((e=c("iframe")).style.display="none",l.appendChild(e),e.src=String("javascript:"),(n=e.contentWindow.document).open(),n.write(f("document.F=Object")),n.close(),n.F):h(r);for(var t=o.length;t--;)delete v.prototype[o[t]];return v()};s[p]=!0,n.exports=Object.create||function(n,e){var t;return null!==n?(d.prototype=a(n),t=new d,d.prototype=null,t[p]=n):t=v(),void 0===e?t:i.f(t,e)}},function(n,e,t){var r=t(1);n.exports=r({}.isPrototypeOf)},function(n,e,t){var r=t(60),a=Function.prototype,i=a.apply,o=a.call;n.exports="object"==typeof Reflect&&Reflect.apply||(r?o.bind(i):function(){return o.apply(i,arguments)})},function(n,e,t){var r=t(0),a=t(4),i=t(81),o=r.TypeError;n.exports=function(n){if(a(n))return n;throw o(i(n)+" is not a function")}},function(n,e,t){var r,a,i,o=t(235),s=t(0),l=t(1),c=t(8),u=t(23),p=t(10),d=t(107),f=t(83),h=t(61),v=s.TypeError,m=s.WeakMap;if(o||d.state){var g=d.state||(d.state=new m),b=l(g.get),y=l(g.has),x=l(g.set);r=function(n,e){if(y(g,n))throw new v("Object already initialized");return e.facade=n,x(g,n,e),e},a=function(n){return b(g,n)||{}},i=function(n){return y(g,n)}}else{var _=f("state");h[_]=!0,r=function(n,e){if(p(n,_))throw new v("Object already initialized");return e.facade=n,u(n,_,e),e},a=function(n){return p(n,_)?n[_]:{}},i=function(n){return p(n,_)}}n.exports={set:r,get:a,has:i,enforce:function(n){return i(n)?a(n):r(n,{})},getterFor:function(n){return function(e){var t;if(!c(e)||(t=a(e)).type!==n)throw v("Incompatible receiver, "+n+" required");return t}}}},function(n,e,t){"use strict";var r=t(2),a=t(177);r({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},function(n,e,t){var r=t(0),a=t(172),i=t(173),o=t(177),s=t(23),l=function(n){if(n&&n.forEach!==o)try{s(n,"forEach",o)}catch(e){n.forEach=o}};for(var c in a)a[c]&&l(r[c]&&r[c].prototype);l(i)},function(n,e,t){var r=t(9),a=t(11),i=t(113),o=t(47),s=t(19),l=t(79),c=t(10),u=t(154),p=Object.getOwnPropertyDescriptor;e.f=r?p:function(n,e){if(n=s(n),e=l(e),u)try{return p(n,e)}catch(n){}if(c(n,e))return o(!a(i.f,n,e),n[e])}},function(n,e,t){var r=t(2),a=t(0),i=t(34),o=t(261),s=a.WebAssembly,l=7!==Error("e",{cause:7}).cause,c=function(n,e){var t={};t[n]=o(n,e,l),r({global:!0,forced:l},t)},u=function(n,e){if(s&&s[n]){var t={};t[n]=o("WebAssembly."+n,e,l),r({target:"WebAssembly",stat:!0,forced:l},t)}};c("Error",(function(n){return function(e){return i(n,this,arguments)}})),c("EvalError",(function(n){return function(e){return i(n,this,arguments)}})),c("RangeError",(function(n){return function(e){return i(n,this,arguments)}})),c("ReferenceError",(function(n){return function(e){return i(n,this,arguments)}})),c("SyntaxError",(function(n){return function(e){return i(n,this,arguments)}})),c("TypeError",(function(n){return function(e){return i(n,this,arguments)}})),c("URIError",(function(n){return function(e){return i(n,this,arguments)}})),u("CompileError",(function(n){return function(e){return i(n,this,arguments)}})),u("LinkError",(function(n){return function(e){return i(n,this,arguments)}})),u("RuntimeError",(function(n){return function(e){return i(n,this,arguments)}}))},function(n,e,t){var r=t(285),a=t(288);n.exports=function(n,e){var t=a(n,e);return r(t)?t:void 0}},function(n,e,t){"use strict";t.d(e,"e",(function(){return r})),t.d(e,"b",(function(){return i})),t.d(e,"j",(function(){return o})),t.d(e,"g",(function(){return l})),t.d(e,"h",(function(){return c})),t.d(e,"i",(function(){return u})),t.d(e,"c",(function(){return p})),t.d(e,"f",(function(){return d})),t.d(e,"l",(function(){return f})),t.d(e,"m",(function(){return h})),t.d(e,"d",(function(){return m})),t.d(e,"k",(function(){return g})),t.d(e,"n",(function(){return b})),t.d(e,"a",(function(){return x}));t(18),t(44),t(134),t(72),t(132),t(106),t(43),t(37),t(6),t(38),t(30),t(75),t(98),t(151),t(70),t(207),t(25),t(138);var r=/#.*$/,a=/\.(md|html)$/,i=/\/$/,o=/^[a-z]+:/i;function s(n){return decodeURI(n).replace(r,"").replace(a,"")}function l(n){return o.test(n)}function c(n){return/^mailto:/.test(n)}function u(n){return/^tel:/.test(n)}function p(n){if(l(n))return n;var e=n.match(r),t=e?e[0]:"",a=s(n);return i.test(a)?n:a+".html"+t}function d(n,e){var t=n.hash,a=function(n){var e=n.match(r);if(e)return e[0]}(e);return(!a||t===a)&&s(n.path)===s(e)}function f(n,e,t){if(l(e))return{type:"external",path:e};t&&(e=function(n,e,t){var r=n.charAt(0);if("/"===r)return n;if("?"===r||"#"===r)return e+n;var a=e.split("/");t&&a[a.length-1]||a.pop();for(var i=n.replace(/^\//,"").split("/"),o=0;o<i.length;o++){var s=i[o];".."===s?a.pop():"."!==s&&a.push(s)}""!==a[0]&&a.unshift("");return a.join("/")}(e,t));for(var r=s(e),a=0;a<n.length;a++)if(s(n[a].regularPath)===r)return Object.assign({},n[a],{type:"page",path:p(n[a].path)});return console.error('[vuepress] No matching page found for sidebar item "'.concat(e,'"')),{}}function h(n,e,t,r){var a=t.pages,i=t.themeConfig,o=r&&i.locales&&i.locales[r]||i;if("auto"===(n.frontmatter.sidebar||o.sidebar||i.sidebar))return v(n);var s=o.sidebar||i.sidebar;if(s){var l=function(n,e){if(Array.isArray(e))return{base:"/",config:e};for(var t in e)if(0===(r=n,/(\.html|\/)$/.test(r)?r:r+"/").indexOf(encodeURI(t)))return{base:t,config:e[t]};var r;return{}}(e,s),c=l.base,u=l.config;return"auto"===u?v(n):u?u.map((function(n){return function n(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if("string"==typeof e)return f(t,e,r);if(Array.isArray(e))return Object.assign(f(t,e[0],r),{title:e[1]});a>3&&console.error("[vuepress] detected a too deep nested sidebar group.");var i=e.children||[];return 0===i.length&&e.path?Object.assign(f(t,e.path,r),{title:e.title}):{type:"group",path:e.path,title:e.title,sidebarDepth:e.sidebarDepth,initialOpenGroupIndex:e.initialOpenGroupIndex,children:i.map((function(e){return n(e,t,r,a+1)})),collapsable:!1!==e.collapsable}}(n,a,c)})):[]}return[]}function v(n){var e=m(n.headers||[]);return[{type:"group",collapsable:!1,title:n.title,path:null,children:e.map((function(e){return{type:"auto",title:e.title,basePath:n.path,path:n.path+"#"+e.slug,children:e.children||[]}}))}]}function m(n){var e;return(n=n.map((function(n){return Object.assign({},n)}))).forEach((function(n){2===n.level?e=n:e&&(e.children||(e.children=[])).push(n)})),n.filter((function(n){return 2===n.level}))}function g(n){return Object.assign(n,{type:n.items&&n.items.length?"links":"link"})}function b(n){return Object.prototype.toString.call(n).match(/\[object (.*?)\]/)[1].toLowerCase()}function y(n){var e=n.frontmatter.date||n.lastUpdated||new Date,t=new Date(e);return"Invalid Date"==t&&e&&(t=new Date(e.replace(/-/g,"/"))),t.getTime()}function x(n,e){return y(e)-y(n)}},function(n,e,t){"use strict";var r=t(2),a=t(54).map;r({target:"Array",proto:!0,forced:!t(88)("map")},{map:function(n){return a(this,n,arguments.length>1?arguments[1]:void 0)}})},function(n,e,t){"use strict";var r=t(34),a=t(11),i=t(1),o=t(104),s=t(3),l=t(7),c=t(4),u=t(52),p=t(50),d=t(12),f=t(17),h=t(121),v=t(46),m=t(266),g=t(105),b=t(5)("replace"),y=Math.max,x=Math.min,_=i([].concat),w=i([].push),k=i("".indexOf),S=i("".slice),j="$0"==="a".replace(/./,"$0"),T=!!/./[b]&&""===/./[b]("a","$0");o("replace",(function(n,e,t){var i=T?"$":"$0";return[function(n,t){var r=f(this),i=null==n?void 0:v(n,b);return i?a(i,n,r,t):a(e,d(r),n,t)},function(n,a){var o=l(this),s=d(n);if("string"==typeof a&&-1===k(a,i)&&-1===k(a,"$<")){var f=t(e,o,s,a);if(f.done)return f.value}var v=c(a);v||(a=d(a));var b=o.global;if(b){var j=o.unicode;o.lastIndex=0}for(var T=[];;){var E=g(o,s);if(null===E)break;if(w(T,E),!b)break;""===d(E[0])&&(o.lastIndex=h(s,p(o.lastIndex),j))}for(var C,O="",I=0,A=0;A<T.length;A++){for(var z=d((E=T[A])[0]),R=y(x(u(E.index),s.length),0),P=[],L=1;L<E.length;L++)w(P,void 0===(C=E[L])?C:String(C));var M=E.groups;if(v){var B=_([z],P,R,s);void 0!==M&&w(B,M);var $=d(r(a,void 0,B))}else $=m(z,s,R,P,M,a);R>=I&&(O+=S(s,I,R)+$,I=R+z.length)}return O+S(s,I)}]}),!!s((function(){var n=/./;return n.exec=function(){var n=[];return n.groups={a:"7"},n},"7"!=="".replace(n,"$<a>")}))||!j||T)},function(n,e,t){"use strict";var r=t(3);n.exports=function(n,e){var t=[][n];return!!t&&r((function(){t.call(null,e||function(){return 1},1)}))}},function(n,e,t){var r=t(35);n.exports=function(n,e){var t=n[e];return null==t?void 0:r(t)}},function(n,e){n.exports=function(n,e){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:e}}},function(n,e){n.exports=function(n){return null!=n&&"object"==typeof n}},function(n,e,t){var r,a,i=t(0),o=t(27),s=i.process,l=i.Deno,c=s&&s.versions||l&&l.version,u=c&&c.v8;u&&(a=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!a&&o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(a=+r[1]),n.exports=a},function(n,e,t){var r=t(52),a=Math.min;n.exports=function(n){return n>0?a(r(n),9007199254740991):0}},function(n,e,t){"use strict";var r=t(2),a=t(0),i=t(57),o=t(85),s=t(8),l=t(111),c=t(20),u=t(19),p=t(66),d=t(5),f=t(88),h=t(65),v=f("slice"),m=d("species"),g=a.Array,b=Math.max;r({target:"Array",proto:!0,forced:!v},{slice:function(n,e){var t,r,a,d=u(this),f=c(d),v=l(n,f),y=l(void 0===e?f:e,f);if(i(d)&&(t=d.constructor,(o(t)&&(t===g||i(t.prototype))||s(t)&&null===(t=t[m]))&&(t=void 0),t===g||void 0===t))return h(d,v,y);for(r=new(void 0===t?g:t)(b(y-v,0)),a=0;v<y;v++,a++)v in d&&p(r,a,d[v]);return r.length=a,r}})},function(n,e){var t=Math.ceil,r=Math.floor;n.exports=function(n){var e=+n;return e!=e||0===e?0:(e>0?r:t)(e)}},function(n,e,t){var r=t(1),a=t(35),i=t(60),o=r(r.bind);n.exports=function(n,e){return a(n),void 0===e?n:i?o(n,e):function(){return n.apply(e,arguments)}}},function(n,e,t){var r=t(53),a=t(1),i=t(59),o=t(15),s=t(20),l=t(143),c=a([].push),u=function(n){var e=1==n,t=2==n,a=3==n,u=4==n,p=6==n,d=7==n,f=5==n||p;return function(h,v,m,g){for(var b,y,x=o(h),_=i(x),w=r(v,m),k=s(_),S=0,j=g||l,T=e?j(h,k):t||d?j(h,0):void 0;k>S;S++)if((f||S in _)&&(y=w(b=_[S],S,x),n))if(e)T[S]=y;else if(y)switch(n){case 3:return!0;case 5:return b;case 6:return S;case 2:c(T,b)}else switch(n){case 4:return!1;case 7:c(T,b)}return p?-1:a||u?u:T}};n.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},function(n,e,t){var r=t(156),a=t(112).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(n){return r(n,a)}},function(n,e,t){var r=t(13).f,a=t(10),i=t(5)("toStringTag");n.exports=function(n,e,t){n&&!t&&(n=n.prototype),n&&!a(n,i)&&r(n,i,{configurable:!0,value:e})}},function(n,e,t){var r=t(21);n.exports=Array.isArray||function(n){return"Array"==r(n)}},function(n,e,t){var r=t(67),a=t(270),i=t(271),o=r?r.toStringTag:void 0;n.exports=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":o&&o in Object(n)?a(n):i(n)}},function(n,e,t){var r=t(0),a=t(1),i=t(3),o=t(21),s=r.Object,l=a("".split);n.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(n){return"String"==o(n)?l(n,""):s(n)}:s},function(n,e,t){var r=t(3);n.exports=!r((function(){var n=function(){}.bind();return"function"!=typeof n||n.hasOwnProperty("prototype")}))},function(n,e){n.exports={}},function(n,e){n.exports={}},function(n,e,t){var r=t(9),a=t(10),i=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,s=a(i,"name"),l=s&&"something"===function(){}.name,c=s&&(!r||r&&o(i,"name").configurable);n.exports={EXISTS:s,PROPER:l,CONFIGURABLE:c}},function(n,e,t){var r=t(1),a=t(7),i=t(236);n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,e=!1,t={};try{(n=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(t,[]),e=t instanceof Array}catch(n){}return function(t,r){return a(t),i(r),e?n(t,r):t.__proto__=r,t}}():void 0)},function(n,e,t){var r=t(1);n.exports=r([].slice)},function(n,e,t){"use strict";var r=t(79),a=t(13),i=t(47);n.exports=function(n,e,t){var o=r(e);o in n?a.f(n,o,i(0,t)):n[o]=t}},function(n,e,t){var r=t(28).Symbol;n.exports=r},function(n,e,t){"use strict";t.d(e,"a",(function(){return i}));t(75);var r=t(69);t(74),t(89),t(6),t(120),t(24),t(31),t(182);var a=t(96);t(40),t(25);function i(n){return function(n){if(Array.isArray(n))return Object(r.a)(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||Object(a.a)(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(n,e,t){"use strict";function r(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}t.d(e,"a",(function(){return r}))},function(n,e,t){"use strict";var r=t(2),a=t(0),i=t(3),o=t(57),s=t(8),l=t(15),c=t(20),u=t(66),p=t(143),d=t(88),f=t(5),h=t(49),v=f("isConcatSpreadable"),m=a.TypeError,g=h>=51||!i((function(){var n=[];return n[v]=!1,n.concat()[0]!==n})),b=d("concat"),y=function(n){if(!s(n))return!1;var e=n[v];return void 0!==e?!!e:o(n)};r({target:"Array",proto:!0,forced:!g||!b},{concat:function(n){var e,t,r,a,i,o=l(this),s=p(o,0),d=0;for(e=-1,r=arguments.length;e<r;e++)if(y(i=-1===e?o:arguments[e])){if(d+(a=c(i))>9007199254740991)throw m("Maximum allowed index exceeded");for(t=0;t<a;t++,d++)t in i&&u(s,d,i[t])}else{if(d>=9007199254740991)throw m("Maximum allowed index exceeded");u(s,d++,i)}return s.length=d,s}})},function(n,e,t){var r=t(2),a=t(0),i=t(34),o=t(4),s=t(27),l=t(65),c=t(142),u=/MSIE .\./.test(s),p=a.Function,d=function(n){return function(e,t){var r=c(arguments.length,1)>2,a=o(e)?e:p(e),s=r?l(arguments,2):void 0;return n(r?function(){i(a,this,s)}:a,t)}};r({global:!0,bind:!0,forced:u},{setTimeout:d(a.setTimeout),setInterval:d(a.setInterval)})},function(n,e,t){"use strict";t(18);var r,a,i=t(2),o=t(0),s=t(11),l=t(1),c=t(4),u=t(8),p=(r=!1,(a=/[ac]/).exec=function(){return r=!0,/./.exec.apply(this,arguments)},!0===a.test("abc")&&r),d=o.Error,f=l(/./.test);i({target:"RegExp",proto:!0,forced:!p},{test:function(n){var e=this.exec;if(!c(e))return f(this,n);var t=s(e,this,n);if(null!==t&&!u(t))throw new d("RegExp exec method returned something other than an Object or null");return!!t}})},function(n,e,t){var r=t(0),a=t(117),i=t(4),o=t(21),s=t(5)("toStringTag"),l=r.Object,c="Arguments"==o(function(){return arguments}());n.exports=a?o:function(n){var e,t,r;return void 0===n?"Undefined":null===n?"Null":"string"==typeof(t=function(n,e){try{return n[e]}catch(n){}}(e=l(n),s))?t:c?o(e):"Object"==(r=o(e))&&i(e.callee)?"Arguments":r}},function(n,e,t){"use strict";var r=t(2),a=t(0),i=t(16),o=t(34),s=t(11),l=t(1),c=t(22),u=t(9),p=t(109),d=t(3),f=t(10),h=t(57),v=t(4),m=t(8),g=t(33),b=t(80),y=t(7),x=t(15),_=t(19),w=t(79),k=t(12),S=t(47),j=t(32),T=t(82),E=t(55),C=t(179),O=t(115),I=t(39),A=t(13),z=t(140),R=t(113),P=t(65),L=t(14),M=t(76),B=t(83),$=t(61),D=t(77),J=t(5),N=t(180),F=t(181),q=t(56),U=t(36),H=t(54).forEach,V=B("hidden"),G=J("toPrimitive"),Q=U.set,X=U.getterFor("Symbol"),K=Object.prototype,W=a.Symbol,Y=W&&W.prototype,Z=a.TypeError,nn=a.QObject,en=i("JSON","stringify"),tn=I.f,rn=A.f,an=C.f,on=R.f,sn=l([].push),ln=M("symbols"),cn=M("op-symbols"),un=M("string-to-symbol-registry"),pn=M("symbol-to-string-registry"),dn=M("wks"),fn=!nn||!nn.prototype||!nn.prototype.findChild,hn=u&&d((function(){return 7!=j(rn({},"a",{get:function(){return rn(this,"a",{value:7}).a}})).a}))?function(n,e,t){var r=tn(K,e);r&&delete K[e],rn(n,e,t),r&&n!==K&&rn(K,e,r)}:rn,vn=function(n,e){var t=ln[n]=j(Y);return Q(t,{type:"Symbol",tag:n,description:e}),u||(t.description=e),t},mn=function(n,e,t){n===K&&mn(cn,e,t),y(n);var r=w(e);return y(t),f(ln,r)?(t.enumerable?(f(n,V)&&n[V][r]&&(n[V][r]=!1),t=j(t,{enumerable:S(0,!1)})):(f(n,V)||rn(n,V,S(1,{})),n[V][r]=!0),hn(n,r,t)):rn(n,r,t)},gn=function(n,e){y(n);var t=_(e),r=T(t).concat(_n(t));return H(r,(function(e){u&&!s(bn,t,e)||mn(n,e,t[e])})),n},bn=function(n){var e=w(n),t=s(on,this,e);return!(this===K&&f(ln,e)&&!f(cn,e))&&(!(t||!f(this,e)||!f(ln,e)||f(this,V)&&this[V][e])||t)},yn=function(n,e){var t=_(n),r=w(e);if(t!==K||!f(ln,r)||f(cn,r)){var a=tn(t,r);return!a||!f(ln,r)||f(t,V)&&t[V][r]||(a.enumerable=!0),a}},xn=function(n){var e=an(_(n)),t=[];return H(e,(function(n){f(ln,n)||f($,n)||sn(t,n)})),t},_n=function(n){var e=n===K,t=an(e?cn:_(n)),r=[];return H(t,(function(n){!f(ln,n)||e&&!f(K,n)||sn(r,ln[n])})),r};(p||(L(Y=(W=function(){if(g(Y,this))throw Z("Symbol is not a constructor");var n=arguments.length&&void 0!==arguments[0]?k(arguments[0]):void 0,e=D(n),t=function(n){this===K&&s(t,cn,n),f(this,V)&&f(this[V],e)&&(this[V][e]=!1),hn(this,e,S(1,n))};return u&&fn&&hn(K,e,{configurable:!0,set:t}),vn(e,n)}).prototype,"toString",(function(){return X(this).tag})),L(W,"withoutSetter",(function(n){return vn(D(n),n)})),R.f=bn,A.f=mn,z.f=gn,I.f=yn,E.f=C.f=xn,O.f=_n,N.f=function(n){return vn(J(n),n)},u&&(rn(Y,"description",{configurable:!0,get:function(){return X(this).description}}),c||L(K,"propertyIsEnumerable",bn,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!p,sham:!p},{Symbol:W}),H(T(dn),(function(n){F(n)})),r({target:"Symbol",stat:!0,forced:!p},{for:function(n){var e=k(n);if(f(un,e))return un[e];var t=W(e);return un[e]=t,pn[t]=e,t},keyFor:function(n){if(!b(n))throw Z(n+" is not a symbol");if(f(pn,n))return pn[n]},useSetter:function(){fn=!0},useSimple:function(){fn=!1}}),r({target:"Object",stat:!0,forced:!p,sham:!u},{create:function(n,e){return void 0===e?j(n):gn(j(n),e)},defineProperty:mn,defineProperties:gn,getOwnPropertyDescriptor:yn}),r({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:xn,getOwnPropertySymbols:_n}),r({target:"Object",stat:!0,forced:d((function(){O.f(1)}))},{getOwnPropertySymbols:function(n){return O.f(x(n))}}),en)&&r({target:"JSON",stat:!0,forced:!p||d((function(){var n=W();return"[null]"!=en([n])||"{}"!=en({a:n})||"{}"!=en(Object(n))}))},{stringify:function(n,e,t){var r=P(arguments),a=e;if((m(e)||void 0!==n)&&!b(n))return h(e)||(e=function(n,e){if(v(a)&&(e=s(a,this,n,e)),!b(e))return e}),r[1]=e,o(en,null,r)}});if(!Y[G]){var wn=Y.valueOf;L(Y,G,(function(n){return s(wn,this)}))}q(W,"Symbol"),$[V]=!0},function(n,e,t){t(2)({target:"Array",stat:!0},{isArray:t(57)})},function(n,e,t){var r=t(22),a=t(107);(n.exports=function(n,e){return a[n]||(a[n]=void 0!==e?e:{})})("versions",[]).push({version:"3.21.1",mode:r?"pure":"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},function(n,e,t){var r=t(1),a=0,i=Math.random(),o=r(1..toString);n.exports=function(n){return"Symbol("+(void 0===n?"":n)+")_"+o(++a+i,36)}},function(n,e,t){var r=t(0),a=t(8),i=r.document,o=a(i)&&a(i.createElement);n.exports=function(n){return o?i.createElement(n):{}}},function(n,e,t){var r=t(155),a=t(80);n.exports=function(n){var e=r(n,"string");return a(e)?e:e+""}},function(n,e,t){var r=t(0),a=t(16),i=t(4),o=t(33),s=t(152),l=r.Object;n.exports=s?function(n){return"symbol"==typeof n}:function(n){var e=a("Symbol");return i(e)&&o(e.prototype,l(n))}},function(n,e,t){var r=t(0).String;n.exports=function(n){try{return r(n)}catch(n){return"Object"}}},function(n,e,t){var r=t(156),a=t(112);n.exports=Object.keys||function(n){return r(n,a)}},function(n,e,t){var r=t(76),a=t(77),i=r("keys");n.exports=function(n){return i[n]||(i[n]=a(n))}},function(n,e,t){var r=t(1),a=t(4),i=t(107),o=r(Function.toString);a(i.inspectSource)||(i.inspectSource=function(n){return o(n)}),n.exports=i.inspectSource},function(n,e,t){var r=t(1),a=t(3),i=t(4),o=t(73),s=t(16),l=t(84),c=function(){},u=[],p=s("Reflect","construct"),d=/^\s*(?:class|function)\b/,f=r(d.exec),h=!d.exec(c),v=function(n){if(!i(n))return!1;try{return p(c,u,n),!0}catch(n){return!1}},m=function(n){if(!i(n))return!1;switch(o(n)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!f(d,l(n))}catch(n){return!0}};m.sham=!0,n.exports=!p||a((function(){var n;return v(v.call)||!v(Object)||!v((function(){n=!0}))||n}))?m:v},function(n,e,t){var r=t(21),a=t(0);n.exports="process"==r(a.process)},function(n,e,t){"use strict";t.d(e,"a",(function(){return a}));t(6);function r(n,e,t,r,a,i,o){try{var s=n[i](o),l=s.value}catch(n){return void t(n)}s.done?e(l):Promise.resolve(l).then(r,a)}function a(n){return function(){var e=this,t=arguments;return new Promise((function(a,i){var o=n.apply(e,t);function s(n){r(o,a,i,s,l,"next",n)}function l(n){r(o,a,i,s,l,"throw",n)}s(void 0)}))}}},function(n,e,t){var r=t(3),a=t(5),i=t(49),o=a("species");n.exports=function(n){return i>=51||!r((function(){var e=[];return(e.constructor={})[o]=function(){return{foo:1}},1!==e[n](Boolean).foo}))}},function(n,e,t){"use strict";var r=t(2),a=t(9),i=t(0),o=t(1),s=t(10),l=t(4),c=t(33),u=t(12),p=t(13).f,d=t(114),f=i.Symbol,h=f&&f.prototype;if(a&&l(f)&&(!("description"in h)||void 0!==f().description)){var v={},m=function(){var n=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),e=c(h,this)?new f(n):void 0===n?f():f(n);return""===n&&(v[e]=!0),e};d(m,f),m.prototype=h,h.constructor=m;var g="Symbol(test)"==String(f("test")),b=o(h.toString),y=o(h.valueOf),x=/^Symbol\((.*)\)[^)]+$/,_=o("".replace),w=o("".slice);p(h,"description",{configurable:!0,get:function(){var n=y(this),e=b(n);if(s(v,n))return"";var t=g?w(e,7,-1):_(e,x,"$1");return""===t?void 0:t}}),r({global:!0,forced:!0},{Symbol:m})}},function(n,e,t){"use strict";var r,a,i=t(11),o=t(1),s=t(12),l=t(145),c=t(103),u=t(76),p=t(32),d=t(36).get,f=t(220),h=t(226),v=u("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,g=m,b=o("".charAt),y=o("".indexOf),x=o("".replace),_=o("".slice),w=(a=/b*/g,i(m,r=/a/,"a"),i(m,a,"a"),0!==r.lastIndex||0!==a.lastIndex),k=c.BROKEN_CARET,S=void 0!==/()??/.exec("")[1];(w||S||k||f||h)&&(g=function(n){var e,t,r,a,o,c,u,f=this,h=d(f),j=s(n),T=h.raw;if(T)return T.lastIndex=f.lastIndex,e=i(g,T,j),f.lastIndex=T.lastIndex,e;var E=h.groups,C=k&&f.sticky,O=i(l,f),I=f.source,A=0,z=j;if(C&&(O=x(O,"y",""),-1===y(O,"g")&&(O+="g"),z=_(j,f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==b(j,f.lastIndex-1))&&(I="(?: "+I+")",z=" "+z,A++),t=new RegExp("^(?:"+I+")",O)),S&&(t=new RegExp("^"+I+"$(?!\\s)",O)),w&&(r=f.lastIndex),a=i(m,C?t:f,z),C?a?(a.input=_(a.input,A),a[0]=_(a[0],A),a.index=f.lastIndex,f.lastIndex+=a[0].length):f.lastIndex=0:w&&a&&(f.lastIndex=f.global?a.index+a[0].length:r),S&&a&&a.length>1&&i(v,a[0],t,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(a[o]=void 0)})),a&&E)for(a.groups=c=p(null),o=0;o<E.length;o++)c[(u=E[o])[0]]=a[u[1]];return a}),n.exports=g},function(n,e,t){var r=t(275),a=t(276),i=t(277),o=t(278),s=t(279);function l(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,n.exports=l},function(n,e,t){var r=t(189);n.exports=function(n,e){for(var t=n.length;t--;)if(r(n[t][0],e))return t;return-1}},function(n,e,t){var r=t(41)(Object,"create");n.exports=r},function(n,e,t){var r=t(297);n.exports=function(n,e){var t=n.__data__;return r(e)?t["string"==typeof e?"string":"hash"]:t.map}},function(n,e,t){var r=t(129);n.exports=function(n){if("string"==typeof n||r(n))return n;var e=n+"";return"0"==e&&1/n==-1/0?"-0":e}},function(n,e,t){"use strict";t.d(e,"a",(function(){return a}));t(51),t(6),t(102),t(182),t(24),t(18),t(72);var r=t(69);function a(n,e){if(n){if("string"==typeof n)return Object(r.a)(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Object(r.a)(n,e):void 0}}},function(n,e,t){var r,a;
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */void 0===(a="function"==typeof(r=function(){var n,e,t={version:"0.2.0"},r=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function a(n,e,t){return n<e?e:n>t?t:n}function i(n){return 100*(-1+n)}t.configure=function(n){var e,t;for(e in n)void 0!==(t=n[e])&&n.hasOwnProperty(e)&&(r[e]=t);return this},t.status=null,t.set=function(n){var e=t.isStarted();n=a(n,r.minimum,1),t.status=1===n?null:n;var l=t.render(!e),c=l.querySelector(r.barSelector),u=r.speed,p=r.easing;return l.offsetWidth,o((function(e){""===r.positionUsing&&(r.positionUsing=t.getPositioningCSS()),s(c,function(n,e,t){var a;return(a="translate3d"===r.positionUsing?{transform:"translate3d("+i(n)+"%,0,0)"}:"translate"===r.positionUsing?{transform:"translate("+i(n)+"%,0)"}:{"margin-left":i(n)+"%"}).transition="all "+e+"ms "+t,a}(n,u,p)),1===n?(s(l,{transition:"none",opacity:1}),l.offsetWidth,setTimeout((function(){s(l,{transition:"all "+u+"ms linear",opacity:0}),setTimeout((function(){t.remove(),e()}),u)}),u)):setTimeout(e,u)})),this},t.isStarted=function(){return"number"==typeof t.status},t.start=function(){t.status||t.set(0);var n=function(){setTimeout((function(){t.status&&(t.trickle(),n())}),r.trickleSpeed)};return r.trickle&&n(),this},t.done=function(n){return n||t.status?t.inc(.3+.5*Math.random()).set(1):this},t.inc=function(n){var e=t.status;return e?("number"!=typeof n&&(n=(1-e)*a(Math.random()*e,.1,.95)),e=a(e+n,0,.994),t.set(e)):t.start()},t.trickle=function(){return t.inc(Math.random()*r.trickleRate)},n=0,e=0,t.promise=function(r){return r&&"resolved"!==r.state()?(0===e&&t.start(),n++,e++,r.always((function(){0==--e?(n=0,t.done()):t.set((n-e)/n)})),this):this},t.render=function(n){if(t.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var e=document.createElement("div");e.id="nprogress",e.innerHTML=r.template;var a,o=e.querySelector(r.barSelector),l=n?"-100":i(t.status||0),u=document.querySelector(r.parent);return s(o,{transition:"all 0 linear",transform:"translate3d("+l+"%,0,0)"}),r.showSpinner||(a=e.querySelector(r.spinnerSelector))&&d(a),u!=document.body&&c(u,"nprogress-custom-parent"),u.appendChild(e),e},t.remove=function(){u(document.documentElement,"nprogress-busy"),u(document.querySelector(r.parent),"nprogress-custom-parent");var n=document.getElementById("nprogress");n&&d(n)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var n=document.body.style,e="WebkitTransform"in n?"Webkit":"MozTransform"in n?"Moz":"msTransform"in n?"ms":"OTransform"in n?"O":"";return e+"Perspective"in n?"translate3d":e+"Transform"in n?"translate":"margin"};var o=function(){var n=[];function e(){var t=n.shift();t&&t(e)}return function(t){n.push(t),1==n.length&&e()}}(),s=function(){var n=["Webkit","O","Moz","ms"],e={};function t(t){return t=t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(n,e){return e.toUpperCase()})),e[t]||(e[t]=function(e){var t=document.body.style;if(e in t)return e;for(var r,a=n.length,i=e.charAt(0).toUpperCase()+e.slice(1);a--;)if((r=n[a]+i)in t)return r;return e}(t))}function r(n,e,r){e=t(e),n.style[e]=r}return function(n,e){var t,a,i=arguments;if(2==i.length)for(t in e)void 0!==(a=e[t])&&e.hasOwnProperty(t)&&r(n,t,a);else r(n,i[1],i[2])}}();function l(n,e){return("string"==typeof n?n:p(n)).indexOf(" "+e+" ")>=0}function c(n,e){var t=p(n),r=t+e;l(t,e)||(n.className=r.substring(1))}function u(n,e){var t,r=p(n);l(n,e)&&(t=r.replace(" "+e+" "," "),n.className=t.substring(1,t.length-1))}function p(n){return(" "+(n.className||"")+" ").replace(/\s+/gi," ")}function d(n){n&&n.parentNode&&n.parentNode.removeChild(n)}return t})?r.call(e,t,e,n):r)||(n.exports=a)},function(n,e,t){"use strict";var r=t(2),a=t(1),i=t(110).indexOf,o=t(45),s=a([].indexOf),l=!!s&&1/s([1],1,-0)<0,c=o("indexOf");r({target:"Array",proto:!0,forced:l||!c},{indexOf:function(n){var e=arguments.length>1?arguments[1]:void 0;return l?s(this,n,e)||0:i(this,n,e)}})},function(n,e,t){var r=t(2),a=t(15),i=t(82);r({target:"Object",stat:!0,forced:t(3)((function(){i(1)}))},{keys:function(n){return i(a(n))}})},function(n,e,t){var r=t(3),a=t(4),i=/#|\.prototype\./,o=function(n,e){var t=l[s(n)];return t==u||t!=c&&(a(e)?r(e):!!e)},s=o.normalize=function(n){return String(n).replace(i,".").toLowerCase()},l=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";n.exports=o},function(n,e,t){var r=t(73),a=t(46),i=t(62),o=t(5)("iterator");n.exports=function(n){if(null!=n)return a(n,o)||a(n,"@@iterator")||i[r(n)]}},function(n,e,t){var r=t(9),a=t(63).EXISTS,i=t(1),o=t(13).f,s=Function.prototype,l=i(s.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=i(c.exec);r&&!a&&o(s,"name",{configurable:!0,get:function(){try{return u(c,l(this))[1]}catch(n){return""}}})},function(n,e,t){var r=t(3),a=t(0).RegExp,i=r((function(){var n=a("a","y");return n.lastIndex=2,null!=n.exec("abcd")})),o=i||r((function(){return!a("a","y").sticky})),s=i||r((function(){var n=a("^r","gy");return n.lastIndex=2,null!=n.exec("str")}));n.exports={BROKEN_CARET:s,MISSED_STICKY:o,UNSUPPORTED_Y:i}},function(n,e,t){"use strict";t(18);var r=t(1),a=t(14),i=t(90),o=t(3),s=t(5),l=t(23),c=s("species"),u=RegExp.prototype;n.exports=function(n,e,t,p){var d=s(n),f=!o((function(){var e={};return e[d]=function(){return 7},7!=""[n](e)})),h=f&&!o((function(){var e=!1,t=/a/;return"split"===n&&((t={}).constructor={},t.constructor[c]=function(){return t},t.flags="",t[d]=/./[d]),t.exec=function(){return e=!0,null},t[d](""),!e}));if(!f||!h||t){var v=r(/./[d]),m=e(d,""[n],(function(n,e,t,a,o){var s=r(n),l=e.exec;return l===i||l===u.exec?f&&!o?{done:!0,value:v(e,t,a)}:{done:!0,value:s(t,e,a)}:{done:!1}}));a(String.prototype,n,m[0]),a(u,d,m[1])}p&&l(u[d],"sham",!0)}},function(n,e,t){var r=t(0),a=t(11),i=t(7),o=t(4),s=t(21),l=t(90),c=r.TypeError;n.exports=function(n,e){var t=n.exec;if(o(t)){var r=a(t,n,e);return null!==r&&i(r),r}if("RegExp"===s(n))return a(l,n,e);throw c("RegExp#exec called on incompatible receiver")}},function(n,e,t){"use strict";var r=t(2),a=t(1),i=t(59),o=t(19),s=t(45),l=a([].join),c=i!=Object,u=s("join",",");r({target:"Array",proto:!0,forced:c||!u},{join:function(n){return l(o(this),void 0===n?",":n)}})},function(n,e,t){var r=t(0),a=t(108),i=r["__core-js_shared__"]||a("__core-js_shared__",{});n.exports=i},function(n,e,t){var r=t(0),a=Object.defineProperty;n.exports=function(n,e){try{a(r,n,{value:e,configurable:!0,writable:!0})}catch(t){r[n]=e}return e}},function(n,e,t){var r=t(49),a=t(3);n.exports=!!Object.getOwnPropertySymbols&&!a((function(){var n=Symbol();return!String(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(n,e,t){var r=t(19),a=t(111),i=t(20),o=function(n){return function(e,t,o){var s,l=r(e),c=i(l),u=a(o,c);if(n&&t!=t){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((n||u in l)&&l[u]===t)return n||u||0;return!n&&-1}};n.exports={includes:o(!0),indexOf:o(!1)}},function(n,e,t){var r=t(52),a=Math.max,i=Math.min;n.exports=function(n,e){var t=r(n);return t<0?a(t+e,0):i(t,e)}},function(n,e){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(n,e,t){"use strict";var r={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,i=a&&!r.call({1:2},1);e.f=i?function(n){var e=a(this,n);return!!e&&e.enumerable}:r},function(n,e,t){var r=t(10),a=t(159),i=t(39),o=t(13);n.exports=function(n,e,t){for(var s=a(e),l=o.f,c=i.f,u=0;u<s.length;u++){var p=s[u];r(n,p)||t&&r(t,p)||l(n,p,c(e,p))}}},function(n,e){e.f=Object.getOwnPropertySymbols},function(n,e,t){var r=t(0),a=t(10),i=t(4),o=t(15),s=t(83),l=t(161),c=s("IE_PROTO"),u=r.Object,p=u.prototype;n.exports=l?u.getPrototypeOf:function(n){var e=o(n);if(a(e,c))return e[c];var t=e.constructor;return i(t)&&e instanceof t?t.prototype:e instanceof u?p:null}},function(n,e,t){var r={};r[t(5)("toStringTag")]="z",n.exports="[object z]"===String(r)},function(n,e,t){var r=t(7),a=t(166),i=t(5)("species");n.exports=function(n,e){var t,o=r(n).constructor;return void 0===o||null==(t=r(o)[i])?e:a(t)}},function(n,e,t){var r=t(0),a=t(111),i=t(20),o=t(66),s=r.Array,l=Math.max;n.exports=function(n,e,t){for(var r=i(n),c=a(e,r),u=a(void 0===t?r:t,r),p=s(l(u-c,0)),d=0;c<u;c++,d++)o(p,d,n[c]);return p.length=d,p}},function(n,e,t){t(181)("iterator")},function(n,e,t){"use strict";var r=t(171).charAt;n.exports=function(n,e,t){return e+(t?r(n,e).length:1)}},function(n,e,t){var r=t(269),a=t(48),i=Object.prototype,o=i.hasOwnProperty,s=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(n){return a(n)&&o.call(n,"callee")&&!s.call(n,"callee")};n.exports=l},function(n,e,t){var r=t(41)(t(28),"Map");n.exports=r},function(n,e){n.exports=function(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)}},function(n,e,t){var r=t(289),a=t(296),i=t(298),o=t(299),s=t(300);function l(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,n.exports=l},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n){t[++e]=n})),t}},function(n,e){n.exports=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991}},function(n,e,t){var r=t(26),a=t(129),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;n.exports=function(n,e){if(r(n))return!1;var t=typeof n;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=n&&!a(n))||(o.test(n)||!i.test(n)||null!=e&&n in Object(e))}},function(n,e,t){var r=t(58),a=t(48);n.exports=function(n){return"symbol"==typeof n||a(n)&&"[object Symbol]"==r(n)}},function(n,e){n.exports=function(n){return n}},function(n,e,t){"use strict";t.d(e,"a",(function(){return a}));t(75);t(74),t(89),t(6),t(120),t(24),t(31);var r=t(96);t(40),t(25);function a(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,a,i=[],o=!0,s=!1;try{for(t=t.call(n);!(o=(r=t.next()).done)&&(i.push(r.value),!e||i.length!==e);o=!0);}catch(n){s=!0,a=n}finally{try{o||null==t.return||t.return()}finally{if(s)throw a}}return i}}(n,e)||Object(r.a)(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(n,e,t){"use strict";var r=t(34),a=t(11),i=t(1),o=t(104),s=t(144),l=t(7),c=t(17),u=t(118),p=t(121),d=t(50),f=t(12),h=t(46),v=t(119),m=t(105),g=t(90),b=t(103),y=t(3),x=b.UNSUPPORTED_Y,_=Math.min,w=[].push,k=i(/./.exec),S=i(w),j=i("".slice);o("split",(function(n,e,t){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(n,t){var i=f(c(this)),o=void 0===t?4294967295:t>>>0;if(0===o)return[];if(void 0===n)return[i];if(!s(n))return a(e,i,n,o);for(var l,u,p,d=[],h=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(n.sticky?"y":""),m=0,b=new RegExp(n.source,h+"g");(l=a(g,b,i))&&!((u=b.lastIndex)>m&&(S(d,j(i,m,l.index)),l.length>1&&l.index<i.length&&r(w,d,v(l,1)),p=l[0].length,m=u,d.length>=o));)b.lastIndex===l.index&&b.lastIndex++;return m===i.length?!p&&k(b,"")||S(d,""):S(d,j(i,m)),d.length>o?v(d,0,o):d}:"0".split(void 0,0).length?function(n,t){return void 0===n&&0===t?[]:a(e,this,n,t)}:e,[function(e,t){var r=c(this),o=null==e?void 0:h(e,n);return o?a(o,e,r,t):a(i,f(r),e,t)},function(n,r){var a=l(this),o=f(n),s=t(i,a,o,r,i!==e);if(s.done)return s.value;var c=u(a,RegExp),h=a.unicode,v=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(x?"g":"y"),g=new c(x?"^(?:"+a.source+")":a,v),b=void 0===r?4294967295:r>>>0;if(0===b)return[];if(0===o.length)return null===m(g,o)?[o]:[];for(var y=0,w=0,k=[];w<o.length;){g.lastIndex=x?0:w;var T,E=m(g,x?j(o,w):o);if(null===E||(T=_(d(g.lastIndex+(x?w:0)),o.length))===y)w=p(o,w,h);else{if(S(k,j(o,y,w)),k.length===b)return k;for(var C=1;C<=E.length-1;C++)if(S(k,E[C]),k.length===b)return k;w=y=T}}return S(k,j(o,y)),k}]}),!!y((function(){var n=/(?:)/,e=n.exec;n.exec=function(){return e.apply(this,arguments)};var t="ab".split(n);return 2!==t.length||"a"!==t[0]||"b"!==t[1]})),x)},function(n,e,t){"use strict";var r=t(2),a=t(54).some;r({target:"Array",proto:!0,forced:!t(45)("some")},{some:function(n){return a(this,n,arguments.length>1?arguments[1]:void 0)}})},function(n,e,t){"use strict";var r=t(11),a=t(104),i=t(7),o=t(50),s=t(12),l=t(17),c=t(46),u=t(121),p=t(105);a("match",(function(n,e,t){return[function(e){var t=l(this),a=null==e?void 0:c(e,n);return a?r(a,e,t):new RegExp(e)[n](s(t))},function(n){var r=i(this),a=s(n),l=t(e,r,a);if(l.done)return l.value;if(!r.global)return p(r,a);var c=r.unicode;r.lastIndex=0;for(var d,f=[],h=0;null!==(d=p(r,a));){var v=s(d[0]);f[h]=v,""===v&&(r.lastIndex=u(a,o(r.lastIndex),c)),h++}return 0===h?null:f}]}))},function(n,e,t){var r=t(5),a=t(32),i=t(13),o=r("unscopables"),s=Array.prototype;null==s[o]&&i.f(s,o,{configurable:!0,value:a(null)}),n.exports=function(n){s[o][n]=!0}},function(n,e,t){var r=function(n){"use strict";var e=Object.prototype,t=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(n,e,t){return Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}),n[e]}try{s({},"")}catch(n){s=function(n,e,t){return n[e]=t}}function l(n,e,t,r){var a=e&&e.prototype instanceof p?e:p,i=Object.create(a.prototype),o=new k(r||[]);return i._invoke=function(n,e,t){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return j()}for(t.method=a,t.arg=i;;){var o=t.delegate;if(o){var s=x(o,t);if(s){if(s===u)continue;return s}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if("suspendedStart"===r)throw r="completed",t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);r="executing";var l=c(n,e,t);if("normal"===l.type){if(r=t.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:t.done}}"throw"===l.type&&(r="completed",t.method="throw",t.arg=l.arg)}}}(n,t,o),i}function c(n,e,t){try{return{type:"normal",arg:n.call(e,t)}}catch(n){return{type:"throw",arg:n}}}n.wrap=l;var u={};function p(){}function d(){}function f(){}var h={};s(h,a,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(S([])));m&&m!==e&&t.call(m,a)&&(h=m);var g=f.prototype=p.prototype=Object.create(h);function b(n){["next","throw","return"].forEach((function(e){s(n,e,(function(n){return this._invoke(e,n)}))}))}function y(n,e){var r;this._invoke=function(a,i){function o(){return new e((function(r,o){!function r(a,i,o,s){var l=c(n[a],n,i);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==typeof p&&t.call(p,"__await")?e.resolve(p.__await).then((function(n){r("next",n,o,s)}),(function(n){r("throw",n,o,s)})):e.resolve(p).then((function(n){u.value=n,o(u)}),(function(n){return r("throw",n,o,s)}))}s(l.arg)}(a,i,r,o)}))}return r=r?r.then(o,o):o()}}function x(n,e){var t=n.iterator[e.method];if(void 0===t){if(e.delegate=null,"throw"===e.method){if(n.iterator.return&&(e.method="return",e.arg=void 0,x(n,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(t,n.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var a=r.arg;return a?a.done?(e[n.resultName]=a.value,e.next=n.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function _(n){var e={tryLoc:n[0]};1 in n&&(e.catchLoc=n[1]),2 in n&&(e.finallyLoc=n[2],e.afterLoc=n[3]),this.tryEntries.push(e)}function w(n){var e=n.completion||{};e.type="normal",delete e.arg,n.completion=e}function k(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(_,this),this.reset(!0)}function S(n){if(n){var e=n[a];if(e)return e.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var r=-1,i=function e(){for(;++r<n.length;)if(t.call(n,r))return e.value=n[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=f,s(g,"constructor",f),s(f,"constructor",d),d.displayName=s(f,o,"GeneratorFunction"),n.isGeneratorFunction=function(n){var e="function"==typeof n&&n.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,f):(n.__proto__=f,s(n,o,"GeneratorFunction")),n.prototype=Object.create(g),n},n.awrap=function(n){return{__await:n}},b(y.prototype),s(y.prototype,i,(function(){return this})),n.AsyncIterator=y,n.async=function(e,t,r,a,i){void 0===i&&(i=Promise);var o=new y(l(e,t,r,a),i);return n.isGeneratorFunction(t)?o:o.next().then((function(n){return n.done?n.value:o.next()}))},b(g),s(g,o,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),n.keys=function(n){var e=[];for(var t in n)e.push(t);return e.reverse(),function t(){for(;e.length;){var r=e.pop();if(r in n)return t.value=r,t.done=!1,t}return t.done=!0,t}},n.values=S,k.prototype={constructor:k,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!n)for(var e in this)"t"===e.charAt(0)&&t.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var e=this;function r(t,r){return o.type="throw",o.arg=n,e.next=t,r&&(e.method="next",e.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=t.call(i,"catchLoc"),l=t.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(n,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&t.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===n||"continue"===n)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=n,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(o)},complete:function(n,e){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&e&&(this.next=e),u},finish:function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.finallyLoc===n)return this.complete(t.completion,t.afterLoc),w(t),u}},catch:function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.tryLoc===n){var r=t.completion;if("throw"===r.type){var a=r.arg;w(t)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(n,e,t){return this.delegate={iterator:S(n),resultName:e,nextLoc:t},"next"===this.method&&(this.arg=void 0),u}},n}(n.exports);try{regeneratorRuntime=r}catch(n){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(n,e,t){var r=t(2),a=t(9),i=t(13).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!a},{defineProperty:i})},function(n,e,t){"use strict";var r=t(1),a=t(63).PROPER,i=t(14),o=t(7),s=t(33),l=t(12),c=t(3),u=t(145),p=RegExp.prototype,d=p.toString,f=r(u),h=c((function(){return"/a/b"!=d.call({source:"a",flags:"b"})})),v=a&&"toString"!=d.name;(h||v)&&i(RegExp.prototype,"toString",(function(){var n=o(this),e=l(n.source),t=n.flags;return"/"+e+"/"+l(void 0===t&&s(p,n)&&!("flags"in p)?f(n):t)}),{unsafe:!0})},function(n,e,t){"use strict";var r=t(19),a=t(135),i=t(62),o=t(36),s=t(13).f,l=t(158),c=t(22),u=t(9),p=o.set,d=o.getterFor("Array Iterator");n.exports=l(Array,"Array",(function(n,e){p(this,{type:"Array Iterator",target:r(n),index:0,kind:e})}),(function(){var n=d(this),e=n.target,t=n.kind,r=n.index++;return!e||r>=e.length?(n.target=void 0,{value:void 0,done:!0}):"keys"==t?{value:r,done:!1}:"values"==t?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");var f=i.Arguments=i.Array;if(a("keys"),a("values"),a("entries"),!c&&u&&"values"!==f.name)try{s(f,"name",{value:"values"})}catch(n){}},function(n,e,t){var r=t(9),a=t(153),i=t(13),o=t(7),s=t(19),l=t(82);e.f=r&&!a?Object.defineProperties:function(n,e){o(n);for(var t,r=s(e),a=l(e),c=a.length,u=0;c>u;)i.f(n,t=a[u++],r[t]);return n}},function(n,e,t){var r=t(0),a=t(11),i=t(35),o=t(7),s=t(81),l=t(101),c=r.TypeError;n.exports=function(n,e){var t=arguments.length<2?l(n):e;if(i(t))return o(a(t,n));throw c(s(n)+" is not iterable")}},function(n,e,t){var r=t(0).TypeError;n.exports=function(n,e){if(n<e)throw r("Not enough arguments");return n}},function(n,e,t){var r=t(250);n.exports=function(n,e){return new(r(n))(0===e?0:e)}},function(n,e,t){var r=t(8),a=t(21),i=t(5)("match");n.exports=function(n){var e;return r(n)&&(void 0!==(e=n[i])?!!e:"RegExp"==a(n))}},function(n,e,t){"use strict";var r=t(7);n.exports=function(){var n=r(this),e="";return n.global&&(e+="g"),n.ignoreCase&&(e+="i"),n.multiline&&(e+="m"),n.dotAll&&(e+="s"),n.unicode&&(e+="u"),n.sticky&&(e+="y"),e}},function(n,e,t){var r=t(4),a=t(8),i=t(64);n.exports=function(n,e,t){var o,s;return i&&r(o=e.constructor)&&o!==t&&a(s=o.prototype)&&s!==t.prototype&&i(n,s),n}},function(n,e){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(n,e){var t=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,i=/^0o[0-7]+$/i,o=parseInt,s="object"==typeof global&&global&&global.Object===Object&&global,l="object"==typeof self&&self&&self.Object===Object&&self,c=s||l||Function("return this")(),u=Object.prototype.toString,p=Math.max,d=Math.min,f=function(){return c.Date.now()};function h(n){var e=typeof n;return!!n&&("object"==e||"function"==e)}function v(n){if("number"==typeof n)return n;if(function(n){return"symbol"==typeof n||function(n){return!!n&&"object"==typeof n}(n)&&"[object Symbol]"==u.call(n)}(n))return NaN;if(h(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=h(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(t,"");var s=a.test(n);return s||i.test(n)?o(n.slice(2),s?2:8):r.test(n)?NaN:+n}n.exports=function(n,e,t){var r,a,i,o,s,l,c=0,u=!1,m=!1,g=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function b(e){var t=r,i=a;return r=a=void 0,c=e,o=n.apply(i,t)}function y(n){return c=n,s=setTimeout(_,e),u?b(n):o}function x(n){var t=n-l;return void 0===l||t>=e||t<0||m&&n-c>=i}function _(){var n=f();if(x(n))return w(n);s=setTimeout(_,function(n){var t=e-(n-l);return m?d(t,i-(n-c)):t}(n))}function w(n){return s=void 0,g&&r?b(n):(r=a=void 0,o)}function k(){var n=f(),t=x(n);if(r=arguments,a=this,l=n,t){if(void 0===s)return y(l);if(m)return s=setTimeout(_,e),b(l)}return void 0===s&&(s=setTimeout(_,e)),o}return e=v(e)||0,h(t)&&(u=!!t.leading,i=(m="maxWait"in t)?p(v(t.maxWait)||0,e):i,g="trailing"in t?!!t.trailing:g),k.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=a=s=void 0},k.flush=function(){return void 0===s?o:w(f())},k}},function(n,e,t){var r=t(1),a=t(17),i=t(12),o=t(150),s=r("".replace),l="["+o+"]",c=RegExp("^"+l+l+"*"),u=RegExp(l+l+"*$"),p=function(n){return function(e){var t=i(a(e));return 1&n&&(t=s(t,c,"")),2&n&&(t=s(t,u,"")),t}};n.exports={start:p(1),end:p(2),trim:p(3)}},function(n,e){n.exports="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff"},function(n,e,t){var r=t(1),a=t(14),i=Date.prototype,o=r(i.toString),s=r(i.getTime);"Invalid Date"!=String(new Date(NaN))&&a(i,"toString",(function(){var n=s(this);return n==n?o(this):"Invalid Date"}))},function(n,e,t){var r=t(109);n.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(n,e,t){var r=t(9),a=t(3);n.exports=r&&a((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(n,e,t){var r=t(9),a=t(3),i=t(78);n.exports=!r&&!a((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(n,e,t){var r=t(0),a=t(11),i=t(8),o=t(80),s=t(46),l=t(234),c=t(5),u=r.TypeError,p=c("toPrimitive");n.exports=function(n,e){if(!i(n)||o(n))return n;var t,r=s(n,p);if(r){if(void 0===e&&(e="default"),t=a(r,n,e),!i(t)||o(t))return t;throw u("Can't convert object to primitive value")}return void 0===e&&(e="number"),l(n,e)}},function(n,e,t){var r=t(1),a=t(10),i=t(19),o=t(110).indexOf,s=t(61),l=r([].push);n.exports=function(n,e){var t,r=i(n),c=0,u=[];for(t in r)!a(s,t)&&a(r,t)&&l(u,t);for(;e.length>c;)a(r,t=e[c++])&&(~o(u,t)||l(u,t));return u}},function(n,e,t){var r=t(16);n.exports=r("document","documentElement")},function(n,e,t){"use strict";var r=t(2),a=t(11),i=t(22),o=t(63),s=t(4),l=t(221),c=t(116),u=t(64),p=t(56),d=t(23),f=t(14),h=t(5),v=t(62),m=t(160),g=o.PROPER,b=o.CONFIGURABLE,y=m.IteratorPrototype,x=m.BUGGY_SAFARI_ITERATORS,_=h("iterator"),w=function(){return this};n.exports=function(n,e,t,o,h,m,k){l(t,e,o);var S,j,T,E=function(n){if(n===h&&z)return z;if(!x&&n in I)return I[n];switch(n){case"keys":case"values":case"entries":return function(){return new t(this,n)}}return function(){return new t(this)}},C=e+" Iterator",O=!1,I=n.prototype,A=I[_]||I["@@iterator"]||h&&I[h],z=!x&&A||E(h),R="Array"==e&&I.entries||A;if(R&&(S=c(R.call(new n)))!==Object.prototype&&S.next&&(i||c(S)===y||(u?u(S,y):s(S[_])||f(S,_,w)),p(S,C,!0,!0),i&&(v[C]=w)),g&&"values"==h&&A&&"values"!==A.name&&(!i&&b?d(I,"name","values"):(O=!0,z=function(){return a(A,this)})),h)if(j={values:E("values"),keys:m?z:E("keys"),entries:E("entries")},k)for(T in j)(x||O||!(T in I))&&f(I,T,j[T]);else r({target:e,proto:!0,forced:x||O},j);return i&&!k||I[_]===z||f(I,_,z,{name:h}),v[e]=z,j}},function(n,e,t){var r=t(16),a=t(1),i=t(55),o=t(115),s=t(7),l=a([].concat);n.exports=r("Reflect","ownKeys")||function(n){var e=i.f(s(n)),t=o.f;return t?l(e,t(n)):e}},function(n,e,t){"use strict";var r,a,i,o=t(3),s=t(4),l=t(32),c=t(116),u=t(14),p=t(5),d=t(22),f=p("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(a=c(c(i)))!==Object.prototype&&(r=a):h=!0),null==r||o((function(){var n={};return r[f].call(n)!==n}))?r={}:d&&(r=l(r)),s(r[f])||u(r,f,(function(){return this})),n.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},function(n,e,t){var r=t(3);n.exports=!r((function(){function n(){}return n.prototype.constructor=null,Object.getPrototypeOf(new n)!==n.prototype}))},function(n,e,t){var r=t(0);n.exports=r.Promise},function(n,e,t){var r=t(5),a=t(62),i=r("iterator"),o=Array.prototype;n.exports=function(n){return void 0!==n&&(a.Array===n||o[i]===n)}},function(n,e,t){var r=t(11),a=t(7),i=t(46);n.exports=function(n,e,t){var o,s;a(n);try{if(!(o=i(n,"return"))){if("throw"===e)throw t;return t}o=r(o,n)}catch(n){s=!0,o=n}if("throw"===e)throw t;if(s)throw o;return a(o),t}},function(n,e,t){var r=t(5)("iterator"),a=!1;try{var i=0,o={next:function(){return{done:!!i++}},return:function(){a=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(n){}n.exports=function(n,e){if(!e&&!a)return!1;var t=!1;try{var i={};i[r]=function(){return{next:function(){return{done:t=!0}}}},n(i)}catch(n){}return t}},function(n,e,t){var r=t(0),a=t(85),i=t(81),o=r.TypeError;n.exports=function(n){if(a(n))return n;throw o(i(n)+" is not a constructor")}},function(n,e,t){var r,a,i,o,s=t(0),l=t(34),c=t(53),u=t(4),p=t(10),d=t(3),f=t(157),h=t(65),v=t(78),m=t(142),g=t(168),b=t(86),y=s.setImmediate,x=s.clearImmediate,_=s.process,w=s.Dispatch,k=s.Function,S=s.MessageChannel,j=s.String,T=0,E={};try{r=s.location}catch(n){}var C=function(n){if(p(E,n)){var e=E[n];delete E[n],e()}},O=function(n){return function(){C(n)}},I=function(n){C(n.data)},A=function(n){s.postMessage(j(n),r.protocol+"//"+r.host)};y&&x||(y=function(n){m(arguments.length,1);var e=u(n)?n:k(n),t=h(arguments,1);return E[++T]=function(){l(e,void 0,t)},a(T),T},x=function(n){delete E[n]},b?a=function(n){_.nextTick(O(n))}:w&&w.now?a=function(n){w.now(O(n))}:S&&!g?(o=(i=new S).port2,i.port1.onmessage=I,a=c(o.postMessage,o)):s.addEventListener&&u(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!d(A)?(a=A,s.addEventListener("message",I,!1)):a="onreadystatechange"in v("script")?function(n){f.appendChild(v("script")).onreadystatechange=function(){f.removeChild(this),C(n)}}:function(n){setTimeout(O(n),0)}),n.exports={set:y,clear:x}},function(n,e,t){var r=t(27);n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},function(n,e,t){var r=t(7),a=t(8),i=t(170);n.exports=function(n,e){if(r(n),a(e)&&e.constructor===n)return e;var t=i.f(n);return(0,t.resolve)(e),t.promise}},function(n,e,t){"use strict";var r=t(35),a=function(n){var e,t;this.promise=new n((function(n,r){if(void 0!==e||void 0!==t)throw TypeError("Bad Promise constructor");e=n,t=r})),this.resolve=r(e),this.reject=r(t)};n.exports.f=function(n){return new a(n)}},function(n,e,t){var r=t(1),a=t(52),i=t(12),o=t(17),s=r("".charAt),l=r("".charCodeAt),c=r("".slice),u=function(n){return function(e,t){var r,u,p=i(o(e)),d=a(t),f=p.length;return d<0||d>=f?n?"":void 0:(r=l(p,d))<55296||r>56319||d+1===f||(u=l(p,d+1))<56320||u>57343?n?s(p,d):r:n?c(p,d,d+2):u-56320+(r-55296<<10)+65536}};n.exports={codeAt:u(!1),charAt:u(!0)}},function(n,e){n.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(n,e,t){var r=t(78)("span").classList,a=r&&r.constructor&&r.constructor.prototype;n.exports=a===Object.prototype?void 0:a},function(n,e,t){var r=t(2),a=t(3),i=t(15),o=t(116),s=t(161);r({target:"Object",stat:!0,forced:a((function(){o(1)})),sham:!s},{getPrototypeOf:function(n){return o(i(n))}})},function(n,e,t){var r=t(0),a=t(144),i=r.TypeError;n.exports=function(n){if(a(n))throw i("The method doesn't accept regular expressions");return n}},function(n,e,t){var r=t(5)("match");n.exports=function(n){var e=/./;try{"/./"[n](e)}catch(t){try{return e[r]=!1,"/./"[n](e)}catch(n){}}return!1}},function(n,e,t){"use strict";var r=t(54).forEach,a=t(45)("forEach");n.exports=a?[].forEach:function(n){return r(this,n,arguments.length>1?arguments[1]:void 0)}},function(n,e,t){var r=t(3);n.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(n,e,t){var r=t(21),a=t(19),i=t(55).f,o=t(119),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(n){return s&&"Window"==r(n)?function(n){try{return i(n)}catch(n){return o(s)}}(n):i(a(n))}},function(n,e,t){var r=t(5);e.f=r},function(n,e,t){var r=t(258),a=t(10),i=t(180),o=t(13).f;n.exports=function(n){var e=r.Symbol||(r.Symbol={});a(e,n)||o(e,n,{value:i.f(n)})}},function(n,e,t){var r=t(2),a=t(259);r({target:"Array",stat:!0,forced:!t(165)((function(n){Array.from(n)}))},{from:a})},function(n,e,t){var r=t(12);n.exports=function(n,e){return void 0===n?arguments.length<2?"":e:r(n)}},function(n,e,t){t(2)({target:"Object",stat:!0,sham:!t(9)},{create:t(32)})},function(n,e,t){var r=t(2),a=t(0),i=t(16),o=t(34),s=t(1),l=t(3),c=a.Array,u=i("JSON","stringify"),p=s(/./.exec),d=s("".charAt),f=s("".charCodeAt),h=s("".replace),v=s(1..toString),m=/[\uD800-\uDFFF]/g,g=/^[\uD800-\uDBFF]$/,b=/^[\uDC00-\uDFFF]$/,y=function(n,e,t){var r=d(t,e-1),a=d(t,e+1);return p(g,n)&&!p(b,a)||p(b,n)&&!p(g,r)?"\\u"+v(f(n,0),16):n},x=l((function(){return'"\\udf06\\ud834"'!==u("\udf06\ud834")||'"\\udead"'!==u("\udead")}));u&&r({target:"JSON",stat:!0,forced:x},{stringify:function(n,e,t){for(var r=0,a=arguments.length,i=c(a);r<a;r++)i[r]=arguments[r];var s=o(u,null,i);return"string"==typeof s?h(s,m,y):s}})},function(n,e){n.exports=function(n,e){for(var t=-1,r=e.length,a=n.length;++t<r;)n[a+t]=e[t];return n}},function(n,e){var t="object"==typeof global&&global&&global.Object===Object&&global;n.exports=t},function(n,e,t){var r=t(91),a=t(280),i=t(281),o=t(282),s=t(283),l=t(284);function c(n){var e=this.__data__=new r(n);this.size=e.size}c.prototype.clear=a,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=l,n.exports=c},function(n,e){n.exports=function(n,e){return n===e||n!=n&&e!=e}},function(n,e,t){var r=t(58),a=t(124);n.exports=function(n){if(!a(n))return!1;var e=r(n);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(n,e){var t=Function.prototype.toString;n.exports=function(n){if(null!=n){try{return t.call(n)}catch(n){}try{return n+""}catch(n){}}return""}},function(n,e,t){var r=t(301),a=t(48);n.exports=function n(e,t,i,o,s){return e===t||(null==e||null==t||!a(e)&&!a(t)?e!=e&&t!=t:r(e,t,i,o,n,s))}},function(n,e,t){var r=t(194),a=t(304),i=t(195);n.exports=function(n,e,t,o,s,l){var c=1&t,u=n.length,p=e.length;if(u!=p&&!(c&&p>u))return!1;var d=l.get(n),f=l.get(e);if(d&&f)return d==e&&f==n;var h=-1,v=!0,m=2&t?new r:void 0;for(l.set(n,e),l.set(e,n);++h<u;){var g=n[h],b=e[h];if(o)var y=c?o(b,g,h,e,n,l):o(g,b,h,n,e,l);if(void 0!==y){if(y)continue;v=!1;break}if(m){if(!a(e,(function(n,e){if(!i(m,e)&&(g===n||s(g,n,t,o,l)))return m.push(e)}))){v=!1;break}}else if(g!==b&&!s(g,b,t,o,l)){v=!1;break}}return l.delete(n),l.delete(e),v}},function(n,e,t){var r=t(125),a=t(302),i=t(303);function o(n){var e=-1,t=null==n?0:n.length;for(this.__data__=new r;++e<t;)this.add(n[e])}o.prototype.add=o.prototype.push=a,o.prototype.has=i,n.exports=o},function(n,e){n.exports=function(n,e){return n.has(e)}},function(n,e,t){var r=t(314),a=t(320),i=t(200);n.exports=function(n){return i(n)?r(n):a(n)}},function(n,e,t){(function(n){var r=t(28),a=t(316),i=e&&!e.nodeType&&e,o=i&&"object"==typeof n&&n&&!n.nodeType&&n,s=o&&o.exports===i?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||a;n.exports=l}).call(this,t(147)(n))},function(n,e){var t=/^(?:0|[1-9]\d*)$/;n.exports=function(n,e){var r=typeof n;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&t.test(n))&&n>-1&&n%1==0&&n<e}},function(n,e,t){var r=t(317),a=t(318),i=t(319),o=i&&i.isTypedArray,s=o?a(o):r;n.exports=s},function(n,e,t){var r=t(190),a=t(127);n.exports=function(n){return null!=n&&a(n.length)&&!r(n)}},function(n,e,t){var r=t(41)(t(28),"Set");n.exports=r},function(n,e,t){var r=t(124);n.exports=function(n){return n==n&&!r(n)}},function(n,e){n.exports=function(n,e){return function(t){return null!=t&&(t[n]===e&&(void 0!==e||n in Object(t)))}}},function(n,e,t){var r=t(205),a=t(95);n.exports=function(n,e){for(var t=0,i=(e=r(e,n)).length;null!=n&&t<i;)n=n[a(e[t++])];return t&&t==i?n:void 0}},function(n,e,t){var r=t(26),a=t(128),i=t(331),o=t(334);n.exports=function(n,e){return r(n)?n:a(n,e)?[n]:i(o(n))}},function(n,e,t){"use strict";var r=t(0),a=t(1),i=t(35),o=t(8),s=t(10),l=t(65),c=t(60),u=r.Function,p=a([].concat),d=a([].join),f={},h=function(n,e,t){if(!s(f,e)){for(var r=[],a=0;a<e;a++)r[a]="a["+a+"]";f[e]=u("C,a","return new C("+d(r,",")+")")}return f[e](n,t)};n.exports=c?u.bind:function(n){var e=i(this),t=e.prototype,r=l(arguments,1),a=function(){var t=p(r,l(arguments));return this instanceof a?h(e,t.length,t):e.apply(n,t)};return o(t)&&(a.prototype=t),a}},function(n,e,t){"use strict";var r=t(2),a=t(367).start;r({target:"String",proto:!0,forced:t(369)},{padStart:function(n){return a(this,n,arguments.length>1?arguments[1]:void 0)}})},function(n,e,t){},function(n,e,t){},function(n,e,t){t(2)({target:"Object",stat:!0},{setPrototypeOf:t(64)})},function(n,e,t){var r=t(2),a=t(16),i=t(34),o=t(206),s=t(166),l=t(7),c=t(8),u=t(32),p=t(3),d=a("Reflect","construct"),f=Object.prototype,h=[].push,v=p((function(){function n(){}return!(d((function(){}),[],n)instanceof n)})),m=!p((function(){d((function(){}))})),g=v||m;r({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function(n,e){s(n),l(e);var t=arguments.length<3?n:s(arguments[2]);if(m&&!v)return d(n,e,t);if(n==t){switch(e.length){case 0:return new n;case 1:return new n(e[0]);case 2:return new n(e[0],e[1]);case 3:return new n(e[0],e[1],e[2]);case 4:return new n(e[0],e[1],e[2],e[3])}var r=[null];return i(h,r,e),new(i(o,n,r))}var a=t.prototype,p=u(c(a)?a:f),g=i(n,p,e);return c(g)?g:p}})},function(n,e,t){var r=t(2),a=t(0),i=t(56);r({global:!0},{Reflect:{}}),i(a.Reflect,"Reflect",!0)},function(n,e,t){},function(n,e,t){},function(n,e,t){var r=t(267),a=t(272),i=t(343),o=t(351),s=t(360),l=t(229),c=i((function(n){var e=l(n);return s(e)&&(e=void 0),o(r(n,1,s,!0),a(e,2))}));n.exports=c},function(n,e,t){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var r=/["'&<>]/;n.exports=function(n){var e,t=""+n,a=r.exec(t);if(!a)return t;var i="",o=0,s=0;for(o=a.index;o<t.length;o++){switch(t.charCodeAt(o)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#39;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}s!==o&&(i+=t.substring(s,o)),s=o+1,i+=e}return s!==o?i+t.substring(s,o):i}},function(n,e,t){"use strict";t.r(e);var r={name:"CodeBlock",props:{title:{type:String,required:!0},active:{type:Boolean,default:!1}}},a=(t(370),t(29)),i=Object(a.a)(r,(function(){var n=this.$createElement;return(this._self._c||n)("div",{staticClass:"theme-code-block",class:{"theme-code-block__active":this.active}},[this._t("default")],2)}),[],!1,null,"4f1e9d0c",null);e.default=i.exports},function(n,e,t){"use strict";t.r(e);t(37),t(6),t(38),t(43),t(30);var r={name:"CodeGroup",data:function(){return{codeTabs:[],activeCodeTabIndex:-1}},watch:{activeCodeTabIndex:function(n){this.codeTabs.forEach((function(n){n.elm.classList.remove("theme-code-block__active")})),this.codeTabs[n].elm.classList.add("theme-code-block__active")}},mounted:function(){var n=this;this.codeTabs=(this.$slots.default||[]).filter((function(n){return Boolean(n.componentOptions)})).map((function(e,t){return""===e.componentOptions.propsData.active&&(n.activeCodeTabIndex=t),{title:e.componentOptions.propsData.title,elm:e.elm}})),-1===this.activeCodeTabIndex&&this.codeTabs.length>0&&(this.activeCodeTabIndex=0)},methods:{changeCodeTab:function(n){this.activeCodeTabIndex=n}}},a=(t(371),t(29)),i=Object(a.a)(r,(function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"theme-code-group"},[t("div",{staticClass:"theme-code-group__nav"},[t("ul",{staticClass:"theme-code-group__ul"},n._l(n.codeTabs,(function(e,r){return t("li",{key:e.title,staticClass:"theme-code-group__li"},[t("button",{staticClass:"theme-code-group__nav-tab",class:{"theme-code-group__nav-tab-active":r===n.activeCodeTabIndex},on:{click:function(e){return n.changeCodeTab(r)}}},[n._v("\n            "+n._s(e.title)+"\n          ")])])})),0)]),n._v(" "),n._t("default"),n._v(" "),n.codeTabs.length<1?t("pre",{staticClass:"pre-blank"},[n._v("// Make sure to add code blocks to your code group")]):n._e()],2)}),[],!1,null,"2f5f1757",null);e.default=i.exports},function(n,e,t){"use strict";var r=t(9),a=t(0),i=t(1),o=t(100),s=t(14),l=t(10),c=t(146),u=t(33),p=t(80),d=t(155),f=t(3),h=t(55).f,v=t(39).f,m=t(13).f,g=t(365),b=t(149).trim,y=a.Number,x=y.prototype,_=a.TypeError,w=i("".slice),k=i("".charCodeAt),S=function(n){var e=d(n,"number");return"bigint"==typeof e?e:j(e)},j=function(n){var e,t,r,a,i,o,s,l,c=d(n,"number");if(p(c))throw _("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=b(c),43===(e=k(c,0))||45===e){if(88===(t=k(c,2))||120===t)return NaN}else if(48===e){switch(k(c,1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+c}for(o=(i=w(c,2)).length,s=0;s<o;s++)if((l=k(i,s))<48||l>a)return NaN;return parseInt(i,r)}return+c};if(o("Number",!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var T,E=function(n){var e=arguments.length<1?0:y(S(n)),t=this;return u(x,t)&&f((function(){g(t)}))?c(Object(e),t,E):e},C=r?h(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),O=0;C.length>O;O++)l(y,T=C[O])&&!l(E,T)&&m(E,T,v(y,T));E.prototype=x,x.constructor=E,s(a,"Number",E)}},function(n,e,t){var r=t(3),a=t(0).RegExp;n.exports=r((function(){var n=a(".","s");return!(n.dotAll&&n.exec("\n")&&"s"===n.flags)}))},function(n,e,t){"use strict";var r=t(160).IteratorPrototype,a=t(32),i=t(47),o=t(56),s=t(62),l=function(){return this};n.exports=function(n,e,t,c){var u=e+" Iterator";return n.prototype=a(r,{next:i(+!c,t)}),o(n,u,!1,!0),s[u]=l,n}},function(n,e,t){var r=t(14);n.exports=function(n,e,t){for(var a in e)r(n,a,e[a],t);return n}},function(n,e,t){"use strict";var r=t(16),a=t(13),i=t(5),o=t(9),s=i("species");n.exports=function(n){var e=r(n),t=a.f;o&&e&&!e[s]&&t(e,s,{configurable:!0,get:function(){return this}})}},function(n,e,t){var r=t(0),a=t(33),i=r.TypeError;n.exports=function(n,e){if(a(e,n))return n;throw i("Incorrect invocation")}},function(n,e,t){var r=t(2),a=t(9),i=t(159),o=t(19),s=t(39),l=t(66);r({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(n){for(var e,t,r=o(n),a=s.f,c=i(r),u={},p=0;c.length>p;)void 0!==(t=a(r,e=c[p++]))&&l(u,e,t);return u}})},function(n,e,t){var r=t(3),a=t(0).RegExp;n.exports=r((function(){var n=a("(?<a>b)","g");return"b"!==n.exec("b").groups.a||"bc"!=="b".replace(n,"$<a>c")}))},function(n,e,t){"use strict";var r=t(2),a=t(110).includes,i=t(135);r({target:"Array",proto:!0},{includes:function(n){return a(this,n,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(n,e,t){"use strict";var r=t(2),a=t(1),i=t(175),o=t(17),s=t(12),l=t(176),c=a("".indexOf);r({target:"String",proto:!0,forced:!l("includes")},{includes:function(n){return!!~c(s(o(this)),s(i(n)),arguments.length>1?arguments[1]:void 0)}})},function(n,e){n.exports=function(n){var e=null==n?0:n.length;return e?n[e-1]:void 0}},function(n,e,t){"use strict";var r=t(2),a=t(149).trim;r({target:"String",proto:!0,forced:t(363)("trim")},{trim:function(){return a(this)}})},function(n,e,t){var r=t(119),a=Math.floor,i=function(n,e){var t=n.length,l=a(t/2);return t<8?o(n,e):s(n,i(r(n,0,l),e),i(r(n,l),e),e)},o=function(n,e){for(var t,r,a=n.length,i=1;i<a;){for(r=i,t=n[i];r&&e(n[r-1],t)>0;)n[r]=n[--r];r!==i++&&(n[r]=t)}return n},s=function(n,e,t,r){for(var a=e.length,i=t.length,o=0,s=0;o<a||s<i;)n[o+s]=o<a&&s<i?r(e[o],t[s])<=0?e[o++]:t[s++]:o<a?e[o++]:t[s++];return n};n.exports=i},function(n,e,t){var r=t(0),a=t(9),i=t(103).MISSED_STICKY,o=t(21),s=t(13).f,l=t(36).get,c=RegExp.prototype,u=r.TypeError;a&&i&&s(c,"sticky",{configurable:!0,get:function(){if(this!==c){if("RegExp"===o(this))return!!l(this).sticky;throw u("Incompatible receiver, RegExp required")}}})},function(n,e,t){n.exports=t(380)},function(n,e,t){var r=t(0),a=t(11),i=t(4),o=t(8),s=r.TypeError;n.exports=function(n,e){var t,r;if("string"===e&&i(t=n.toString)&&!o(r=a(t,n)))return r;if(i(t=n.valueOf)&&!o(r=a(t,n)))return r;if("string"!==e&&i(t=n.toString)&&!o(r=a(t,n)))return r;throw s("Can't convert object to primitive value")}},function(n,e,t){var r=t(0),a=t(4),i=t(84),o=r.WeakMap;n.exports=a(o)&&/native code/.test(i(o))},function(n,e,t){var r=t(0),a=t(4),i=r.String,o=r.TypeError;n.exports=function(n){if("object"==typeof n||a(n))return n;throw o("Can't set "+i(n)+" as a prototype")}},function(n,e,t){"use strict";var r,a,i,o,s=t(2),l=t(22),c=t(0),u=t(16),p=t(11),d=t(162),f=t(14),h=t(222),v=t(64),m=t(56),g=t(223),b=t(35),y=t(4),x=t(8),_=t(224),w=t(84),k=t(238),S=t(165),j=t(118),T=t(167).set,E=t(239),C=t(169),O=t(242),I=t(170),A=t(243),z=t(244),R=t(36),P=t(100),L=t(5),M=t(245),B=t(86),$=t(49),D=L("species"),J="Promise",N=R.getterFor(J),F=R.set,q=R.getterFor(J),U=d&&d.prototype,H=d,V=U,G=c.TypeError,Q=c.document,X=c.process,K=I.f,W=K,Y=!!(Q&&Q.createEvent&&c.dispatchEvent),Z=y(c.PromiseRejectionEvent),nn=!1,en=P(J,(function(){var n=w(H),e=n!==String(H);if(!e&&66===$)return!0;if(l&&!V.finally)return!0;if($>=51&&/native code/.test(n))return!1;var t=new H((function(n){n(1)})),r=function(n){n((function(){}),(function(){}))};return(t.constructor={})[D]=r,!(nn=t.then((function(){}))instanceof r)||!e&&M&&!Z})),tn=en||!S((function(n){H.all(n).catch((function(){}))})),rn=function(n){var e;return!(!x(n)||!y(e=n.then))&&e},an=function(n,e){var t,r,a,i=e.value,o=1==e.state,s=o?n.ok:n.fail,l=n.resolve,c=n.reject,u=n.domain;try{s?(o||(2===e.rejection&&un(e),e.rejection=1),!0===s?t=i:(u&&u.enter(),t=s(i),u&&(u.exit(),a=!0)),t===n.promise?c(G("Promise-chain cycle")):(r=rn(t))?p(r,t,l,c):l(t)):c(i)}catch(n){u&&!a&&u.exit(),c(n)}},on=function(n,e){n.notified||(n.notified=!0,E((function(){for(var t,r=n.reactions;t=r.get();)an(t,n);n.notified=!1,e&&!n.rejection&&ln(n)})))},sn=function(n,e,t){var r,a;Y?((r=Q.createEvent("Event")).promise=e,r.reason=t,r.initEvent(n,!1,!0),c.dispatchEvent(r)):r={promise:e,reason:t},!Z&&(a=c["on"+n])?a(r):"unhandledrejection"===n&&O("Unhandled promise rejection",t)},ln=function(n){p(T,c,(function(){var e,t=n.facade,r=n.value;if(cn(n)&&(e=A((function(){B?X.emit("unhandledRejection",r,t):sn("unhandledrejection",t,r)})),n.rejection=B||cn(n)?2:1,e.error))throw e.value}))},cn=function(n){return 1!==n.rejection&&!n.parent},un=function(n){p(T,c,(function(){var e=n.facade;B?X.emit("rejectionHandled",e):sn("rejectionhandled",e,n.value)}))},pn=function(n,e,t){return function(r){n(e,r,t)}},dn=function(n,e,t){n.done||(n.done=!0,t&&(n=t),n.value=e,n.state=2,on(n,!0))},fn=function(n,e,t){if(!n.done){n.done=!0,t&&(n=t);try{if(n.facade===e)throw G("Promise can't be resolved itself");var r=rn(e);r?E((function(){var t={done:!1};try{p(r,e,pn(fn,t,n),pn(dn,t,n))}catch(e){dn(t,e,n)}})):(n.value=e,n.state=1,on(n,!1))}catch(e){dn({done:!1},e,n)}}};if(en&&(V=(H=function(n){_(this,V),b(n),p(r,this);var e=N(this);try{n(pn(fn,e),pn(dn,e))}catch(n){dn(e,n)}}).prototype,(r=function(n){F(this,{type:J,done:!1,notified:!1,parent:!1,reactions:new z,rejection:!1,state:0,value:void 0})}).prototype=h(V,{then:function(n,e){var t=q(this),r=K(j(this,H));return t.parent=!0,r.ok=!y(n)||n,r.fail=y(e)&&e,r.domain=B?X.domain:void 0,0==t.state?t.reactions.add(r):E((function(){an(r,t)})),r.promise},catch:function(n){return this.then(void 0,n)}}),a=function(){var n=new r,e=N(n);this.promise=n,this.resolve=pn(fn,e),this.reject=pn(dn,e)},I.f=K=function(n){return n===H||n===i?new a(n):W(n)},!l&&y(d)&&U!==Object.prototype)){o=U.then,nn||(f(U,"then",(function(n,e){var t=this;return new H((function(n,e){p(o,t,n,e)})).then(n,e)}),{unsafe:!0}),f(U,"catch",V.catch,{unsafe:!0}));try{delete U.constructor}catch(n){}v&&v(U,V)}s({global:!0,wrap:!0,forced:en},{Promise:H}),m(H,J,!1,!0),g(J),i=u(J),s({target:J,stat:!0,forced:en},{reject:function(n){var e=K(this);return p(e.reject,void 0,n),e.promise}}),s({target:J,stat:!0,forced:l||en},{resolve:function(n){return C(l&&this===i?H:this,n)}}),s({target:J,stat:!0,forced:tn},{all:function(n){var e=this,t=K(e),r=t.resolve,a=t.reject,i=A((function(){var t=b(e.resolve),i=[],o=0,s=1;k(n,(function(n){var l=o++,c=!1;s++,p(t,e,n).then((function(n){c||(c=!0,i[l]=n,--s||r(i))}),a)})),--s||r(i)}));return i.error&&a(i.value),t.promise},race:function(n){var e=this,t=K(e),r=t.reject,a=A((function(){var a=b(e.resolve);k(n,(function(n){p(a,e,n).then(t.resolve,r)}))}));return a.error&&r(a.value),t.promise}})},function(n,e,t){var r=t(0),a=t(53),i=t(11),o=t(7),s=t(81),l=t(163),c=t(20),u=t(33),p=t(141),d=t(101),f=t(164),h=r.TypeError,v=function(n,e){this.stopped=n,this.result=e},m=v.prototype;n.exports=function(n,e,t){var r,g,b,y,x,_,w,k=t&&t.that,S=!(!t||!t.AS_ENTRIES),j=!(!t||!t.IS_ITERATOR),T=!(!t||!t.INTERRUPTED),E=a(e,k),C=function(n){return r&&f(r,"normal",n),new v(!0,n)},O=function(n){return S?(o(n),T?E(n[0],n[1],C):E(n[0],n[1])):T?E(n,C):E(n)};if(j)r=n;else{if(!(g=d(n)))throw h(s(n)+" is not iterable");if(l(g)){for(b=0,y=c(n);y>b;b++)if((x=O(n[b]))&&u(m,x))return x;return new v(!1)}r=p(n,g)}for(_=r.next;!(w=i(_,r)).done;){try{x=O(w.value)}catch(n){f(r,"throw",n)}if("object"==typeof x&&x&&u(m,x))return x}return new v(!1)}},function(n,e,t){var r,a,i,o,s,l,c,u,p=t(0),d=t(53),f=t(39).f,h=t(167).set,v=t(168),m=t(240),g=t(241),b=t(86),y=p.MutationObserver||p.WebKitMutationObserver,x=p.document,_=p.process,w=p.Promise,k=f(p,"queueMicrotask"),S=k&&k.value;S||(r=function(){var n,e;for(b&&(n=_.domain)&&n.exit();a;){e=a.fn,a=a.next;try{e()}catch(n){throw a?o():i=void 0,n}}i=void 0,n&&n.enter()},v||b||g||!y||!x?!m&&w&&w.resolve?((c=w.resolve(void 0)).constructor=w,u=d(c.then,c),o=function(){u(r)}):b?o=function(){_.nextTick(r)}:(h=d(h,p),o=function(){h(r)}):(s=!0,l=x.createTextNode(""),new y(r).observe(l,{characterData:!0}),o=function(){l.data=s=!s})),n.exports=S||function(n){var e={fn:n,next:void 0};i&&(i.next=e),a||(a=e,o()),i=e}},function(n,e,t){var r=t(27),a=t(0);n.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==a.Pebble},function(n,e,t){var r=t(27);n.exports=/web0s(?!.*chrome)/i.test(r)},function(n,e,t){var r=t(0);n.exports=function(n,e){var t=r.console;t&&t.error&&(1==arguments.length?t.error(n):t.error(n,e))}},function(n,e){n.exports=function(n){try{return{error:!1,value:n()}}catch(n){return{error:!0,value:n}}}},function(n,e){var t=function(){this.head=null,this.tail=null};t.prototype={add:function(n){var e={item:n,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var n=this.head;if(n)return this.head=n.next,this.tail===n&&(this.tail=null),n.item}},n.exports=t},function(n,e){n.exports="object"==typeof window},function(n,e,t){var r=t(2),a=t(247);r({target:"Object",stat:!0,forced:Object.assign!==a},{assign:a})},function(n,e,t){"use strict";var r=t(9),a=t(1),i=t(11),o=t(3),s=t(82),l=t(115),c=t(113),u=t(15),p=t(59),d=Object.assign,f=Object.defineProperty,h=a([].concat);n.exports=!d||o((function(){if(r&&1!==d({b:1},d(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var n={},e={},t=Symbol();return n[t]=7,"abcdefghijklmnopqrst".split("").forEach((function(n){e[n]=n})),7!=d({},n)[t]||"abcdefghijklmnopqrst"!=s(d({},e)).join("")}))?function(n,e){for(var t=u(n),a=arguments.length,o=1,d=l.f,f=c.f;a>o;)for(var v,m=p(arguments[o++]),g=d?h(s(m),d(m)):s(m),b=g.length,y=0;b>y;)v=g[y++],r&&!i(f,m,v)||(t[v]=m[v]);return t}:d},function(n,e,t){"use strict";var r=t(2),a=t(22),i=t(162),o=t(3),s=t(16),l=t(4),c=t(118),u=t(169),p=t(14);if(r({target:"Promise",proto:!0,real:!0,forced:!!i&&o((function(){i.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(n){var e=c(this,s("Promise")),t=l(n);return this.then(t?function(t){return u(e,n()).then((function(){return t}))}:n,t?function(t){return u(e,n()).then((function(){throw t}))}:n)}}),!a&&l(i)){var d=s("Promise").prototype.finally;i.prototype.finally!==d&&p(i.prototype,"finally",d,{unsafe:!0})}},function(n,e,t){"use strict";var r=t(117),a=t(73);n.exports=r?{}.toString:function(){return"[object "+a(this)+"]"}},function(n,e,t){var r=t(0),a=t(57),i=t(85),o=t(8),s=t(5)("species"),l=r.Array;n.exports=function(n){var e;return a(n)&&(e=n.constructor,(i(e)&&(e===l||a(e.prototype))||o(e)&&null===(e=e[s]))&&(e=void 0)),void 0===e?l:e}},function(n,e,t){"use strict";var r=t(2),a=t(252).left,i=t(45),o=t(49),s=t(86);r({target:"Array",proto:!0,forced:!i("reduce")||!s&&o>79&&o<83},{reduce:function(n){var e=arguments.length;return a(this,n,e,e>1?arguments[1]:void 0)}})},function(n,e,t){var r=t(0),a=t(35),i=t(15),o=t(59),s=t(20),l=r.TypeError,c=function(n){return function(e,t,r,c){a(t);var u=i(e),p=o(u),d=s(u),f=n?d-1:0,h=n?-1:1;if(r<2)for(;;){if(f in p){c=p[f],f+=h;break}if(f+=h,n?f<0:d<=f)throw l("Reduce of empty array with no initial value")}for(;n?f>=0:d>f;f+=h)f in p&&(c=t(c,p[f],f,u));return c}};n.exports={left:c(!1),right:c(!0)}},function(n,e,t){"use strict";var r,a=t(2),i=t(1),o=t(39).f,s=t(50),l=t(12),c=t(175),u=t(17),p=t(176),d=t(22),f=i("".startsWith),h=i("".slice),v=Math.min,m=p("startsWith");a({target:"String",proto:!0,forced:!!(d||m||(r=o(String.prototype,"startsWith"),!r||r.writable))&&!m},{startsWith:function(n){var e=l(u(this));c(n);var t=s(v(arguments.length>1?arguments[1]:void 0,e.length)),r=l(n);return f?f(e,r,t):h(e,t,t+r.length)===r}})},function(n,e,t){var r=t(2),a=t(178),i=t(3),o=t(8),s=t(255).onFreeze,l=Object.freeze;r({target:"Object",stat:!0,forced:i((function(){l(1)})),sham:!a},{freeze:function(n){return l&&o(n)?l(s(n)):n}})},function(n,e,t){var r=t(2),a=t(1),i=t(61),o=t(8),s=t(10),l=t(13).f,c=t(55),u=t(179),p=t(256),d=t(77),f=t(178),h=!1,v=d("meta"),m=0,g=function(n){l(n,v,{value:{objectID:"O"+m++,weakData:{}}})},b=n.exports={enable:function(){b.enable=function(){},h=!0;var n=c.f,e=a([].splice),t={};t[v]=1,n(t).length&&(c.f=function(t){for(var r=n(t),a=0,i=r.length;a<i;a++)if(r[a]===v){e(r,a,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},fastKey:function(n,e){if(!o(n))return"symbol"==typeof n?n:("string"==typeof n?"S":"P")+n;if(!s(n,v)){if(!p(n))return"F";if(!e)return"E";g(n)}return n[v].objectID},getWeakData:function(n,e){if(!s(n,v)){if(!p(n))return!0;if(!e)return!1;g(n)}return n[v].weakData},onFreeze:function(n){return f&&h&&p(n)&&!s(n,v)&&g(n),n}};i[v]=!0},function(n,e,t){var r=t(3),a=t(8),i=t(21),o=t(257),s=Object.isExtensible,l=r((function(){s(1)}));n.exports=l||o?function(n){return!!a(n)&&((!o||"ArrayBuffer"!=i(n))&&(!s||s(n)))}:s},function(n,e,t){var r=t(3);n.exports=r((function(){if("function"==typeof ArrayBuffer){var n=new ArrayBuffer(8);Object.isExtensible(n)&&Object.defineProperty(n,"a",{value:8})}}))},function(n,e,t){var r=t(0);n.exports=r},function(n,e,t){"use strict";var r=t(0),a=t(53),i=t(11),o=t(15),s=t(260),l=t(163),c=t(85),u=t(20),p=t(66),d=t(141),f=t(101),h=r.Array;n.exports=function(n){var e=o(n),t=c(this),r=arguments.length,v=r>1?arguments[1]:void 0,m=void 0!==v;m&&(v=a(v,r>2?arguments[2]:void 0));var g,b,y,x,_,w,k=f(e),S=0;if(!k||this==h&&l(k))for(g=u(e),b=t?new this(g):h(g);g>S;S++)w=m?v(e[S],S):e[S],p(b,S,w);else for(_=(x=d(e,k)).next,b=t?new this:[];!(y=i(_,x)).done;S++)w=m?s(x,v,[y.value,S],!0):y.value,p(b,S,w);return b.length=S,b}},function(n,e,t){var r=t(7),a=t(164);n.exports=function(n,e,t,i){try{return i?e(r(t)[0],t[1]):e(t)}catch(e){a(n,"throw",e)}}},function(n,e,t){"use strict";var r=t(16),a=t(10),i=t(23),o=t(33),s=t(64),l=t(114),c=t(146),u=t(183),p=t(262),d=t(263),f=t(264),h=t(22);n.exports=function(n,e,t,v){var m=v?2:1,g=n.split("."),b=g[g.length-1],y=r.apply(null,g);if(y){var x=y.prototype;if(!h&&a(x,"cause")&&delete x.cause,!t)return y;var _=r("Error"),w=e((function(n,e){var t=u(v?e:n,void 0),r=v?new y(n):new y;return void 0!==t&&i(r,"message",t),f&&i(r,"stack",d(r.stack,2)),this&&o(x,this)&&c(r,this,w),arguments.length>m&&p(r,arguments[m]),r}));if(w.prototype=x,"Error"!==b&&(s?s(w,_):l(w,_,{name:!0})),l(w,y),!h)try{x.name!==b&&i(x,"name",b),x.constructor=w}catch(n){}return w}}},function(n,e,t){var r=t(8),a=t(23);n.exports=function(n,e){r(e)&&"cause"in e&&a(n,"cause",e.cause)}},function(n,e,t){var r=t(1)("".replace),a=String(Error("zxcasd").stack),i=/\n\s*at [^:]*:[^\n]*/,o=i.test(a);n.exports=function(n,e){if(o&&"string"==typeof n)for(;e--;)n=r(n,i,"");return n}},function(n,e,t){var r=t(3),a=t(47);n.exports=!r((function(){var n=Error("a");return!("stack"in n)||(Object.defineProperty(n,"stack",a(1,7)),7!==n.stack)}))},function(n,e,t){"use strict";var r=t(9),a=t(3),i=t(7),o=t(32),s=t(183),l=Error.prototype.toString,c=a((function(){if(r){var n=o(Object.defineProperty({},"name",{get:function(){return this===n}}));if("true"!==l.call(n))return!0}return"2: 1"!==l.call({message:1,name:2})||"Error"!==l.call({})}));n.exports=c?function(){var n=i(this),e=s(n.name,"Error"),t=s(n.message);return e?t?e+": "+t:e:t}:l},function(n,e,t){var r=t(1),a=t(15),i=Math.floor,o=r("".charAt),s=r("".replace),l=r("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;n.exports=function(n,e,t,r,p,d){var f=t+n.length,h=r.length,v=u;return void 0!==p&&(p=a(p),v=c),s(d,v,(function(a,s){var c;switch(o(s,0)){case"$":return"$";case"&":return n;case"`":return l(e,0,t);case"'":return l(e,f);case"<":c=p[l(s,1,-1)];break;default:var u=+s;if(0===u)return a;if(u>h){var d=i(u/10);return 0===d?a:d<=h?void 0===r[d-1]?o(s,1):r[d-1]+o(s,1):a}c=r[u-1]}return void 0===c?"":c}))}},function(n,e,t){var r=t(186),a=t(268);n.exports=function n(e,t,i,o,s){var l=-1,c=e.length;for(i||(i=a),s||(s=[]);++l<c;){var u=e[l];t>0&&i(u)?t>1?n(u,t-1,i,o,s):r(s,u):o||(s[s.length]=u)}return s}},function(n,e,t){var r=t(67),a=t(122),i=t(26),o=r?r.isConcatSpreadable:void 0;n.exports=function(n){return i(n)||a(n)||!!(o&&n&&n[o])}},function(n,e,t){var r=t(58),a=t(48);n.exports=function(n){return a(n)&&"[object Arguments]"==r(n)}},function(n,e,t){var r=t(67),a=Object.prototype,i=a.hasOwnProperty,o=a.toString,s=r?r.toStringTag:void 0;n.exports=function(n){var e=i.call(n,s),t=n[s];try{n[s]=void 0;var r=!0}catch(n){}var a=o.call(n);return r&&(e?n[s]=t:delete n[s]),a}},function(n,e){var t=Object.prototype.toString;n.exports=function(n){return t.call(n)}},function(n,e,t){var r=t(273),a=t(329),i=t(130),o=t(26),s=t(340);n.exports=function(n){return"function"==typeof n?n:null==n?i:"object"==typeof n?o(n)?a(n[0],n[1]):r(n):s(n)}},function(n,e,t){var r=t(274),a=t(328),i=t(203);n.exports=function(n){var e=a(n);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(t){return t===n||r(t,n,e)}}},function(n,e,t){var r=t(188),a=t(192);n.exports=function(n,e,t,i){var o=t.length,s=o,l=!i;if(null==n)return!s;for(n=Object(n);o--;){var c=t[o];if(l&&c[2]?c[1]!==n[c[0]]:!(c[0]in n))return!1}for(;++o<s;){var u=(c=t[o])[0],p=n[u],d=c[1];if(l&&c[2]){if(void 0===p&&!(u in n))return!1}else{var f=new r;if(i)var h=i(p,d,u,n,e,f);if(!(void 0===h?a(d,p,3,i,f):h))return!1}}return!0}},function(n,e){n.exports=function(){this.__data__=[],this.size=0}},function(n,e,t){var r=t(92),a=Array.prototype.splice;n.exports=function(n){var e=this.__data__,t=r(e,n);return!(t<0)&&(t==e.length-1?e.pop():a.call(e,t,1),--this.size,!0)}},function(n,e,t){var r=t(92);n.exports=function(n){var e=this.__data__,t=r(e,n);return t<0?void 0:e[t][1]}},function(n,e,t){var r=t(92);n.exports=function(n){return r(this.__data__,n)>-1}},function(n,e,t){var r=t(92);n.exports=function(n,e){var t=this.__data__,a=r(t,n);return a<0?(++this.size,t.push([n,e])):t[a][1]=e,this}},function(n,e,t){var r=t(91);n.exports=function(){this.__data__=new r,this.size=0}},function(n,e){n.exports=function(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}},function(n,e){n.exports=function(n){return this.__data__.get(n)}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e,t){var r=t(91),a=t(123),i=t(125);n.exports=function(n,e){var t=this.__data__;if(t instanceof r){var o=t.__data__;if(!a||o.length<199)return o.push([n,e]),this.size=++t.size,this;t=this.__data__=new i(o)}return t.set(n,e),this.size=t.size,this}},function(n,e,t){var r=t(190),a=t(286),i=t(124),o=t(191),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,p=c.hasOwnProperty,d=RegExp("^"+u.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=function(n){return!(!i(n)||a(n))&&(r(n)?d:s).test(o(n))}},function(n,e,t){var r,a=t(287),i=(r=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";n.exports=function(n){return!!i&&i in n}},function(n,e,t){var r=t(28)["__core-js_shared__"];n.exports=r},function(n,e){n.exports=function(n,e){return null==n?void 0:n[e]}},function(n,e,t){var r=t(290),a=t(91),i=t(123);n.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||a),string:new r}}},function(n,e,t){var r=t(291),a=t(292),i=t(293),o=t(294),s=t(295);function l(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,n.exports=l},function(n,e,t){var r=t(93);n.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(n,e){n.exports=function(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}},function(n,e,t){var r=t(93),a=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;if(r){var t=e[n];return"__lodash_hash_undefined__"===t?void 0:t}return a.call(e,n)?e[n]:void 0}},function(n,e,t){var r=t(93),a=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;return r?void 0!==e[n]:a.call(e,n)}},function(n,e,t){var r=t(93);n.exports=function(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(n,e,t){var r=t(94);n.exports=function(n){var e=r(this,n).delete(n);return this.size-=e?1:0,e}},function(n,e){n.exports=function(n){var e=typeof n;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n}},function(n,e,t){var r=t(94);n.exports=function(n){return r(this,n).get(n)}},function(n,e,t){var r=t(94);n.exports=function(n){return r(this,n).has(n)}},function(n,e,t){var r=t(94);n.exports=function(n,e){var t=r(this,n),a=t.size;return t.set(n,e),this.size+=t.size==a?0:1,this}},function(n,e,t){var r=t(188),a=t(193),i=t(305),o=t(308),s=t(324),l=t(26),c=t(197),u=t(199),p="[object Object]",d=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,f,h,v){var m=l(n),g=l(e),b=m?"[object Array]":s(n),y=g?"[object Array]":s(e),x=(b="[object Arguments]"==b?p:b)==p,_=(y="[object Arguments]"==y?p:y)==p,w=b==y;if(w&&c(n)){if(!c(e))return!1;m=!0,x=!1}if(w&&!x)return v||(v=new r),m||u(n)?a(n,e,t,f,h,v):i(n,e,b,t,f,h,v);if(!(1&t)){var k=x&&d.call(n,"__wrapped__"),S=_&&d.call(e,"__wrapped__");if(k||S){var j=k?n.value():n,T=S?e.value():e;return v||(v=new r),h(j,T,t,f,v)}}return!!w&&(v||(v=new r),o(n,e,t,f,h,v))}},function(n,e){n.exports=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}},function(n,e,t){var r=t(67),a=t(306),i=t(189),o=t(193),s=t(307),l=t(126),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;n.exports=function(n,e,t,r,c,p,d){switch(t){case"[object DataView]":if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(n.byteLength!=e.byteLength||!p(new a(n),new a(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+n,+e);case"[object Error]":return n.name==e.name&&n.message==e.message;case"[object RegExp]":case"[object String]":return n==e+"";case"[object Map]":var f=s;case"[object Set]":var h=1&r;if(f||(f=l),n.size!=e.size&&!h)return!1;var v=d.get(n);if(v)return v==e;r|=2,d.set(n,e);var m=o(f(n),f(e),r,c,p,d);return d.delete(n),m;case"[object Symbol]":if(u)return u.call(n)==u.call(e)}return!1}},function(n,e,t){var r=t(28).Uint8Array;n.exports=r},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n,r){t[++e]=[r,n]})),t}},function(n,e,t){var r=t(309),a=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,i,o,s){var l=1&t,c=r(n),u=c.length;if(u!=r(e).length&&!l)return!1;for(var p=u;p--;){var d=c[p];if(!(l?d in e:a.call(e,d)))return!1}var f=s.get(n),h=s.get(e);if(f&&h)return f==e&&h==n;var v=!0;s.set(n,e),s.set(e,n);for(var m=l;++p<u;){var g=n[d=c[p]],b=e[d];if(i)var y=l?i(b,g,d,e,n,s):i(g,b,d,n,e,s);if(!(void 0===y?g===b||o(g,b,t,i,s):y)){v=!1;break}m||(m="constructor"==d)}if(v&&!m){var x=n.constructor,_=e.constructor;x==_||!("constructor"in n)||!("constructor"in e)||"function"==typeof x&&x instanceof x&&"function"==typeof _&&_ instanceof _||(v=!1)}return s.delete(n),s.delete(e),v}},function(n,e,t){var r=t(310),a=t(311),i=t(196);n.exports=function(n){return r(n,i,a)}},function(n,e,t){var r=t(186),a=t(26);n.exports=function(n,e,t){var i=e(n);return a(n)?i:r(i,t(n))}},function(n,e,t){var r=t(312),a=t(313),i=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(n){return null==n?[]:(n=Object(n),r(o(n),(function(e){return i.call(n,e)})))}:a;n.exports=s},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length,a=0,i=[];++t<r;){var o=n[t];e(o,t,n)&&(i[a++]=o)}return i}},function(n,e){n.exports=function(){return[]}},function(n,e,t){var r=t(315),a=t(122),i=t(26),o=t(197),s=t(198),l=t(199),c=Object.prototype.hasOwnProperty;n.exports=function(n,e){var t=i(n),u=!t&&a(n),p=!t&&!u&&o(n),d=!t&&!u&&!p&&l(n),f=t||u||p||d,h=f?r(n.length,String):[],v=h.length;for(var m in n)!e&&!c.call(n,m)||f&&("length"==m||p&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,v))||h.push(m);return h}},function(n,e){n.exports=function(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}},function(n,e){n.exports=function(){return!1}},function(n,e,t){var r=t(58),a=t(127),i=t(48),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,n.exports=function(n){return i(n)&&a(n.length)&&!!o[r(n)]}},function(n,e){n.exports=function(n){return function(e){return n(e)}}},function(n,e,t){(function(n){var r=t(187),a=e&&!e.nodeType&&e,i=a&&"object"==typeof n&&n&&!n.nodeType&&n,o=i&&i.exports===a&&r.process,s=function(){try{var n=i&&i.require&&i.require("util").types;return n||o&&o.binding&&o.binding("util")}catch(n){}}();n.exports=s}).call(this,t(147)(n))},function(n,e,t){var r=t(321),a=t(322),i=Object.prototype.hasOwnProperty;n.exports=function(n){if(!r(n))return a(n);var e=[];for(var t in Object(n))i.call(n,t)&&"constructor"!=t&&e.push(t);return e}},function(n,e){var t=Object.prototype;n.exports=function(n){var e=n&&n.constructor;return n===("function"==typeof e&&e.prototype||t)}},function(n,e,t){var r=t(323)(Object.keys,Object);n.exports=r},function(n,e){n.exports=function(n,e){return function(t){return n(e(t))}}},function(n,e,t){var r=t(325),a=t(123),i=t(326),o=t(201),s=t(327),l=t(58),c=t(191),u=c(r),p=c(a),d=c(i),f=c(o),h=c(s),v=l;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||a&&"[object Map]"!=v(new a)||i&&"[object Promise]"!=v(i.resolve())||o&&"[object Set]"!=v(new o)||s&&"[object WeakMap]"!=v(new s))&&(v=function(n){var e=l(n),t="[object Object]"==e?n.constructor:void 0,r=t?c(t):"";if(r)switch(r){case u:return"[object DataView]";case p:return"[object Map]";case d:return"[object Promise]";case f:return"[object Set]";case h:return"[object WeakMap]"}return e}),n.exports=v},function(n,e,t){var r=t(41)(t(28),"DataView");n.exports=r},function(n,e,t){var r=t(41)(t(28),"Promise");n.exports=r},function(n,e,t){var r=t(41)(t(28),"WeakMap");n.exports=r},function(n,e,t){var r=t(202),a=t(196);n.exports=function(n){for(var e=a(n),t=e.length;t--;){var i=e[t],o=n[i];e[t]=[i,o,r(o)]}return e}},function(n,e,t){var r=t(192),a=t(330),i=t(337),o=t(128),s=t(202),l=t(203),c=t(95);n.exports=function(n,e){return o(n)&&s(e)?l(c(n),e):function(t){var o=a(t,n);return void 0===o&&o===e?i(t,n):r(e,o,3)}}},function(n,e,t){var r=t(204);n.exports=function(n,e,t){var a=null==n?void 0:r(n,e);return void 0===a?t:a}},function(n,e,t){var r=t(332),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=r((function(n){var e=[];return 46===n.charCodeAt(0)&&e.push(""),n.replace(a,(function(n,t,r,a){e.push(r?a.replace(i,"$1"):t||n)})),e}));n.exports=o},function(n,e,t){var r=t(333);n.exports=function(n){var e=r(n,(function(n){return 500===t.size&&t.clear(),n})),t=e.cache;return e}},function(n,e,t){var r=t(125);function a(n,e){if("function"!=typeof n||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var t=function(){var r=arguments,a=e?e.apply(this,r):r[0],i=t.cache;if(i.has(a))return i.get(a);var o=n.apply(this,r);return t.cache=i.set(a,o)||i,o};return t.cache=new(a.Cache||r),t}a.Cache=r,n.exports=a},function(n,e,t){var r=t(335);n.exports=function(n){return null==n?"":r(n)}},function(n,e,t){var r=t(67),a=t(336),i=t(26),o=t(129),s=r?r.prototype:void 0,l=s?s.toString:void 0;n.exports=function n(e){if("string"==typeof e)return e;if(i(e))return a(e,n)+"";if(o(e))return l?l.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length,a=Array(r);++t<r;)a[t]=e(n[t],t,n);return a}},function(n,e,t){var r=t(338),a=t(339);n.exports=function(n,e){return null!=n&&a(n,e,r)}},function(n,e){n.exports=function(n,e){return null!=n&&e in Object(n)}},function(n,e,t){var r=t(205),a=t(122),i=t(26),o=t(198),s=t(127),l=t(95);n.exports=function(n,e,t){for(var c=-1,u=(e=r(e,n)).length,p=!1;++c<u;){var d=l(e[c]);if(!(p=null!=n&&t(n,d)))break;n=n[d]}return p||++c!=u?p:!!(u=null==n?0:n.length)&&s(u)&&o(d,u)&&(i(n)||a(n))}},function(n,e,t){var r=t(341),a=t(342),i=t(128),o=t(95);n.exports=function(n){return i(n)?r(o(n)):a(n)}},function(n,e){n.exports=function(n){return function(e){return null==e?void 0:e[n]}}},function(n,e,t){var r=t(204);n.exports=function(n){return function(e){return r(e,n)}}},function(n,e,t){var r=t(130),a=t(344),i=t(346);n.exports=function(n,e){return i(a(n,e,r),n+"")}},function(n,e,t){var r=t(345),a=Math.max;n.exports=function(n,e,t){return e=a(void 0===e?n.length-1:e,0),function(){for(var i=arguments,o=-1,s=a(i.length-e,0),l=Array(s);++o<s;)l[o]=i[e+o];o=-1;for(var c=Array(e+1);++o<e;)c[o]=i[o];return c[e]=t(l),r(n,this,c)}}},function(n,e){n.exports=function(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}},function(n,e,t){var r=t(347),a=t(350)(r);n.exports=a},function(n,e,t){var r=t(348),a=t(349),i=t(130),o=a?function(n,e){return a(n,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;n.exports=o},function(n,e){n.exports=function(n){return function(){return n}}},function(n,e,t){var r=t(41),a=function(){try{var n=r(Object,"defineProperty");return n({},"",{}),n}catch(n){}}();n.exports=a},function(n,e){var t=Date.now;n.exports=function(n){var e=0,r=0;return function(){var a=t(),i=16-(a-r);if(r=a,i>0){if(++e>=800)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}},function(n,e,t){var r=t(194),a=t(352),i=t(357),o=t(195),s=t(358),l=t(126);n.exports=function(n,e,t){var c=-1,u=a,p=n.length,d=!0,f=[],h=f;if(t)d=!1,u=i;else if(p>=200){var v=e?null:s(n);if(v)return l(v);d=!1,u=o,h=new r}else h=e?[]:f;n:for(;++c<p;){var m=n[c],g=e?e(m):m;if(m=t||0!==m?m:0,d&&g==g){for(var b=h.length;b--;)if(h[b]===g)continue n;e&&h.push(g),f.push(m)}else u(h,g,t)||(h!==f&&h.push(g),f.push(m))}return f}},function(n,e,t){var r=t(353);n.exports=function(n,e){return!!(null==n?0:n.length)&&r(n,e,0)>-1}},function(n,e,t){var r=t(354),a=t(355),i=t(356);n.exports=function(n,e,t){return e==e?i(n,e,t):r(n,a,t)}},function(n,e){n.exports=function(n,e,t,r){for(var a=n.length,i=t+(r?1:-1);r?i--:++i<a;)if(e(n[i],i,n))return i;return-1}},function(n,e){n.exports=function(n){return n!=n}},function(n,e){n.exports=function(n,e,t){for(var r=t-1,a=n.length;++r<a;)if(n[r]===e)return r;return-1}},function(n,e){n.exports=function(n,e,t){for(var r=-1,a=null==n?0:n.length;++r<a;)if(t(e,n[r]))return!0;return!1}},function(n,e,t){var r=t(201),a=t(359),i=t(126),o=r&&1/i(new r([,-0]))[1]==1/0?function(n){return new r(n)}:a;n.exports=o},function(n,e){n.exports=function(){}},function(n,e,t){var r=t(200),a=t(48);n.exports=function(n){return a(n)&&r(n)}},function(n,e,t){},function(n,e,t){},function(n,e,t){var r=t(63).PROPER,a=t(3),i=t(150);n.exports=function(n){return a((function(){return!!i[n]()||"âÂá "!=="âÂá "[n]()||r&&i[n].name!==n}))}},function(n,e,t){var r=t(2),a=t(206);r({target:"Function",proto:!0,forced:Function.bind!==a},{bind:a})},function(n,e,t){var r=t(1);n.exports=r(1..valueOf)},function(n,e){},function(n,e,t){var r=t(1),a=t(50),i=t(12),o=t(368),s=t(17),l=r(o),c=r("".slice),u=Math.ceil,p=function(n){return function(e,t,r){var o,p,d=i(s(e)),f=a(t),h=d.length,v=void 0===r?" ":i(r);return f<=h||""==v?d:((p=l(v,u((o=f-h)/v.length))).length>o&&(p=c(p,0,o)),n?d+p:p+d)}};n.exports={start:p(!1),end:p(!0)}},function(n,e,t){"use strict";var r=t(0),a=t(52),i=t(12),o=t(17),s=r.RangeError;n.exports=function(n){var e=i(o(this)),t="",r=a(n);if(r<0||r==1/0)throw s("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(t+=e);return t}},function(n,e,t){var r=t(27);n.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},function(n,e,t){"use strict";t(208)},function(n,e,t){"use strict";t(209)},function(n,e,t){"use strict";var r=t(2),a=t(1),i=t(35),o=t(15),s=t(20),l=t(12),c=t(3),u=t(231),p=t(45),d=t(373),f=t(374),h=t(49),v=t(375),m=[],g=a(m.sort),b=a(m.push),y=c((function(){m.sort(void 0)})),x=c((function(){m.sort(null)})),_=p("sort"),w=!c((function(){if(h)return h<70;if(!(d&&d>3)){if(f)return!0;if(v)return v<603;var n,e,t,r,a="";for(n=65;n<76;n++){switch(e=String.fromCharCode(n),n){case 66:case 69:case 70:case 72:t=3;break;case 68:case 71:t=4;break;default:t=2}for(r=0;r<47;r++)m.push({k:e+r,v:t})}for(m.sort((function(n,e){return e.v-n.v})),r=0;r<m.length;r++)e=m[r].k.charAt(0),a.charAt(a.length-1)!==e&&(a+=e);return"DGBEFHACIJK"!==a}}));r({target:"Array",proto:!0,forced:y||!x||!_||!w},{sort:function(n){void 0!==n&&i(n);var e=o(this);if(w)return void 0===n?g(e):g(e,n);var t,r,a=[],c=s(e);for(r=0;r<c;r++)r in e&&b(a,e[r]);for(u(a,function(n){return function(e,t){return void 0===t?-1:void 0===e?1:void 0!==n?+n(e,t)||0:l(e)>l(t)?1:-1}}(n)),t=a.length,r=0;r<t;)e[r]=a[r++];for(;r<c;)delete e[r++];return e}})},function(n,e,t){var r=t(27).match(/firefox\/(\d+)/i);n.exports=!!r&&+r[1]},function(n,e,t){var r=t(27);n.exports=/MSIE|Trident/.test(r)},function(n,e,t){var r=t(27).match(/AppleWebKit\/(\d+)\./);n.exports=!!r&&+r[1]},function(n,e,t){},function(n,e,t){},function(n,e,t){"use strict";t(213)},function(n,e,t){"use strict";t(214)},function(n,e,t){"use strict";t.r(e);t(139),t(237),t(246),t(248);var r=t(87),a=(t(136),t(51),t(6),t(24),t(31),t(43),t(30),Object.freeze({}));function i(n){return null==n}function o(n){return null!=n}function s(n){return!0===n}function l(n){return"string"==typeof n||"number"==typeof n||"symbol"==typeof n||"boolean"==typeof n}function c(n){return null!==n&&"object"==typeof n}var u=Object.prototype.toString;function p(n){return"[object Object]"===u.call(n)}function d(n){return"[object RegExp]"===u.call(n)}function f(n){var e=parseFloat(String(n));return e>=0&&Math.floor(e)===e&&isFinite(n)}function h(n){return o(n)&&"function"==typeof n.then&&"function"==typeof n.catch}function v(n){return null==n?"":Array.isArray(n)||p(n)&&n.toString===u?JSON.stringify(n,null,2):String(n)}function m(n){var e=parseFloat(n);return isNaN(e)?n:e}function g(n,e){for(var t=Object.create(null),r=n.split(","),a=0;a<r.length;a++)t[r[a]]=!0;return e?function(n){return t[n.toLowerCase()]}:function(n){return t[n]}}g("slot,component",!0);var b=g("key,ref,slot,slot-scope,is");function y(n,e){if(n.length){var t=n.indexOf(e);if(t>-1)return n.splice(t,1)}}var x=Object.prototype.hasOwnProperty;function _(n,e){return x.call(n,e)}function w(n){var e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}var k=/-(\w)/g,S=w((function(n){return n.replace(k,(function(n,e){return e?e.toUpperCase():""}))})),j=w((function(n){return n.charAt(0).toUpperCase()+n.slice(1)})),T=/\B([A-Z])/g,E=w((function(n){return n.replace(T,"-$1").toLowerCase()}));var C=Function.prototype.bind?function(n,e){return n.bind(e)}:function(n,e){function t(t){var r=arguments.length;return r?r>1?n.apply(e,arguments):n.call(e,t):n.call(e)}return t._length=n.length,t};function O(n,e){e=e||0;for(var t=n.length-e,r=new Array(t);t--;)r[t]=n[t+e];return r}function I(n,e){for(var t in e)n[t]=e[t];return n}function A(n){for(var e={},t=0;t<n.length;t++)n[t]&&I(e,n[t]);return e}function z(n,e,t){}var R=function(n,e,t){return!1},P=function(n){return n};function L(n,e){if(n===e)return!0;var t=c(n),r=c(e);if(!t||!r)return!t&&!r&&String(n)===String(e);try{var a=Array.isArray(n),i=Array.isArray(e);if(a&&i)return n.length===e.length&&n.every((function(n,t){return L(n,e[t])}));if(n instanceof Date&&e instanceof Date)return n.getTime()===e.getTime();if(a||i)return!1;var o=Object.keys(n),s=Object.keys(e);return o.length===s.length&&o.every((function(t){return L(n[t],e[t])}))}catch(n){return!1}}function M(n,e){for(var t=0;t<n.length;t++)if(L(n[t],e))return t;return-1}function B(n){var e=!1;return function(){e||(e=!0,n.apply(this,arguments))}}var $=["component","directive","filter"],D=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],J={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:R,isReservedAttr:R,isUnknownElement:R,getTagNamespace:z,parsePlatformTagName:P,mustUseProp:R,async:!0,_lifecycleHooks:D},N=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function F(n,e,t,r){Object.defineProperty(n,e,{value:t,enumerable:!!r,writable:!0,configurable:!0})}var q=new RegExp("[^"+N.source+".$_\\d]");var U,H="__proto__"in{},V="undefined"!=typeof window,G="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,Q=G&&WXEnvironment.platform.toLowerCase(),X=V&&window.navigator.userAgent.toLowerCase(),K=X&&/msie|trident/.test(X),W=X&&X.indexOf("msie 9.0")>0,Y=X&&X.indexOf("edge/")>0,Z=(X&&X.indexOf("android"),X&&/iphone|ipad|ipod|ios/.test(X)||"ios"===Q),nn=(X&&/chrome\/\d+/.test(X),X&&/phantomjs/.test(X),X&&X.match(/firefox\/(\d+)/)),en={}.watch,tn=!1;if(V)try{var rn={};Object.defineProperty(rn,"passive",{get:function(){tn=!0}}),window.addEventListener("test-passive",null,rn)}catch(n){}var an=function(){return void 0===U&&(U=!V&&!G&&"undefined"!=typeof global&&(global.process&&"server"===global.process.env.VUE_ENV)),U},on=V&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function sn(n){return"function"==typeof n&&/native code/.test(n.toString())}var ln,cn="undefined"!=typeof Symbol&&sn(Symbol)&&"undefined"!=typeof Reflect&&sn(Reflect.ownKeys);ln="undefined"!=typeof Set&&sn(Set)?Set:function(){function n(){this.set=Object.create(null)}return n.prototype.has=function(n){return!0===this.set[n]},n.prototype.add=function(n){this.set[n]=!0},n.prototype.clear=function(){this.set=Object.create(null)},n}();var un=z,pn=0,dn=function(){this.id=pn++,this.subs=[]};dn.prototype.addSub=function(n){this.subs.push(n)},dn.prototype.removeSub=function(n){y(this.subs,n)},dn.prototype.depend=function(){dn.target&&dn.target.addDep(this)},dn.prototype.notify=function(){var n=this.subs.slice();for(var e=0,t=n.length;e<t;e++)n[e].update()},dn.target=null;var fn=[];function hn(n){fn.push(n),dn.target=n}function vn(){fn.pop(),dn.target=fn[fn.length-1]}var mn=function(n,e,t,r,a,i,o,s){this.tag=n,this.data=e,this.children=t,this.text=r,this.elm=a,this.ns=void 0,this.context=i,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},gn={child:{configurable:!0}};gn.child.get=function(){return this.componentInstance},Object.defineProperties(mn.prototype,gn);var bn=function(n){void 0===n&&(n="");var e=new mn;return e.text=n,e.isComment=!0,e};function yn(n){return new mn(void 0,void 0,void 0,String(n))}function xn(n){var e=new mn(n.tag,n.data,n.children&&n.children.slice(),n.text,n.elm,n.context,n.componentOptions,n.asyncFactory);return e.ns=n.ns,e.isStatic=n.isStatic,e.key=n.key,e.isComment=n.isComment,e.fnContext=n.fnContext,e.fnOptions=n.fnOptions,e.fnScopeId=n.fnScopeId,e.asyncMeta=n.asyncMeta,e.isCloned=!0,e}var _n=Array.prototype,wn=Object.create(_n);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(n){var e=_n[n];F(wn,n,(function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var a,i=e.apply(this,t),o=this.__ob__;switch(n){case"push":case"unshift":a=t;break;case"splice":a=t.slice(2)}return a&&o.observeArray(a),o.dep.notify(),i}))}));var kn=Object.getOwnPropertyNames(wn),Sn=!0;function jn(n){Sn=n}var Tn=function(n){this.value=n,this.dep=new dn,this.vmCount=0,F(n,"__ob__",this),Array.isArray(n)?(H?function(n,e){n.__proto__=e}(n,wn):function(n,e,t){for(var r=0,a=t.length;r<a;r++){var i=t[r];F(n,i,e[i])}}(n,wn,kn),this.observeArray(n)):this.walk(n)};function En(n,e){var t;if(c(n)&&!(n instanceof mn))return _(n,"__ob__")&&n.__ob__ instanceof Tn?t=n.__ob__:Sn&&!an()&&(Array.isArray(n)||p(n))&&Object.isExtensible(n)&&!n._isVue&&(t=new Tn(n)),e&&t&&t.vmCount++,t}function Cn(n,e,t,r,a){var i=new dn,o=Object.getOwnPropertyDescriptor(n,e);if(!o||!1!==o.configurable){var s=o&&o.get,l=o&&o.set;s&&!l||2!==arguments.length||(t=n[e]);var c=!a&&En(t);Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(n):t;return dn.target&&(i.depend(),c&&(c.dep.depend(),Array.isArray(e)&&An(e))),e},set:function(e){var r=s?s.call(n):t;e===r||e!=e&&r!=r||s&&!l||(l?l.call(n,e):t=e,c=!a&&En(e),i.notify())}})}}function On(n,e,t){if(Array.isArray(n)&&f(e))return n.length=Math.max(n.length,e),n.splice(e,1,t),t;if(e in n&&!(e in Object.prototype))return n[e]=t,t;var r=n.__ob__;return n._isVue||r&&r.vmCount?t:r?(Cn(r.value,e,t),r.dep.notify(),t):(n[e]=t,t)}function In(n,e){if(Array.isArray(n)&&f(e))n.splice(e,1);else{var t=n.__ob__;n._isVue||t&&t.vmCount||_(n,e)&&(delete n[e],t&&t.dep.notify())}}function An(n){for(var e=void 0,t=0,r=n.length;t<r;t++)(e=n[t])&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&An(e)}Tn.prototype.walk=function(n){for(var e=Object.keys(n),t=0;t<e.length;t++)Cn(n,e[t])},Tn.prototype.observeArray=function(n){for(var e=0,t=n.length;e<t;e++)En(n[e])};var zn=J.optionMergeStrategies;function Rn(n,e){if(!e)return n;for(var t,r,a,i=cn?Reflect.ownKeys(e):Object.keys(e),o=0;o<i.length;o++)"__ob__"!==(t=i[o])&&(r=n[t],a=e[t],_(n,t)?r!==a&&p(r)&&p(a)&&Rn(r,a):On(n,t,a));return n}function Pn(n,e,t){return t?function(){var r="function"==typeof e?e.call(t,t):e,a="function"==typeof n?n.call(t,t):n;return r?Rn(r,a):a}:e?n?function(){return Rn("function"==typeof e?e.call(this,this):e,"function"==typeof n?n.call(this,this):n)}:e:n}function Ln(n,e){var t=e?n?n.concat(e):Array.isArray(e)?e:[e]:n;return t?function(n){for(var e=[],t=0;t<n.length;t++)-1===e.indexOf(n[t])&&e.push(n[t]);return e}(t):t}function Mn(n,e,t,r){var a=Object.create(n||null);return e?I(a,e):a}zn.data=function(n,e,t){return t?Pn(n,e,t):e&&"function"!=typeof e?n:Pn(n,e)},D.forEach((function(n){zn[n]=Ln})),$.forEach((function(n){zn[n+"s"]=Mn})),zn.watch=function(n,e,t,r){if(n===en&&(n=void 0),e===en&&(e=void 0),!e)return Object.create(n||null);if(!n)return e;var a={};for(var i in I(a,n),e){var o=a[i],s=e[i];o&&!Array.isArray(o)&&(o=[o]),a[i]=o?o.concat(s):Array.isArray(s)?s:[s]}return a},zn.props=zn.methods=zn.inject=zn.computed=function(n,e,t,r){if(!n)return e;var a=Object.create(null);return I(a,n),e&&I(a,e),a},zn.provide=Pn;var Bn=function(n,e){return void 0===e?n:e};function $n(n,e,t){if("function"==typeof e&&(e=e.options),function(n,e){var t=n.props;if(t){var r,a,i={};if(Array.isArray(t))for(r=t.length;r--;)"string"==typeof(a=t[r])&&(i[S(a)]={type:null});else if(p(t))for(var o in t)a=t[o],i[S(o)]=p(a)?a:{type:a};else 0;n.props=i}}(e),function(n,e){var t=n.inject;if(t){var r=n.inject={};if(Array.isArray(t))for(var a=0;a<t.length;a++)r[t[a]]={from:t[a]};else if(p(t))for(var i in t){var o=t[i];r[i]=p(o)?I({from:i},o):{from:o}}else 0}}(e),function(n){var e=n.directives;if(e)for(var t in e){var r=e[t];"function"==typeof r&&(e[t]={bind:r,update:r})}}(e),!e._base&&(e.extends&&(n=$n(n,e.extends,t)),e.mixins))for(var r=0,a=e.mixins.length;r<a;r++)n=$n(n,e.mixins[r],t);var i,o={};for(i in n)s(i);for(i in e)_(n,i)||s(i);function s(r){var a=zn[r]||Bn;o[r]=a(n[r],e[r],t,r)}return o}function Dn(n,e,t,r){if("string"==typeof t){var a=n[e];if(_(a,t))return a[t];var i=S(t);if(_(a,i))return a[i];var o=j(i);return _(a,o)?a[o]:a[t]||a[i]||a[o]}}function Jn(n,e,t,r){var a=e[n],i=!_(t,n),o=t[n],s=Un(Boolean,a.type);if(s>-1)if(i&&!_(a,"default"))o=!1;else if(""===o||o===E(n)){var l=Un(String,a.type);(l<0||s<l)&&(o=!0)}if(void 0===o){o=function(n,e,t){if(!_(e,"default"))return;var r=e.default;0;if(n&&n.$options.propsData&&void 0===n.$options.propsData[t]&&void 0!==n._props[t])return n._props[t];return"function"==typeof r&&"Function"!==Fn(e.type)?r.call(n):r}(r,a,n);var c=Sn;jn(!0),En(o),jn(c)}return o}var Nn=/^\s*function (\w+)/;function Fn(n){var e=n&&n.toString().match(Nn);return e?e[1]:""}function qn(n,e){return Fn(n)===Fn(e)}function Un(n,e){if(!Array.isArray(e))return qn(e,n)?0:-1;for(var t=0,r=e.length;t<r;t++)if(qn(e[t],n))return t;return-1}function Hn(n,e,t){hn();try{if(e)for(var r=e;r=r.$parent;){var a=r.$options.errorCaptured;if(a)for(var i=0;i<a.length;i++)try{if(!1===a[i].call(r,n,e,t))return}catch(n){Gn(n,r,"errorCaptured hook")}}Gn(n,e,t)}finally{vn()}}function Vn(n,e,t,r,a){var i;try{(i=t?n.apply(e,t):n.call(e))&&!i._isVue&&h(i)&&!i._handled&&(i.catch((function(n){return Hn(n,r,a+" (Promise/async)")})),i._handled=!0)}catch(n){Hn(n,r,a)}return i}function Gn(n,e,t){if(J.errorHandler)try{return J.errorHandler.call(null,n,e,t)}catch(e){e!==n&&Qn(e,null,"config.errorHandler")}Qn(n,e,t)}function Qn(n,e,t){if(!V&&!G||"undefined"==typeof console)throw n;console.error(n)}var Xn,Kn=!1,Wn=[],Yn=!1;function Zn(){Yn=!1;var n=Wn.slice(0);Wn.length=0;for(var e=0;e<n.length;e++)n[e]()}if("undefined"!=typeof Promise&&sn(Promise)){var ne=Promise.resolve();Xn=function(){ne.then(Zn),Z&&setTimeout(z)},Kn=!0}else if(K||"undefined"==typeof MutationObserver||!sn(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Xn="undefined"!=typeof setImmediate&&sn(setImmediate)?function(){setImmediate(Zn)}:function(){setTimeout(Zn,0)};else{var ee=1,te=new MutationObserver(Zn),re=document.createTextNode(String(ee));te.observe(re,{characterData:!0}),Xn=function(){ee=(ee+1)%2,re.data=String(ee)},Kn=!0}function ae(n,e){var t;if(Wn.push((function(){if(n)try{n.call(e)}catch(n){Hn(n,e,"nextTick")}else t&&t(e)})),Yn||(Yn=!0,Xn()),!n&&"undefined"!=typeof Promise)return new Promise((function(n){t=n}))}var ie=new ln;function oe(n){!function n(e,t){var r,a,i=Array.isArray(e);if(!i&&!c(e)||Object.isFrozen(e)||e instanceof mn)return;if(e.__ob__){var o=e.__ob__.dep.id;if(t.has(o))return;t.add(o)}if(i)for(r=e.length;r--;)n(e[r],t);else for(a=Object.keys(e),r=a.length;r--;)n(e[a[r]],t)}(n,ie),ie.clear()}var se=w((function(n){var e="&"===n.charAt(0),t="~"===(n=e?n.slice(1):n).charAt(0),r="!"===(n=t?n.slice(1):n).charAt(0);return{name:n=r?n.slice(1):n,once:t,capture:r,passive:e}}));function le(n,e){function t(){var n=arguments,r=t.fns;if(!Array.isArray(r))return Vn(r,null,arguments,e,"v-on handler");for(var a=r.slice(),i=0;i<a.length;i++)Vn(a[i],null,n,e,"v-on handler")}return t.fns=n,t}function ce(n,e,t,r,a,o){var l,c,u,p;for(l in n)c=n[l],u=e[l],p=se(l),i(c)||(i(u)?(i(c.fns)&&(c=n[l]=le(c,o)),s(p.once)&&(c=n[l]=a(p.name,c,p.capture)),t(p.name,c,p.capture,p.passive,p.params)):c!==u&&(u.fns=c,n[l]=u));for(l in e)i(n[l])&&r((p=se(l)).name,e[l],p.capture)}function ue(n,e,t){var r;n instanceof mn&&(n=n.data.hook||(n.data.hook={}));var a=n[e];function l(){t.apply(this,arguments),y(r.fns,l)}i(a)?r=le([l]):o(a.fns)&&s(a.merged)?(r=a).fns.push(l):r=le([a,l]),r.merged=!0,n[e]=r}function pe(n,e,t,r,a){if(o(e)){if(_(e,t))return n[t]=e[t],a||delete e[t],!0;if(_(e,r))return n[t]=e[r],a||delete e[r],!0}return!1}function de(n){return l(n)?[yn(n)]:Array.isArray(n)?function n(e,t){var r,a,c,u,p=[];for(r=0;r<e.length;r++)i(a=e[r])||"boolean"==typeof a||(c=p.length-1,u=p[c],Array.isArray(a)?a.length>0&&(fe((a=n(a,(t||"")+"_"+r))[0])&&fe(u)&&(p[c]=yn(u.text+a[0].text),a.shift()),p.push.apply(p,a)):l(a)?fe(u)?p[c]=yn(u.text+a):""!==a&&p.push(yn(a)):fe(a)&&fe(u)?p[c]=yn(u.text+a.text):(s(e._isVList)&&o(a.tag)&&i(a.key)&&o(t)&&(a.key="__vlist"+t+"_"+r+"__"),p.push(a)));return p}(n):void 0}function fe(n){return o(n)&&o(n.text)&&!1===n.isComment}function he(n,e){if(n){for(var t=Object.create(null),r=cn?Reflect.ownKeys(n):Object.keys(n),a=0;a<r.length;a++){var i=r[a];if("__ob__"!==i){for(var o=n[i].from,s=e;s;){if(s._provided&&_(s._provided,o)){t[i]=s._provided[o];break}s=s.$parent}if(!s)if("default"in n[i]){var l=n[i].default;t[i]="function"==typeof l?l.call(e):l}else 0}}return t}}function ve(n,e){if(!n||!n.length)return{};for(var t={},r=0,a=n.length;r<a;r++){var i=n[r],o=i.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,i.context!==e&&i.fnContext!==e||!o||null==o.slot)(t.default||(t.default=[])).push(i);else{var s=o.slot,l=t[s]||(t[s]=[]);"template"===i.tag?l.push.apply(l,i.children||[]):l.push(i)}}for(var c in t)t[c].every(me)&&delete t[c];return t}function me(n){return n.isComment&&!n.asyncFactory||" "===n.text}function ge(n){return n.isComment&&n.asyncFactory}function be(n,e,t){var r,i=Object.keys(e).length>0,o=n?!!n.$stable:!i,s=n&&n.$key;if(n){if(n._normalized)return n._normalized;if(o&&t&&t!==a&&s===t.$key&&!i&&!t.$hasNormal)return t;for(var l in r={},n)n[l]&&"$"!==l[0]&&(r[l]=ye(e,l,n[l]))}else r={};for(var c in e)c in r||(r[c]=xe(e,c));return n&&Object.isExtensible(n)&&(n._normalized=r),F(r,"$stable",o),F(r,"$key",s),F(r,"$hasNormal",i),r}function ye(n,e,t){var r=function(){var n=arguments.length?t.apply(null,arguments):t({}),e=(n=n&&"object"==typeof n&&!Array.isArray(n)?[n]:de(n))&&n[0];return n&&(!e||1===n.length&&e.isComment&&!ge(e))?void 0:n};return t.proxy&&Object.defineProperty(n,e,{get:r,enumerable:!0,configurable:!0}),r}function xe(n,e){return function(){return n[e]}}function _e(n,e){var t,r,a,i,s;if(Array.isArray(n)||"string"==typeof n)for(t=new Array(n.length),r=0,a=n.length;r<a;r++)t[r]=e(n[r],r);else if("number"==typeof n)for(t=new Array(n),r=0;r<n;r++)t[r]=e(r+1,r);else if(c(n))if(cn&&n[Symbol.iterator]){t=[];for(var l=n[Symbol.iterator](),u=l.next();!u.done;)t.push(e(u.value,t.length)),u=l.next()}else for(i=Object.keys(n),t=new Array(i.length),r=0,a=i.length;r<a;r++)s=i[r],t[r]=e(n[s],s,r);return o(t)||(t=[]),t._isVList=!0,t}function we(n,e,t,r){var a,i=this.$scopedSlots[n];i?(t=t||{},r&&(t=I(I({},r),t)),a=i(t)||("function"==typeof e?e():e)):a=this.$slots[n]||("function"==typeof e?e():e);var o=t&&t.slot;return o?this.$createElement("template",{slot:o},a):a}function ke(n){return Dn(this.$options,"filters",n)||P}function Se(n,e){return Array.isArray(n)?-1===n.indexOf(e):n!==e}function je(n,e,t,r,a){var i=J.keyCodes[e]||t;return a&&r&&!J.keyCodes[e]?Se(a,r):i?Se(i,n):r?E(r)!==e:void 0===n}function Te(n,e,t,r,a){if(t)if(c(t)){var i;Array.isArray(t)&&(t=A(t));var o=function(o){if("class"===o||"style"===o||b(o))i=n;else{var s=n.attrs&&n.attrs.type;i=r||J.mustUseProp(e,s,o)?n.domProps||(n.domProps={}):n.attrs||(n.attrs={})}var l=S(o),c=E(o);l in i||c in i||(i[o]=t[o],a&&((n.on||(n.on={}))["update:"+o]=function(n){t[o]=n}))};for(var s in t)o(s)}else;return n}function Ee(n,e){var t=this._staticTrees||(this._staticTrees=[]),r=t[n];return r&&!e||Oe(r=t[n]=this.$options.staticRenderFns[n].call(this._renderProxy,null,this),"__static__"+n,!1),r}function Ce(n,e,t){return Oe(n,"__once__"+e+(t?"_"+t:""),!0),n}function Oe(n,e,t){if(Array.isArray(n))for(var r=0;r<n.length;r++)n[r]&&"string"!=typeof n[r]&&Ie(n[r],e+"_"+r,t);else Ie(n,e,t)}function Ie(n,e,t){n.isStatic=!0,n.key=e,n.isOnce=t}function Ae(n,e){if(e)if(p(e)){var t=n.on=n.on?I({},n.on):{};for(var r in e){var a=t[r],i=e[r];t[r]=a?[].concat(a,i):i}}else;return n}function ze(n,e,t,r){e=e||{$stable:!t};for(var a=0;a<n.length;a++){var i=n[a];Array.isArray(i)?ze(i,e,t):i&&(i.proxy&&(i.fn.proxy=!0),e[i.key]=i.fn)}return r&&(e.$key=r),e}function Re(n,e){for(var t=0;t<e.length;t+=2){var r=e[t];"string"==typeof r&&r&&(n[e[t]]=e[t+1])}return n}function Pe(n,e){return"string"==typeof n?e+n:n}function Le(n){n._o=Ce,n._n=m,n._s=v,n._l=_e,n._t=we,n._q=L,n._i=M,n._m=Ee,n._f=ke,n._k=je,n._b=Te,n._v=yn,n._e=bn,n._u=ze,n._g=Ae,n._d=Re,n._p=Pe}function Me(n,e,t,r,i){var o,l=this,c=i.options;_(r,"_uid")?(o=Object.create(r))._original=r:(o=r,r=r._original);var u=s(c._compiled),p=!u;this.data=n,this.props=e,this.children=t,this.parent=r,this.listeners=n.on||a,this.injections=he(c.inject,r),this.slots=function(){return l.$slots||be(n.scopedSlots,l.$slots=ve(t,r)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return be(n.scopedSlots,this.slots())}}),u&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=be(n.scopedSlots,this.$slots)),c._scopeId?this._c=function(n,e,t,a){var i=qe(o,n,e,t,a,p);return i&&!Array.isArray(i)&&(i.fnScopeId=c._scopeId,i.fnContext=r),i}:this._c=function(n,e,t,r){return qe(o,n,e,t,r,p)}}function Be(n,e,t,r,a){var i=xn(n);return i.fnContext=t,i.fnOptions=r,e.slot&&((i.data||(i.data={})).slot=e.slot),i}function $e(n,e){for(var t in e)n[S(t)]=e[t]}Le(Me.prototype);var De={init:function(n,e){if(n.componentInstance&&!n.componentInstance._isDestroyed&&n.data.keepAlive){var t=n;De.prepatch(t,t)}else{(n.componentInstance=function(n,e){var t={_isComponent:!0,_parentVnode:n,parent:e},r=n.data.inlineTemplate;o(r)&&(t.render=r.render,t.staticRenderFns=r.staticRenderFns);return new n.componentOptions.Ctor(t)}(n,Ye)).$mount(e?n.elm:void 0,e)}},prepatch:function(n,e){var t=e.componentOptions;!function(n,e,t,r,i){0;var o=r.data.scopedSlots,s=n.$scopedSlots,l=!!(o&&!o.$stable||s!==a&&!s.$stable||o&&n.$scopedSlots.$key!==o.$key||!o&&n.$scopedSlots.$key),c=!!(i||n.$options._renderChildren||l);n.$options._parentVnode=r,n.$vnode=r,n._vnode&&(n._vnode.parent=r);if(n.$options._renderChildren=i,n.$attrs=r.data.attrs||a,n.$listeners=t||a,e&&n.$options.props){jn(!1);for(var u=n._props,p=n.$options._propKeys||[],d=0;d<p.length;d++){var f=p[d],h=n.$options.props;u[f]=Jn(f,h,e,n)}jn(!0),n.$options.propsData=e}t=t||a;var v=n.$options._parentListeners;n.$options._parentListeners=t,We(n,t,v),c&&(n.$slots=ve(i,r.context),n.$forceUpdate());0}(e.componentInstance=n.componentInstance,t.propsData,t.listeners,e,t.children)},insert:function(n){var e,t=n.context,r=n.componentInstance;r._isMounted||(r._isMounted=!0,tt(r,"mounted")),n.data.keepAlive&&(t._isMounted?((e=r)._inactive=!1,at.push(e)):et(r,!0))},destroy:function(n){var e=n.componentInstance;e._isDestroyed||(n.data.keepAlive?function n(e,t){if(t&&(e._directInactive=!0,nt(e)))return;if(!e._inactive){e._inactive=!0;for(var r=0;r<e.$children.length;r++)n(e.$children[r]);tt(e,"deactivated")}}(e,!0):e.$destroy())}},Je=Object.keys(De);function Ne(n,e,t,r,l){if(!i(n)){var u=t.$options._base;if(c(n)&&(n=u.extend(n)),"function"==typeof n){var p;if(i(n.cid)&&void 0===(n=function(n,e){if(s(n.error)&&o(n.errorComp))return n.errorComp;if(o(n.resolved))return n.resolved;var t=He;t&&o(n.owners)&&-1===n.owners.indexOf(t)&&n.owners.push(t);if(s(n.loading)&&o(n.loadingComp))return n.loadingComp;if(t&&!o(n.owners)){var r=n.owners=[t],a=!0,l=null,u=null;t.$on("hook:destroyed",(function(){return y(r,t)}));var p=function(n){for(var e=0,t=r.length;e<t;e++)r[e].$forceUpdate();n&&(r.length=0,null!==l&&(clearTimeout(l),l=null),null!==u&&(clearTimeout(u),u=null))},d=B((function(t){n.resolved=Ve(t,e),a?r.length=0:p(!0)})),f=B((function(e){o(n.errorComp)&&(n.error=!0,p(!0))})),v=n(d,f);return c(v)&&(h(v)?i(n.resolved)&&v.then(d,f):h(v.component)&&(v.component.then(d,f),o(v.error)&&(n.errorComp=Ve(v.error,e)),o(v.loading)&&(n.loadingComp=Ve(v.loading,e),0===v.delay?n.loading=!0:l=setTimeout((function(){l=null,i(n.resolved)&&i(n.error)&&(n.loading=!0,p(!1))}),v.delay||200)),o(v.timeout)&&(u=setTimeout((function(){u=null,i(n.resolved)&&f(null)}),v.timeout)))),a=!1,n.loading?n.loadingComp:n.resolved}}(p=n,u)))return function(n,e,t,r,a){var i=bn();return i.asyncFactory=n,i.asyncMeta={data:e,context:t,children:r,tag:a},i}(p,e,t,r,l);e=e||{},St(n),o(e.model)&&function(n,e){var t=n.model&&n.model.prop||"value",r=n.model&&n.model.event||"input";(e.attrs||(e.attrs={}))[t]=e.model.value;var a=e.on||(e.on={}),i=a[r],s=e.model.callback;o(i)?(Array.isArray(i)?-1===i.indexOf(s):i!==s)&&(a[r]=[s].concat(i)):a[r]=s}(n.options,e);var d=function(n,e,t){var r=e.options.props;if(!i(r)){var a={},s=n.attrs,l=n.props;if(o(s)||o(l))for(var c in r){var u=E(c);pe(a,l,c,u,!0)||pe(a,s,c,u,!1)}return a}}(e,n);if(s(n.options.functional))return function(n,e,t,r,i){var s=n.options,l={},c=s.props;if(o(c))for(var u in c)l[u]=Jn(u,c,e||a);else o(t.attrs)&&$e(l,t.attrs),o(t.props)&&$e(l,t.props);var p=new Me(t,l,i,r,n),d=s.render.call(null,p._c,p);if(d instanceof mn)return Be(d,t,p.parent,s,p);if(Array.isArray(d)){for(var f=de(d)||[],h=new Array(f.length),v=0;v<f.length;v++)h[v]=Be(f[v],t,p.parent,s,p);return h}}(n,d,e,t,r);var f=e.on;if(e.on=e.nativeOn,s(n.options.abstract)){var v=e.slot;e={},v&&(e.slot=v)}!function(n){for(var e=n.hook||(n.hook={}),t=0;t<Je.length;t++){var r=Je[t],a=e[r],i=De[r];a===i||a&&a._merged||(e[r]=a?Fe(i,a):i)}}(e);var m=n.options.name||l;return new mn("vue-component-"+n.cid+(m?"-"+m:""),e,void 0,void 0,void 0,t,{Ctor:n,propsData:d,listeners:f,tag:l,children:r},p)}}}function Fe(n,e){var t=function(t,r){n(t,r),e(t,r)};return t._merged=!0,t}function qe(n,e,t,r,a,u){return(Array.isArray(t)||l(t))&&(a=r,r=t,t=void 0),s(u)&&(a=2),function(n,e,t,r,a){if(o(t)&&o(t.__ob__))return bn();o(t)&&o(t.is)&&(e=t.is);if(!e)return bn();0;Array.isArray(r)&&"function"==typeof r[0]&&((t=t||{}).scopedSlots={default:r[0]},r.length=0);2===a?r=de(r):1===a&&(r=function(n){for(var e=0;e<n.length;e++)if(Array.isArray(n[e]))return Array.prototype.concat.apply([],n);return n}(r));var l,u;if("string"==typeof e){var p;u=n.$vnode&&n.$vnode.ns||J.getTagNamespace(e),l=J.isReservedTag(e)?new mn(J.parsePlatformTagName(e),t,r,void 0,void 0,n):t&&t.pre||!o(p=Dn(n.$options,"components",e))?new mn(e,t,r,void 0,void 0,n):Ne(p,t,n,r,e)}else l=Ne(e,t,n,r);return Array.isArray(l)?l:o(l)?(o(u)&&function n(e,t,r){e.ns=t,"foreignObject"===e.tag&&(t=void 0,r=!0);if(o(e.children))for(var a=0,l=e.children.length;a<l;a++){var c=e.children[a];o(c.tag)&&(i(c.ns)||s(r)&&"svg"!==c.tag)&&n(c,t,r)}}(l,u),o(t)&&function(n){c(n.style)&&oe(n.style);c(n.class)&&oe(n.class)}(t),l):bn()}(n,e,t,r,a)}var Ue,He=null;function Ve(n,e){return(n.__esModule||cn&&"Module"===n[Symbol.toStringTag])&&(n=n.default),c(n)?e.extend(n):n}function Ge(n){if(Array.isArray(n))for(var e=0;e<n.length;e++){var t=n[e];if(o(t)&&(o(t.componentOptions)||ge(t)))return t}}function Qe(n,e){Ue.$on(n,e)}function Xe(n,e){Ue.$off(n,e)}function Ke(n,e){var t=Ue;return function r(){var a=e.apply(null,arguments);null!==a&&t.$off(n,r)}}function We(n,e,t){Ue=n,ce(e,t||{},Qe,Xe,Ke,n),Ue=void 0}var Ye=null;function Ze(n){var e=Ye;return Ye=n,function(){Ye=e}}function nt(n){for(;n&&(n=n.$parent);)if(n._inactive)return!0;return!1}function et(n,e){if(e){if(n._directInactive=!1,nt(n))return}else if(n._directInactive)return;if(n._inactive||null===n._inactive){n._inactive=!1;for(var t=0;t<n.$children.length;t++)et(n.$children[t]);tt(n,"activated")}}function tt(n,e){hn();var t=n.$options[e],r=e+" hook";if(t)for(var a=0,i=t.length;a<i;a++)Vn(t[a],n,null,n,r);n._hasHookEvent&&n.$emit("hook:"+e),vn()}var rt=[],at=[],it={},ot=!1,st=!1,lt=0;var ct=0,ut=Date.now;if(V&&!K){var pt=window.performance;pt&&"function"==typeof pt.now&&ut()>document.createEvent("Event").timeStamp&&(ut=function(){return pt.now()})}function dt(){var n,e;for(ct=ut(),st=!0,rt.sort((function(n,e){return n.id-e.id})),lt=0;lt<rt.length;lt++)(n=rt[lt]).before&&n.before(),e=n.id,it[e]=null,n.run();var t=at.slice(),r=rt.slice();lt=rt.length=at.length=0,it={},ot=st=!1,function(n){for(var e=0;e<n.length;e++)n[e]._inactive=!0,et(n[e],!0)}(t),function(n){var e=n.length;for(;e--;){var t=n[e],r=t.vm;r._watcher===t&&r._isMounted&&!r._isDestroyed&&tt(r,"updated")}}(r),on&&J.devtools&&on.emit("flush")}var ft=0,ht=function(n,e,t,r,a){this.vm=n,a&&(n._watcher=this),n._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=t,this.id=++ft,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ln,this.newDepIds=new ln,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(n){if(!q.test(n)){var e=n.split(".");return function(n){for(var t=0;t<e.length;t++){if(!n)return;n=n[e[t]]}return n}}}(e),this.getter||(this.getter=z)),this.value=this.lazy?void 0:this.get()};ht.prototype.get=function(){var n;hn(this);var e=this.vm;try{n=this.getter.call(e,e)}catch(n){if(!this.user)throw n;Hn(n,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&oe(n),vn(),this.cleanupDeps()}return n},ht.prototype.addDep=function(n){var e=n.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(n),this.depIds.has(e)||n.addSub(this))},ht.prototype.cleanupDeps=function(){for(var n=this.deps.length;n--;){var e=this.deps[n];this.newDepIds.has(e.id)||e.removeSub(this)}var t=this.depIds;this.depIds=this.newDepIds,this.newDepIds=t,this.newDepIds.clear(),t=this.deps,this.deps=this.newDeps,this.newDeps=t,this.newDeps.length=0},ht.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(n){var e=n.id;if(null==it[e]){if(it[e]=!0,st){for(var t=rt.length-1;t>lt&&rt[t].id>n.id;)t--;rt.splice(t+1,0,n)}else rt.push(n);ot||(ot=!0,ae(dt))}}(this)},ht.prototype.run=function(){if(this.active){var n=this.get();if(n!==this.value||c(n)||this.deep){var e=this.value;if(this.value=n,this.user){var t='callback for watcher "'+this.expression+'"';Vn(this.cb,this.vm,[n,e],this.vm,t)}else this.cb.call(this.vm,n,e)}}},ht.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},ht.prototype.depend=function(){for(var n=this.deps.length;n--;)this.deps[n].depend()},ht.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||y(this.vm._watchers,this);for(var n=this.deps.length;n--;)this.deps[n].removeSub(this);this.active=!1}};var vt={enumerable:!0,configurable:!0,get:z,set:z};function mt(n,e,t){vt.get=function(){return this[e][t]},vt.set=function(n){this[e][t]=n},Object.defineProperty(n,t,vt)}function gt(n){n._watchers=[];var e=n.$options;e.props&&function(n,e){var t=n.$options.propsData||{},r=n._props={},a=n.$options._propKeys=[];n.$parent&&jn(!1);var i=function(i){a.push(i);var o=Jn(i,e,t,n);Cn(r,i,o),i in n||mt(n,"_props",i)};for(var o in e)i(o);jn(!0)}(n,e.props),e.methods&&function(n,e){n.$options.props;for(var t in e)n[t]="function"!=typeof e[t]?z:C(e[t],n)}(n,e.methods),e.data?function(n){var e=n.$options.data;p(e=n._data="function"==typeof e?function(n,e){hn();try{return n.call(e,e)}catch(n){return Hn(n,e,"data()"),{}}finally{vn()}}(e,n):e||{})||(e={});var t=Object.keys(e),r=n.$options.props,a=(n.$options.methods,t.length);for(;a--;){var i=t[a];0,r&&_(r,i)||(o=void 0,36!==(o=(i+"").charCodeAt(0))&&95!==o&&mt(n,"_data",i))}var o;En(e,!0)}(n):En(n._data={},!0),e.computed&&function(n,e){var t=n._computedWatchers=Object.create(null),r=an();for(var a in e){var i=e[a],o="function"==typeof i?i:i.get;0,r||(t[a]=new ht(n,o||z,z,bt)),a in n||yt(n,a,i)}}(n,e.computed),e.watch&&e.watch!==en&&function(n,e){for(var t in e){var r=e[t];if(Array.isArray(r))for(var a=0;a<r.length;a++)wt(n,t,r[a]);else wt(n,t,r)}}(n,e.watch)}var bt={lazy:!0};function yt(n,e,t){var r=!an();"function"==typeof t?(vt.get=r?xt(e):_t(t),vt.set=z):(vt.get=t.get?r&&!1!==t.cache?xt(e):_t(t.get):z,vt.set=t.set||z),Object.defineProperty(n,e,vt)}function xt(n){return function(){var e=this._computedWatchers&&this._computedWatchers[n];if(e)return e.dirty&&e.evaluate(),dn.target&&e.depend(),e.value}}function _t(n){return function(){return n.call(this,this)}}function wt(n,e,t,r){return p(t)&&(r=t,t=t.handler),"string"==typeof t&&(t=n[t]),n.$watch(e,t,r)}var kt=0;function St(n){var e=n.options;if(n.super){var t=St(n.super);if(t!==n.superOptions){n.superOptions=t;var r=function(n){var e,t=n.options,r=n.sealedOptions;for(var a in t)t[a]!==r[a]&&(e||(e={}),e[a]=t[a]);return e}(n);r&&I(n.extendOptions,r),(e=n.options=$n(t,n.extendOptions)).name&&(e.components[e.name]=n)}}return e}function jt(n){this._init(n)}function Tt(n){n.cid=0;var e=1;n.extend=function(n){n=n||{};var t=this,r=t.cid,a=n._Ctor||(n._Ctor={});if(a[r])return a[r];var i=n.name||t.options.name;var o=function(n){this._init(n)};return(o.prototype=Object.create(t.prototype)).constructor=o,o.cid=e++,o.options=$n(t.options,n),o.super=t,o.options.props&&function(n){var e=n.options.props;for(var t in e)mt(n.prototype,"_props",t)}(o),o.options.computed&&function(n){var e=n.options.computed;for(var t in e)yt(n.prototype,t,e[t])}(o),o.extend=t.extend,o.mixin=t.mixin,o.use=t.use,$.forEach((function(n){o[n]=t[n]})),i&&(o.options.components[i]=o),o.superOptions=t.options,o.extendOptions=n,o.sealedOptions=I({},o.options),a[r]=o,o}}function Et(n){return n&&(n.Ctor.options.name||n.tag)}function Ct(n,e){return Array.isArray(n)?n.indexOf(e)>-1:"string"==typeof n?n.split(",").indexOf(e)>-1:!!d(n)&&n.test(e)}function Ot(n,e){var t=n.cache,r=n.keys,a=n._vnode;for(var i in t){var o=t[i];if(o){var s=o.name;s&&!e(s)&&It(t,i,r,a)}}}function It(n,e,t,r){var a=n[e];!a||r&&a.tag===r.tag||a.componentInstance.$destroy(),n[e]=null,y(t,e)}!function(n){n.prototype._init=function(n){var e=this;e._uid=kt++,e._isVue=!0,n&&n._isComponent?function(n,e){var t=n.$options=Object.create(n.constructor.options),r=e._parentVnode;t.parent=e.parent,t._parentVnode=r;var a=r.componentOptions;t.propsData=a.propsData,t._parentListeners=a.listeners,t._renderChildren=a.children,t._componentTag=a.tag,e.render&&(t.render=e.render,t.staticRenderFns=e.staticRenderFns)}(e,n):e.$options=$n(St(e.constructor),n||{},e),e._renderProxy=e,e._self=e,function(n){var e=n.$options,t=e.parent;if(t&&!e.abstract){for(;t.$options.abstract&&t.$parent;)t=t.$parent;t.$children.push(n)}n.$parent=t,n.$root=t?t.$root:n,n.$children=[],n.$refs={},n._watcher=null,n._inactive=null,n._directInactive=!1,n._isMounted=!1,n._isDestroyed=!1,n._isBeingDestroyed=!1}(e),function(n){n._events=Object.create(null),n._hasHookEvent=!1;var e=n.$options._parentListeners;e&&We(n,e)}(e),function(n){n._vnode=null,n._staticTrees=null;var e=n.$options,t=n.$vnode=e._parentVnode,r=t&&t.context;n.$slots=ve(e._renderChildren,r),n.$scopedSlots=a,n._c=function(e,t,r,a){return qe(n,e,t,r,a,!1)},n.$createElement=function(e,t,r,a){return qe(n,e,t,r,a,!0)};var i=t&&t.data;Cn(n,"$attrs",i&&i.attrs||a,null,!0),Cn(n,"$listeners",e._parentListeners||a,null,!0)}(e),tt(e,"beforeCreate"),function(n){var e=he(n.$options.inject,n);e&&(jn(!1),Object.keys(e).forEach((function(t){Cn(n,t,e[t])})),jn(!0))}(e),gt(e),function(n){var e=n.$options.provide;e&&(n._provided="function"==typeof e?e.call(n):e)}(e),tt(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(jt),function(n){var e={get:function(){return this._data}},t={get:function(){return this._props}};Object.defineProperty(n.prototype,"$data",e),Object.defineProperty(n.prototype,"$props",t),n.prototype.$set=On,n.prototype.$delete=In,n.prototype.$watch=function(n,e,t){if(p(e))return wt(this,n,e,t);(t=t||{}).user=!0;var r=new ht(this,n,e,t);if(t.immediate){var a='callback for immediate watcher "'+r.expression+'"';hn(),Vn(e,this,[r.value],this,a),vn()}return function(){r.teardown()}}}(jt),function(n){var e=/^hook:/;n.prototype.$on=function(n,t){var r=this;if(Array.isArray(n))for(var a=0,i=n.length;a<i;a++)r.$on(n[a],t);else(r._events[n]||(r._events[n]=[])).push(t),e.test(n)&&(r._hasHookEvent=!0);return r},n.prototype.$once=function(n,e){var t=this;function r(){t.$off(n,r),e.apply(t,arguments)}return r.fn=e,t.$on(n,r),t},n.prototype.$off=function(n,e){var t=this;if(!arguments.length)return t._events=Object.create(null),t;if(Array.isArray(n)){for(var r=0,a=n.length;r<a;r++)t.$off(n[r],e);return t}var i,o=t._events[n];if(!o)return t;if(!e)return t._events[n]=null,t;for(var s=o.length;s--;)if((i=o[s])===e||i.fn===e){o.splice(s,1);break}return t},n.prototype.$emit=function(n){var e=this,t=e._events[n];if(t){t=t.length>1?O(t):t;for(var r=O(arguments,1),a='event handler for "'+n+'"',i=0,o=t.length;i<o;i++)Vn(t[i],e,r,e,a)}return e}}(jt),function(n){n.prototype._update=function(n,e){var t=this,r=t.$el,a=t._vnode,i=Ze(t);t._vnode=n,t.$el=a?t.__patch__(a,n):t.__patch__(t.$el,n,e,!1),i(),r&&(r.__vue__=null),t.$el&&(t.$el.__vue__=t),t.$vnode&&t.$parent&&t.$vnode===t.$parent._vnode&&(t.$parent.$el=t.$el)},n.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},n.prototype.$destroy=function(){var n=this;if(!n._isBeingDestroyed){tt(n,"beforeDestroy"),n._isBeingDestroyed=!0;var e=n.$parent;!e||e._isBeingDestroyed||n.$options.abstract||y(e.$children,n),n._watcher&&n._watcher.teardown();for(var t=n._watchers.length;t--;)n._watchers[t].teardown();n._data.__ob__&&n._data.__ob__.vmCount--,n._isDestroyed=!0,n.__patch__(n._vnode,null),tt(n,"destroyed"),n.$off(),n.$el&&(n.$el.__vue__=null),n.$vnode&&(n.$vnode.parent=null)}}}(jt),function(n){Le(n.prototype),n.prototype.$nextTick=function(n){return ae(n,this)},n.prototype._render=function(){var n,e=this,t=e.$options,r=t.render,a=t._parentVnode;a&&(e.$scopedSlots=be(a.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=a;try{He=e,n=r.call(e._renderProxy,e.$createElement)}catch(t){Hn(t,e,"render"),n=e._vnode}finally{He=null}return Array.isArray(n)&&1===n.length&&(n=n[0]),n instanceof mn||(n=bn()),n.parent=a,n}}(jt);var At=[String,RegExp,Array],zt={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:At,exclude:At,max:[String,Number]},methods:{cacheVNode:function(){var n=this.cache,e=this.keys,t=this.vnodeToCache,r=this.keyToCache;if(t){var a=t.tag,i=t.componentInstance,o=t.componentOptions;n[r]={name:Et(o),tag:a,componentInstance:i},e.push(r),this.max&&e.length>parseInt(this.max)&&It(n,e[0],e,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var n in this.cache)It(this.cache,n,this.keys)},mounted:function(){var n=this;this.cacheVNode(),this.$watch("include",(function(e){Ot(n,(function(n){return Ct(e,n)}))})),this.$watch("exclude",(function(e){Ot(n,(function(n){return!Ct(e,n)}))}))},updated:function(){this.cacheVNode()},render:function(){var n=this.$slots.default,e=Ge(n),t=e&&e.componentOptions;if(t){var r=Et(t),a=this.include,i=this.exclude;if(a&&(!r||!Ct(a,r))||i&&r&&Ct(i,r))return e;var o=this.cache,s=this.keys,l=null==e.key?t.Ctor.cid+(t.tag?"::"+t.tag:""):e.key;o[l]?(e.componentInstance=o[l].componentInstance,y(s,l),s.push(l)):(this.vnodeToCache=e,this.keyToCache=l),e.data.keepAlive=!0}return e||n&&n[0]}}};!function(n){var e={get:function(){return J}};Object.defineProperty(n,"config",e),n.util={warn:un,extend:I,mergeOptions:$n,defineReactive:Cn},n.set=On,n.delete=In,n.nextTick=ae,n.observable=function(n){return En(n),n},n.options=Object.create(null),$.forEach((function(e){n.options[e+"s"]=Object.create(null)})),n.options._base=n,I(n.options.components,zt),function(n){n.use=function(n){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(n)>-1)return this;var t=O(arguments,1);return t.unshift(this),"function"==typeof n.install?n.install.apply(n,t):"function"==typeof n&&n.apply(null,t),e.push(n),this}}(n),function(n){n.mixin=function(n){return this.options=$n(this.options,n),this}}(n),Tt(n),function(n){$.forEach((function(e){n[e]=function(n,t){return t?("component"===e&&p(t)&&(t.name=t.name||n,t=this.options._base.extend(t)),"directive"===e&&"function"==typeof t&&(t={bind:t,update:t}),this.options[e+"s"][n]=t,t):this.options[e+"s"][n]}}))}(n)}(jt),Object.defineProperty(jt.prototype,"$isServer",{get:an}),Object.defineProperty(jt.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(jt,"FunctionalRenderContext",{value:Me}),jt.version="2.6.14";var Rt=g("style,class"),Pt=g("input,textarea,option,select,progress"),Lt=g("contenteditable,draggable,spellcheck"),Mt=g("events,caret,typing,plaintext-only"),Bt=g("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),$t="http://www.w3.org/1999/xlink",Dt=function(n){return":"===n.charAt(5)&&"xlink"===n.slice(0,5)},Jt=function(n){return Dt(n)?n.slice(6,n.length):""},Nt=function(n){return null==n||!1===n};function Ft(n){for(var e=n.data,t=n,r=n;o(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=qt(r.data,e));for(;o(t=t.parent);)t&&t.data&&(e=qt(e,t.data));return function(n,e){if(o(n)||o(e))return Ut(n,Ht(e));return""}(e.staticClass,e.class)}function qt(n,e){return{staticClass:Ut(n.staticClass,e.staticClass),class:o(n.class)?[n.class,e.class]:e.class}}function Ut(n,e){return n?e?n+" "+e:n:e||""}function Ht(n){return Array.isArray(n)?function(n){for(var e,t="",r=0,a=n.length;r<a;r++)o(e=Ht(n[r]))&&""!==e&&(t&&(t+=" "),t+=e);return t}(n):c(n)?function(n){var e="";for(var t in n)n[t]&&(e&&(e+=" "),e+=t);return e}(n):"string"==typeof n?n:""}var Vt={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Gt=g("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Qt=g("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Xt=function(n){return Gt(n)||Qt(n)};var Kt=Object.create(null);var Wt=g("text,number,password,search,email,tel,url");var Yt=Object.freeze({createElement:function(n,e){var t=document.createElement(n);return"select"!==n||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&t.setAttribute("multiple","multiple"),t},createElementNS:function(n,e){return document.createElementNS(Vt[n],e)},createTextNode:function(n){return document.createTextNode(n)},createComment:function(n){return document.createComment(n)},insertBefore:function(n,e,t){n.insertBefore(e,t)},removeChild:function(n,e){n.removeChild(e)},appendChild:function(n,e){n.appendChild(e)},parentNode:function(n){return n.parentNode},nextSibling:function(n){return n.nextSibling},tagName:function(n){return n.tagName},setTextContent:function(n,e){n.textContent=e},setStyleScope:function(n,e){n.setAttribute(e,"")}}),Zt={create:function(n,e){nr(e)},update:function(n,e){n.data.ref!==e.data.ref&&(nr(n,!0),nr(e))},destroy:function(n){nr(n,!0)}};function nr(n,e){var t=n.data.ref;if(o(t)){var r=n.context,a=n.componentInstance||n.elm,i=r.$refs;e?Array.isArray(i[t])?y(i[t],a):i[t]===a&&(i[t]=void 0):n.data.refInFor?Array.isArray(i[t])?i[t].indexOf(a)<0&&i[t].push(a):i[t]=[a]:i[t]=a}}var er=new mn("",{},[]),tr=["create","activate","update","remove","destroy"];function rr(n,e){return n.key===e.key&&n.asyncFactory===e.asyncFactory&&(n.tag===e.tag&&n.isComment===e.isComment&&o(n.data)===o(e.data)&&function(n,e){if("input"!==n.tag)return!0;var t,r=o(t=n.data)&&o(t=t.attrs)&&t.type,a=o(t=e.data)&&o(t=t.attrs)&&t.type;return r===a||Wt(r)&&Wt(a)}(n,e)||s(n.isAsyncPlaceholder)&&i(e.asyncFactory.error))}function ar(n,e,t){var r,a,i={};for(r=e;r<=t;++r)o(a=n[r].key)&&(i[a]=r);return i}var ir={create:or,update:or,destroy:function(n){or(n,er)}};function or(n,e){(n.data.directives||e.data.directives)&&function(n,e){var t,r,a,i=n===er,o=e===er,s=lr(n.data.directives,n.context),l=lr(e.data.directives,e.context),c=[],u=[];for(t in l)r=s[t],a=l[t],r?(a.oldValue=r.value,a.oldArg=r.arg,ur(a,"update",e,n),a.def&&a.def.componentUpdated&&u.push(a)):(ur(a,"bind",e,n),a.def&&a.def.inserted&&c.push(a));if(c.length){var p=function(){for(var t=0;t<c.length;t++)ur(c[t],"inserted",e,n)};i?ue(e,"insert",p):p()}u.length&&ue(e,"postpatch",(function(){for(var t=0;t<u.length;t++)ur(u[t],"componentUpdated",e,n)}));if(!i)for(t in s)l[t]||ur(s[t],"unbind",n,n,o)}(n,e)}var sr=Object.create(null);function lr(n,e){var t,r,a=Object.create(null);if(!n)return a;for(t=0;t<n.length;t++)(r=n[t]).modifiers||(r.modifiers=sr),a[cr(r)]=r,r.def=Dn(e.$options,"directives",r.name);return a}function cr(n){return n.rawName||n.name+"."+Object.keys(n.modifiers||{}).join(".")}function ur(n,e,t,r,a){var i=n.def&&n.def[e];if(i)try{i(t.elm,n,t,r,a)}catch(r){Hn(r,t.context,"directive "+n.name+" "+e+" hook")}}var pr=[Zt,ir];function dr(n,e){var t=e.componentOptions;if(!(o(t)&&!1===t.Ctor.options.inheritAttrs||i(n.data.attrs)&&i(e.data.attrs))){var r,a,s=e.elm,l=n.data.attrs||{},c=e.data.attrs||{};for(r in o(c.__ob__)&&(c=e.data.attrs=I({},c)),c)a=c[r],l[r]!==a&&fr(s,r,a,e.data.pre);for(r in(K||Y)&&c.value!==l.value&&fr(s,"value",c.value),l)i(c[r])&&(Dt(r)?s.removeAttributeNS($t,Jt(r)):Lt(r)||s.removeAttribute(r))}}function fr(n,e,t,r){r||n.tagName.indexOf("-")>-1?hr(n,e,t):Bt(e)?Nt(t)?n.removeAttribute(e):(t="allowfullscreen"===e&&"EMBED"===n.tagName?"true":e,n.setAttribute(e,t)):Lt(e)?n.setAttribute(e,function(n,e){return Nt(e)||"false"===e?"false":"contenteditable"===n&&Mt(e)?e:"true"}(e,t)):Dt(e)?Nt(t)?n.removeAttributeNS($t,Jt(e)):n.setAttributeNS($t,e,t):hr(n,e,t)}function hr(n,e,t){if(Nt(t))n.removeAttribute(e);else{if(K&&!W&&"TEXTAREA"===n.tagName&&"placeholder"===e&&""!==t&&!n.__ieph){var r=function(e){e.stopImmediatePropagation(),n.removeEventListener("input",r)};n.addEventListener("input",r),n.__ieph=!0}n.setAttribute(e,t)}}var vr={create:dr,update:dr};function mr(n,e){var t=e.elm,r=e.data,a=n.data;if(!(i(r.staticClass)&&i(r.class)&&(i(a)||i(a.staticClass)&&i(a.class)))){var s=Ft(e),l=t._transitionClasses;o(l)&&(s=Ut(s,Ht(l))),s!==t._prevClass&&(t.setAttribute("class",s),t._prevClass=s)}}var gr,br={create:mr,update:mr};function yr(n,e,t){var r=gr;return function a(){var i=e.apply(null,arguments);null!==i&&wr(n,a,t,r)}}var xr=Kn&&!(nn&&Number(nn[1])<=53);function _r(n,e,t,r){if(xr){var a=ct,i=e;e=i._wrapper=function(n){if(n.target===n.currentTarget||n.timeStamp>=a||n.timeStamp<=0||n.target.ownerDocument!==document)return i.apply(this,arguments)}}gr.addEventListener(n,e,tn?{capture:t,passive:r}:t)}function wr(n,e,t,r){(r||gr).removeEventListener(n,e._wrapper||e,t)}function kr(n,e){if(!i(n.data.on)||!i(e.data.on)){var t=e.data.on||{},r=n.data.on||{};gr=e.elm,function(n){if(o(n.__r)){var e=K?"change":"input";n[e]=[].concat(n.__r,n[e]||[]),delete n.__r}o(n.__c)&&(n.change=[].concat(n.__c,n.change||[]),delete n.__c)}(t),ce(t,r,_r,wr,yr,e.context),gr=void 0}}var Sr,jr={create:kr,update:kr};function Tr(n,e){if(!i(n.data.domProps)||!i(e.data.domProps)){var t,r,a=e.elm,s=n.data.domProps||{},l=e.data.domProps||{};for(t in o(l.__ob__)&&(l=e.data.domProps=I({},l)),s)t in l||(a[t]="");for(t in l){if(r=l[t],"textContent"===t||"innerHTML"===t){if(e.children&&(e.children.length=0),r===s[t])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===t&&"PROGRESS"!==a.tagName){a._value=r;var c=i(r)?"":String(r);Er(a,c)&&(a.value=c)}else if("innerHTML"===t&&Qt(a.tagName)&&i(a.innerHTML)){(Sr=Sr||document.createElement("div")).innerHTML="<svg>"+r+"</svg>";for(var u=Sr.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}else if(r!==s[t])try{a[t]=r}catch(n){}}}}function Er(n,e){return!n.composing&&("OPTION"===n.tagName||function(n,e){var t=!0;try{t=document.activeElement!==n}catch(n){}return t&&n.value!==e}(n,e)||function(n,e){var t=n.value,r=n._vModifiers;if(o(r)){if(r.number)return m(t)!==m(e);if(r.trim)return t.trim()!==e.trim()}return t!==e}(n,e))}var Cr={create:Tr,update:Tr},Or=w((function(n){var e={},t=/:(.+)/;return n.split(/;(?![^(]*\))/g).forEach((function(n){if(n){var r=n.split(t);r.length>1&&(e[r[0].trim()]=r[1].trim())}})),e}));function Ir(n){var e=Ar(n.style);return n.staticStyle?I(n.staticStyle,e):e}function Ar(n){return Array.isArray(n)?A(n):"string"==typeof n?Or(n):n}var zr,Rr=/^--/,Pr=/\s*!important$/,Lr=function(n,e,t){if(Rr.test(e))n.style.setProperty(e,t);else if(Pr.test(t))n.style.setProperty(E(e),t.replace(Pr,""),"important");else{var r=Br(e);if(Array.isArray(t))for(var a=0,i=t.length;a<i;a++)n.style[r]=t[a];else n.style[r]=t}},Mr=["Webkit","Moz","ms"],Br=w((function(n){if(zr=zr||document.createElement("div").style,"filter"!==(n=S(n))&&n in zr)return n;for(var e=n.charAt(0).toUpperCase()+n.slice(1),t=0;t<Mr.length;t++){var r=Mr[t]+e;if(r in zr)return r}}));function $r(n,e){var t=e.data,r=n.data;if(!(i(t.staticStyle)&&i(t.style)&&i(r.staticStyle)&&i(r.style))){var a,s,l=e.elm,c=r.staticStyle,u=r.normalizedStyle||r.style||{},p=c||u,d=Ar(e.data.style)||{};e.data.normalizedStyle=o(d.__ob__)?I({},d):d;var f=function(n,e){var t,r={};if(e)for(var a=n;a.componentInstance;)(a=a.componentInstance._vnode)&&a.data&&(t=Ir(a.data))&&I(r,t);(t=Ir(n.data))&&I(r,t);for(var i=n;i=i.parent;)i.data&&(t=Ir(i.data))&&I(r,t);return r}(e,!0);for(s in p)i(f[s])&&Lr(l,s,"");for(s in f)(a=f[s])!==p[s]&&Lr(l,s,null==a?"":a)}}var Dr={create:$r,update:$r},Jr=/\s+/;function Nr(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(Jr).forEach((function(e){return n.classList.add(e)})):n.classList.add(e);else{var t=" "+(n.getAttribute("class")||"")+" ";t.indexOf(" "+e+" ")<0&&n.setAttribute("class",(t+e).trim())}}function Fr(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(Jr).forEach((function(e){return n.classList.remove(e)})):n.classList.remove(e),n.classList.length||n.removeAttribute("class");else{for(var t=" "+(n.getAttribute("class")||"")+" ",r=" "+e+" ";t.indexOf(r)>=0;)t=t.replace(r," ");(t=t.trim())?n.setAttribute("class",t):n.removeAttribute("class")}}function qr(n){if(n){if("object"==typeof n){var e={};return!1!==n.css&&I(e,Ur(n.name||"v")),I(e,n),e}return"string"==typeof n?Ur(n):void 0}}var Ur=w((function(n){return{enterClass:n+"-enter",enterToClass:n+"-enter-to",enterActiveClass:n+"-enter-active",leaveClass:n+"-leave",leaveToClass:n+"-leave-to",leaveActiveClass:n+"-leave-active"}})),Hr=V&&!W,Vr="transition",Gr="transitionend",Qr="animation",Xr="animationend";Hr&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Vr="WebkitTransition",Gr="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Qr="WebkitAnimation",Xr="webkitAnimationEnd"));var Kr=V?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(n){return n()};function Wr(n){Kr((function(){Kr(n)}))}function Yr(n,e){var t=n._transitionClasses||(n._transitionClasses=[]);t.indexOf(e)<0&&(t.push(e),Nr(n,e))}function Zr(n,e){n._transitionClasses&&y(n._transitionClasses,e),Fr(n,e)}function na(n,e,t){var r=ta(n,e),a=r.type,i=r.timeout,o=r.propCount;if(!a)return t();var s="transition"===a?Gr:Xr,l=0,c=function(){n.removeEventListener(s,u),t()},u=function(e){e.target===n&&++l>=o&&c()};setTimeout((function(){l<o&&c()}),i+1),n.addEventListener(s,u)}var ea=/\b(transform|all)(,|$)/;function ta(n,e){var t,r=window.getComputedStyle(n),a=(r[Vr+"Delay"]||"").split(", "),i=(r[Vr+"Duration"]||"").split(", "),o=ra(a,i),s=(r[Qr+"Delay"]||"").split(", "),l=(r[Qr+"Duration"]||"").split(", "),c=ra(s,l),u=0,p=0;return"transition"===e?o>0&&(t="transition",u=o,p=i.length):"animation"===e?c>0&&(t="animation",u=c,p=l.length):p=(t=(u=Math.max(o,c))>0?o>c?"transition":"animation":null)?"transition"===t?i.length:l.length:0,{type:t,timeout:u,propCount:p,hasTransform:"transition"===t&&ea.test(r[Vr+"Property"])}}function ra(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max.apply(null,e.map((function(e,t){return aa(e)+aa(n[t])})))}function aa(n){return 1e3*Number(n.slice(0,-1).replace(",","."))}function ia(n,e){var t=n.elm;o(t._leaveCb)&&(t._leaveCb.cancelled=!0,t._leaveCb());var r=qr(n.data.transition);if(!i(r)&&!o(t._enterCb)&&1===t.nodeType){for(var a=r.css,s=r.type,l=r.enterClass,u=r.enterToClass,p=r.enterActiveClass,d=r.appearClass,f=r.appearToClass,h=r.appearActiveClass,v=r.beforeEnter,g=r.enter,b=r.afterEnter,y=r.enterCancelled,x=r.beforeAppear,_=r.appear,w=r.afterAppear,k=r.appearCancelled,S=r.duration,j=Ye,T=Ye.$vnode;T&&T.parent;)j=T.context,T=T.parent;var E=!j._isMounted||!n.isRootInsert;if(!E||_||""===_){var C=E&&d?d:l,O=E&&h?h:p,I=E&&f?f:u,A=E&&x||v,z=E&&"function"==typeof _?_:g,R=E&&w||b,P=E&&k||y,L=m(c(S)?S.enter:S);0;var M=!1!==a&&!W,$=la(z),D=t._enterCb=B((function(){M&&(Zr(t,I),Zr(t,O)),D.cancelled?(M&&Zr(t,C),P&&P(t)):R&&R(t),t._enterCb=null}));n.data.show||ue(n,"insert",(function(){var e=t.parentNode,r=e&&e._pending&&e._pending[n.key];r&&r.tag===n.tag&&r.elm._leaveCb&&r.elm._leaveCb(),z&&z(t,D)})),A&&A(t),M&&(Yr(t,C),Yr(t,O),Wr((function(){Zr(t,C),D.cancelled||(Yr(t,I),$||(sa(L)?setTimeout(D,L):na(t,s,D)))}))),n.data.show&&(e&&e(),z&&z(t,D)),M||$||D()}}}function oa(n,e){var t=n.elm;o(t._enterCb)&&(t._enterCb.cancelled=!0,t._enterCb());var r=qr(n.data.transition);if(i(r)||1!==t.nodeType)return e();if(!o(t._leaveCb)){var a=r.css,s=r.type,l=r.leaveClass,u=r.leaveToClass,p=r.leaveActiveClass,d=r.beforeLeave,f=r.leave,h=r.afterLeave,v=r.leaveCancelled,g=r.delayLeave,b=r.duration,y=!1!==a&&!W,x=la(f),_=m(c(b)?b.leave:b);0;var w=t._leaveCb=B((function(){t.parentNode&&t.parentNode._pending&&(t.parentNode._pending[n.key]=null),y&&(Zr(t,u),Zr(t,p)),w.cancelled?(y&&Zr(t,l),v&&v(t)):(e(),h&&h(t)),t._leaveCb=null}));g?g(k):k()}function k(){w.cancelled||(!n.data.show&&t.parentNode&&((t.parentNode._pending||(t.parentNode._pending={}))[n.key]=n),d&&d(t),y&&(Yr(t,l),Yr(t,p),Wr((function(){Zr(t,l),w.cancelled||(Yr(t,u),x||(sa(_)?setTimeout(w,_):na(t,s,w)))}))),f&&f(t,w),y||x||w())}}function sa(n){return"number"==typeof n&&!isNaN(n)}function la(n){if(i(n))return!1;var e=n.fns;return o(e)?la(Array.isArray(e)?e[0]:e):(n._length||n.length)>1}function ca(n,e){!0!==e.data.show&&ia(e)}var ua=function(n){var e,t,r={},a=n.modules,c=n.nodeOps;for(e=0;e<tr.length;++e)for(r[tr[e]]=[],t=0;t<a.length;++t)o(a[t][tr[e]])&&r[tr[e]].push(a[t][tr[e]]);function u(n){var e=c.parentNode(n);o(e)&&c.removeChild(e,n)}function p(n,e,t,a,i,l,u){if(o(n.elm)&&o(l)&&(n=l[u]=xn(n)),n.isRootInsert=!i,!function(n,e,t,a){var i=n.data;if(o(i)){var l=o(n.componentInstance)&&i.keepAlive;if(o(i=i.hook)&&o(i=i.init)&&i(n,!1),o(n.componentInstance))return d(n,e),f(t,n.elm,a),s(l)&&function(n,e,t,a){var i,s=n;for(;s.componentInstance;)if(s=s.componentInstance._vnode,o(i=s.data)&&o(i=i.transition)){for(i=0;i<r.activate.length;++i)r.activate[i](er,s);e.push(s);break}f(t,n.elm,a)}(n,e,t,a),!0}}(n,e,t,a)){var p=n.data,v=n.children,g=n.tag;o(g)?(n.elm=n.ns?c.createElementNS(n.ns,g):c.createElement(g,n),b(n),h(n,v,e),o(p)&&m(n,e),f(t,n.elm,a)):s(n.isComment)?(n.elm=c.createComment(n.text),f(t,n.elm,a)):(n.elm=c.createTextNode(n.text),f(t,n.elm,a))}}function d(n,e){o(n.data.pendingInsert)&&(e.push.apply(e,n.data.pendingInsert),n.data.pendingInsert=null),n.elm=n.componentInstance.$el,v(n)?(m(n,e),b(n)):(nr(n),e.push(n))}function f(n,e,t){o(n)&&(o(t)?c.parentNode(t)===n&&c.insertBefore(n,e,t):c.appendChild(n,e))}function h(n,e,t){if(Array.isArray(e)){0;for(var r=0;r<e.length;++r)p(e[r],t,n.elm,null,!0,e,r)}else l(n.text)&&c.appendChild(n.elm,c.createTextNode(String(n.text)))}function v(n){for(;n.componentInstance;)n=n.componentInstance._vnode;return o(n.tag)}function m(n,t){for(var a=0;a<r.create.length;++a)r.create[a](er,n);o(e=n.data.hook)&&(o(e.create)&&e.create(er,n),o(e.insert)&&t.push(n))}function b(n){var e;if(o(e=n.fnScopeId))c.setStyleScope(n.elm,e);else for(var t=n;t;)o(e=t.context)&&o(e=e.$options._scopeId)&&c.setStyleScope(n.elm,e),t=t.parent;o(e=Ye)&&e!==n.context&&e!==n.fnContext&&o(e=e.$options._scopeId)&&c.setStyleScope(n.elm,e)}function y(n,e,t,r,a,i){for(;r<=a;++r)p(t[r],i,n,e,!1,t,r)}function x(n){var e,t,a=n.data;if(o(a))for(o(e=a.hook)&&o(e=e.destroy)&&e(n),e=0;e<r.destroy.length;++e)r.destroy[e](n);if(o(e=n.children))for(t=0;t<n.children.length;++t)x(n.children[t])}function _(n,e,t){for(;e<=t;++e){var r=n[e];o(r)&&(o(r.tag)?(w(r),x(r)):u(r.elm))}}function w(n,e){if(o(e)||o(n.data)){var t,a=r.remove.length+1;for(o(e)?e.listeners+=a:e=function(n,e){function t(){0==--t.listeners&&u(n)}return t.listeners=e,t}(n.elm,a),o(t=n.componentInstance)&&o(t=t._vnode)&&o(t.data)&&w(t,e),t=0;t<r.remove.length;++t)r.remove[t](n,e);o(t=n.data.hook)&&o(t=t.remove)?t(n,e):e()}else u(n.elm)}function k(n,e,t,r){for(var a=t;a<r;a++){var i=e[a];if(o(i)&&rr(n,i))return a}}function S(n,e,t,a,l,u){if(n!==e){o(e.elm)&&o(a)&&(e=a[l]=xn(e));var d=e.elm=n.elm;if(s(n.isAsyncPlaceholder))o(e.asyncFactory.resolved)?E(n.elm,e,t):e.isAsyncPlaceholder=!0;else if(s(e.isStatic)&&s(n.isStatic)&&e.key===n.key&&(s(e.isCloned)||s(e.isOnce)))e.componentInstance=n.componentInstance;else{var f,h=e.data;o(h)&&o(f=h.hook)&&o(f=f.prepatch)&&f(n,e);var m=n.children,g=e.children;if(o(h)&&v(e)){for(f=0;f<r.update.length;++f)r.update[f](n,e);o(f=h.hook)&&o(f=f.update)&&f(n,e)}i(e.text)?o(m)&&o(g)?m!==g&&function(n,e,t,r,a){var s,l,u,d=0,f=0,h=e.length-1,v=e[0],m=e[h],g=t.length-1,b=t[0],x=t[g],w=!a;for(0;d<=h&&f<=g;)i(v)?v=e[++d]:i(m)?m=e[--h]:rr(v,b)?(S(v,b,r,t,f),v=e[++d],b=t[++f]):rr(m,x)?(S(m,x,r,t,g),m=e[--h],x=t[--g]):rr(v,x)?(S(v,x,r,t,g),w&&c.insertBefore(n,v.elm,c.nextSibling(m.elm)),v=e[++d],x=t[--g]):rr(m,b)?(S(m,b,r,t,f),w&&c.insertBefore(n,m.elm,v.elm),m=e[--h],b=t[++f]):(i(s)&&(s=ar(e,d,h)),i(l=o(b.key)?s[b.key]:k(b,e,d,h))?p(b,r,n,v.elm,!1,t,f):rr(u=e[l],b)?(S(u,b,r,t,f),e[l]=void 0,w&&c.insertBefore(n,u.elm,v.elm)):p(b,r,n,v.elm,!1,t,f),b=t[++f]);d>h?y(n,i(t[g+1])?null:t[g+1].elm,t,f,g,r):f>g&&_(e,d,h)}(d,m,g,t,u):o(g)?(o(n.text)&&c.setTextContent(d,""),y(d,null,g,0,g.length-1,t)):o(m)?_(m,0,m.length-1):o(n.text)&&c.setTextContent(d,""):n.text!==e.text&&c.setTextContent(d,e.text),o(h)&&o(f=h.hook)&&o(f=f.postpatch)&&f(n,e)}}}function j(n,e,t){if(s(t)&&o(n.parent))n.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var T=g("attrs,class,staticClass,staticStyle,key");function E(n,e,t,r){var a,i=e.tag,l=e.data,c=e.children;if(r=r||l&&l.pre,e.elm=n,s(e.isComment)&&o(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(o(l)&&(o(a=l.hook)&&o(a=a.init)&&a(e,!0),o(a=e.componentInstance)))return d(e,t),!0;if(o(i)){if(o(c))if(n.hasChildNodes())if(o(a=l)&&o(a=a.domProps)&&o(a=a.innerHTML)){if(a!==n.innerHTML)return!1}else{for(var u=!0,p=n.firstChild,f=0;f<c.length;f++){if(!p||!E(p,c[f],t,r)){u=!1;break}p=p.nextSibling}if(!u||p)return!1}else h(e,c,t);if(o(l)){var v=!1;for(var g in l)if(!T(g)){v=!0,m(e,t);break}!v&&l.class&&oe(l.class)}}else n.data!==e.text&&(n.data=e.text);return!0}return function(n,e,t,a){if(!i(e)){var l,u=!1,d=[];if(i(n))u=!0,p(e,d);else{var f=o(n.nodeType);if(!f&&rr(n,e))S(n,e,d,null,null,a);else{if(f){if(1===n.nodeType&&n.hasAttribute("data-server-rendered")&&(n.removeAttribute("data-server-rendered"),t=!0),s(t)&&E(n,e,d))return j(e,d,!0),n;l=n,n=new mn(c.tagName(l).toLowerCase(),{},[],void 0,l)}var h=n.elm,m=c.parentNode(h);if(p(e,d,h._leaveCb?null:m,c.nextSibling(h)),o(e.parent))for(var g=e.parent,b=v(e);g;){for(var y=0;y<r.destroy.length;++y)r.destroy[y](g);if(g.elm=e.elm,b){for(var w=0;w<r.create.length;++w)r.create[w](er,g);var k=g.data.hook.insert;if(k.merged)for(var T=1;T<k.fns.length;T++)k.fns[T]()}else nr(g);g=g.parent}o(m)?_([n],0,0):o(n.tag)&&x(n)}}return j(e,d,u),e.elm}o(n)&&x(n)}}({nodeOps:Yt,modules:[vr,br,jr,Cr,Dr,V?{create:ca,activate:ca,remove:function(n,e){!0!==n.data.show?oa(n,e):e()}}:{}].concat(pr)});W&&document.addEventListener("selectionchange",(function(){var n=document.activeElement;n&&n.vmodel&&ba(n,"input")}));var pa={inserted:function(n,e,t,r){"select"===t.tag?(r.elm&&!r.elm._vOptions?ue(t,"postpatch",(function(){pa.componentUpdated(n,e,t)})):da(n,e,t.context),n._vOptions=[].map.call(n.options,va)):("textarea"===t.tag||Wt(n.type))&&(n._vModifiers=e.modifiers,e.modifiers.lazy||(n.addEventListener("compositionstart",ma),n.addEventListener("compositionend",ga),n.addEventListener("change",ga),W&&(n.vmodel=!0)))},componentUpdated:function(n,e,t){if("select"===t.tag){da(n,e,t.context);var r=n._vOptions,a=n._vOptions=[].map.call(n.options,va);if(a.some((function(n,e){return!L(n,r[e])})))(n.multiple?e.value.some((function(n){return ha(n,a)})):e.value!==e.oldValue&&ha(e.value,a))&&ba(n,"change")}}};function da(n,e,t){fa(n,e,t),(K||Y)&&setTimeout((function(){fa(n,e,t)}),0)}function fa(n,e,t){var r=e.value,a=n.multiple;if(!a||Array.isArray(r)){for(var i,o,s=0,l=n.options.length;s<l;s++)if(o=n.options[s],a)i=M(r,va(o))>-1,o.selected!==i&&(o.selected=i);else if(L(va(o),r))return void(n.selectedIndex!==s&&(n.selectedIndex=s));a||(n.selectedIndex=-1)}}function ha(n,e){return e.every((function(e){return!L(e,n)}))}function va(n){return"_value"in n?n._value:n.value}function ma(n){n.target.composing=!0}function ga(n){n.target.composing&&(n.target.composing=!1,ba(n.target,"input"))}function ba(n,e){var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!0),n.dispatchEvent(t)}function ya(n){return!n.componentInstance||n.data&&n.data.transition?n:ya(n.componentInstance._vnode)}var xa={model:pa,show:{bind:function(n,e,t){var r=e.value,a=(t=ya(t)).data&&t.data.transition,i=n.__vOriginalDisplay="none"===n.style.display?"":n.style.display;r&&a?(t.data.show=!0,ia(t,(function(){n.style.display=i}))):n.style.display=r?i:"none"},update:function(n,e,t){var r=e.value;!r!=!e.oldValue&&((t=ya(t)).data&&t.data.transition?(t.data.show=!0,r?ia(t,(function(){n.style.display=n.__vOriginalDisplay})):oa(t,(function(){n.style.display="none"}))):n.style.display=r?n.__vOriginalDisplay:"none")},unbind:function(n,e,t,r,a){a||(n.style.display=n.__vOriginalDisplay)}}},_a={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function wa(n){var e=n&&n.componentOptions;return e&&e.Ctor.options.abstract?wa(Ge(e.children)):n}function ka(n){var e={},t=n.$options;for(var r in t.propsData)e[r]=n[r];var a=t._parentListeners;for(var i in a)e[S(i)]=a[i];return e}function Sa(n,e){if(/\d-keep-alive$/.test(e.tag))return n("keep-alive",{props:e.componentOptions.propsData})}var ja=function(n){return n.tag||ge(n)},Ta=function(n){return"show"===n.name},Ea={name:"transition",props:_a,abstract:!0,render:function(n){var e=this,t=this.$slots.default;if(t&&(t=t.filter(ja)).length){0;var r=this.mode;0;var a=t[0];if(function(n){for(;n=n.parent;)if(n.data.transition)return!0}(this.$vnode))return a;var i=wa(a);if(!i)return a;if(this._leaving)return Sa(n,a);var o="__transition-"+this._uid+"-";i.key=null==i.key?i.isComment?o+"comment":o+i.tag:l(i.key)?0===String(i.key).indexOf(o)?i.key:o+i.key:i.key;var s=(i.data||(i.data={})).transition=ka(this),c=this._vnode,u=wa(c);if(i.data.directives&&i.data.directives.some(Ta)&&(i.data.show=!0),u&&u.data&&!function(n,e){return e.key===n.key&&e.tag===n.tag}(i,u)&&!ge(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var p=u.data.transition=I({},s);if("out-in"===r)return this._leaving=!0,ue(p,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),Sa(n,a);if("in-out"===r){if(ge(i))return c;var d,f=function(){d()};ue(s,"afterEnter",f),ue(s,"enterCancelled",f),ue(p,"delayLeave",(function(n){d=n}))}}return a}}},Ca=I({tag:String,moveClass:String},_a);function Oa(n){n.elm._moveCb&&n.elm._moveCb(),n.elm._enterCb&&n.elm._enterCb()}function Ia(n){n.data.newPos=n.elm.getBoundingClientRect()}function Aa(n){var e=n.data.pos,t=n.data.newPos,r=e.left-t.left,a=e.top-t.top;if(r||a){n.data.moved=!0;var i=n.elm.style;i.transform=i.WebkitTransform="translate("+r+"px,"+a+"px)",i.transitionDuration="0s"}}delete Ca.mode;var za={Transition:Ea,TransitionGroup:{props:Ca,beforeMount:function(){var n=this,e=this._update;this._update=function(t,r){var a=Ze(n);n.__patch__(n._vnode,n.kept,!1,!0),n._vnode=n.kept,a(),e.call(n,t,r)}},render:function(n){for(var e=this.tag||this.$vnode.data.tag||"span",t=Object.create(null),r=this.prevChildren=this.children,a=this.$slots.default||[],i=this.children=[],o=ka(this),s=0;s<a.length;s++){var l=a[s];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))i.push(l),t[l.key]=l,(l.data||(l.data={})).transition=o;else;}if(r){for(var c=[],u=[],p=0;p<r.length;p++){var d=r[p];d.data.transition=o,d.data.pos=d.elm.getBoundingClientRect(),t[d.key]?c.push(d):u.push(d)}this.kept=n(e,null,c),this.removed=u}return n(e,null,i)},updated:function(){var n=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";n.length&&this.hasMove(n[0].elm,e)&&(n.forEach(Oa),n.forEach(Ia),n.forEach(Aa),this._reflow=document.body.offsetHeight,n.forEach((function(n){if(n.data.moved){var t=n.elm,r=t.style;Yr(t,e),r.transform=r.WebkitTransform=r.transitionDuration="",t.addEventListener(Gr,t._moveCb=function n(r){r&&r.target!==t||r&&!/transform$/.test(r.propertyName)||(t.removeEventListener(Gr,n),t._moveCb=null,Zr(t,e))})}})))},methods:{hasMove:function(n,e){if(!Hr)return!1;if(this._hasMove)return this._hasMove;var t=n.cloneNode();n._transitionClasses&&n._transitionClasses.forEach((function(n){Fr(t,n)})),Nr(t,e),t.style.display="none",this.$el.appendChild(t);var r=ta(t);return this.$el.removeChild(t),this._hasMove=r.hasTransform}}}};jt.config.mustUseProp=function(n,e,t){return"value"===t&&Pt(n)&&"button"!==e||"selected"===t&&"option"===n||"checked"===t&&"input"===n||"muted"===t&&"video"===n},jt.config.isReservedTag=Xt,jt.config.isReservedAttr=Rt,jt.config.getTagNamespace=function(n){return Qt(n)?"svg":"math"===n?"math":void 0},jt.config.isUnknownElement=function(n){if(!V)return!0;if(Xt(n))return!1;if(n=n.toLowerCase(),null!=Kt[n])return Kt[n];var e=document.createElement(n);return n.indexOf("-")>-1?Kt[n]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Kt[n]=/HTMLUnknownElement/.test(e.toString())},I(jt.options.directives,xa),I(jt.options.components,za),jt.prototype.__patch__=V?ua:z,jt.prototype.$mount=function(n,e){return function(n,e,t){var r;return n.$el=e,n.$options.render||(n.$options.render=bn),tt(n,"beforeMount"),r=function(){n._update(n._render(),t)},new ht(n,r,z,{before:function(){n._isMounted&&!n._isDestroyed&&tt(n,"beforeUpdate")}},!0),t=!1,null==n.$vnode&&(n._isMounted=!0,tt(n,"mounted")),n}(this,n=n&&V?function(n){if("string"==typeof n){var e=document.querySelector(n);return e||document.createElement("div")}return n}(n):void 0,e)},V&&setTimeout((function(){J.devtools&&on&&on.emit("init",jt)}),0);var Ra=jt;
/*!
  * vue-router v3.5.3
  * (c) 2021 Evan You
  * @license MIT
  */function Pa(n,e){for(var t in e)n[t]=e[t];return n}var La=/[!'()*]/g,Ma=function(n){return"%"+n.charCodeAt(0).toString(16)},Ba=/%2C/g,$a=function(n){return encodeURIComponent(n).replace(La,Ma).replace(Ba,",")};function Da(n){try{return decodeURIComponent(n)}catch(n){0}return n}var Ja=function(n){return null==n||"object"==typeof n?n:String(n)};function Na(n){var e={};return(n=n.trim().replace(/^(\?|#|&)/,""))?(n.split("&").forEach((function(n){var t=n.replace(/\+/g," ").split("="),r=Da(t.shift()),a=t.length>0?Da(t.join("=")):null;void 0===e[r]?e[r]=a:Array.isArray(e[r])?e[r].push(a):e[r]=[e[r],a]})),e):e}function Fa(n){var e=n?Object.keys(n).map((function(e){var t=n[e];if(void 0===t)return"";if(null===t)return $a(e);if(Array.isArray(t)){var r=[];return t.forEach((function(n){void 0!==n&&(null===n?r.push($a(e)):r.push($a(e)+"="+$a(n)))})),r.join("&")}return $a(e)+"="+$a(t)})).filter((function(n){return n.length>0})).join("&"):null;return e?"?"+e:""}var qa=/\/?$/;function Ua(n,e,t,r){var a=r&&r.options.stringifyQuery,i=e.query||{};try{i=Ha(i)}catch(n){}var o={name:e.name||n&&n.name,meta:n&&n.meta||{},path:e.path||"/",hash:e.hash||"",query:i,params:e.params||{},fullPath:Qa(e,a),matched:n?Ga(n):[]};return t&&(o.redirectedFrom=Qa(t,a)),Object.freeze(o)}function Ha(n){if(Array.isArray(n))return n.map(Ha);if(n&&"object"==typeof n){var e={};for(var t in n)e[t]=Ha(n[t]);return e}return n}var Va=Ua(null,{path:"/"});function Ga(n){for(var e=[];n;)e.unshift(n),n=n.parent;return e}function Qa(n,e){var t=n.path,r=n.query;void 0===r&&(r={});var a=n.hash;return void 0===a&&(a=""),(t||"/")+(e||Fa)(r)+a}function Xa(n,e,t){return e===Va?n===e:!!e&&(n.path&&e.path?n.path.replace(qa,"")===e.path.replace(qa,"")&&(t||n.hash===e.hash&&Ka(n.query,e.query)):!(!n.name||!e.name)&&(n.name===e.name&&(t||n.hash===e.hash&&Ka(n.query,e.query)&&Ka(n.params,e.params))))}function Ka(n,e){if(void 0===n&&(n={}),void 0===e&&(e={}),!n||!e)return n===e;var t=Object.keys(n).sort(),r=Object.keys(e).sort();return t.length===r.length&&t.every((function(t,a){var i=n[t];if(r[a]!==t)return!1;var o=e[t];return null==i||null==o?i===o:"object"==typeof i&&"object"==typeof o?Ka(i,o):String(i)===String(o)}))}function Wa(n){for(var e=0;e<n.matched.length;e++){var t=n.matched[e];for(var r in t.instances){var a=t.instances[r],i=t.enteredCbs[r];if(a&&i){delete t.enteredCbs[r];for(var o=0;o<i.length;o++)a._isBeingDestroyed||i[o](a)}}}}var Ya={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(n,e){var t=e.props,r=e.children,a=e.parent,i=e.data;i.routerView=!0;for(var o=a.$createElement,s=t.name,l=a.$route,c=a._routerViewCache||(a._routerViewCache={}),u=0,p=!1;a&&a._routerRoot!==a;){var d=a.$vnode?a.$vnode.data:{};d.routerView&&u++,d.keepAlive&&a._directInactive&&a._inactive&&(p=!0),a=a.$parent}if(i.routerViewDepth=u,p){var f=c[s],h=f&&f.component;return h?(f.configProps&&Za(h,i,f.route,f.configProps),o(h,i,r)):o()}var v=l.matched[u],m=v&&v.components[s];if(!v||!m)return c[s]=null,o();c[s]={component:m},i.registerRouteInstance=function(n,e){var t=v.instances[s];(e&&t!==n||!e&&t===n)&&(v.instances[s]=e)},(i.hook||(i.hook={})).prepatch=function(n,e){v.instances[s]=e.componentInstance},i.hook.init=function(n){n.data.keepAlive&&n.componentInstance&&n.componentInstance!==v.instances[s]&&(v.instances[s]=n.componentInstance),Wa(l)};var g=v.props&&v.props[s];return g&&(Pa(c[s],{route:l,configProps:g}),Za(m,i,l,g)),o(m,i,r)}};function Za(n,e,t,r){var a=e.props=function(n,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(n);case"boolean":return e?n.params:void 0;default:0}}(t,r);if(a){a=e.props=Pa({},a);var i=e.attrs=e.attrs||{};for(var o in a)n.props&&o in n.props||(i[o]=a[o],delete a[o])}}function ni(n,e,t){var r=n.charAt(0);if("/"===r)return n;if("?"===r||"#"===r)return e+n;var a=e.split("/");t&&a[a.length-1]||a.pop();for(var i=n.replace(/^\//,"").split("/"),o=0;o<i.length;o++){var s=i[o];".."===s?a.pop():"."!==s&&a.push(s)}return""!==a[0]&&a.unshift(""),a.join("/")}function ei(n){return n.replace(/\/+/g,"/")}var ti=Array.isArray||function(n){return"[object Array]"==Object.prototype.toString.call(n)},ri=gi,ai=ci,ii=function(n,e){return pi(ci(n,e),e)},oi=pi,si=mi,li=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function ci(n,e){for(var t,r=[],a=0,i=0,o="",s=e&&e.delimiter||"/";null!=(t=li.exec(n));){var l=t[0],c=t[1],u=t.index;if(o+=n.slice(i,u),i=u+l.length,c)o+=c[1];else{var p=n[i],d=t[2],f=t[3],h=t[4],v=t[5],m=t[6],g=t[7];o&&(r.push(o),o="");var b=null!=d&&null!=p&&p!==d,y="+"===m||"*"===m,x="?"===m||"*"===m,_=t[2]||s,w=h||v;r.push({name:f||a++,prefix:d||"",delimiter:_,optional:x,repeat:y,partial:b,asterisk:!!g,pattern:w?fi(w):g?".*":"[^"+di(_)+"]+?"})}}return i<n.length&&(o+=n.substr(i)),o&&r.push(o),r}function ui(n){return encodeURI(n).replace(/[\/?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()}))}function pi(n,e){for(var t=new Array(n.length),r=0;r<n.length;r++)"object"==typeof n[r]&&(t[r]=new RegExp("^(?:"+n[r].pattern+")$",vi(e)));return function(e,r){for(var a="",i=e||{},o=(r||{}).pretty?ui:encodeURIComponent,s=0;s<n.length;s++){var l=n[s];if("string"!=typeof l){var c,u=i[l.name];if(null==u){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(ti(u)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(u)+"`");if(0===u.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<u.length;p++){if(c=o(u[p]),!t[s].test(c))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(c)+"`");a+=(0===p?l.prefix:l.delimiter)+c}}else{if(c=l.asterisk?encodeURI(u).replace(/[?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})):o(u),!t[s].test(c))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+c+'"');a+=l.prefix+c}}else a+=l}return a}}function di(n){return n.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function fi(n){return n.replace(/([=!:$\/()])/g,"\\$1")}function hi(n,e){return n.keys=e,n}function vi(n){return n&&n.sensitive?"":"i"}function mi(n,e,t){ti(e)||(t=e||t,e=[]);for(var r=(t=t||{}).strict,a=!1!==t.end,i="",o=0;o<n.length;o++){var s=n[o];if("string"==typeof s)i+=di(s);else{var l=di(s.prefix),c="(?:"+s.pattern+")";e.push(s),s.repeat&&(c+="(?:"+l+c+")*"),i+=c=s.optional?s.partial?l+"("+c+")?":"(?:"+l+"("+c+"))?":l+"("+c+")"}}var u=di(t.delimiter||"/"),p=i.slice(-u.length)===u;return r||(i=(p?i.slice(0,-u.length):i)+"(?:"+u+"(?=$))?"),i+=a?"$":r&&p?"":"(?="+u+"|$)",hi(new RegExp("^"+i,vi(t)),e)}function gi(n,e,t){return ti(e)||(t=e||t,e=[]),t=t||{},n instanceof RegExp?function(n,e){var t=n.source.match(/\((?!\?)/g);if(t)for(var r=0;r<t.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return hi(n,e)}(n,e):ti(n)?function(n,e,t){for(var r=[],a=0;a<n.length;a++)r.push(gi(n[a],e,t).source);return hi(new RegExp("(?:"+r.join("|")+")",vi(t)),e)}(n,e,t):function(n,e,t){return mi(ci(n,t),e,t)}(n,e,t)}ri.parse=ai,ri.compile=ii,ri.tokensToFunction=oi,ri.tokensToRegExp=si;var bi=Object.create(null);function yi(n,e,t){e=e||{};try{var r=bi[n]||(bi[n]=ri.compile(n));return"string"==typeof e.pathMatch&&(e[0]=e.pathMatch),r(e,{pretty:!0})}catch(n){return""}finally{delete e[0]}}function xi(n,e,t,r){var a="string"==typeof n?{path:n}:n;if(a._normalized)return a;if(a.name){var i=(a=Pa({},n)).params;return i&&"object"==typeof i&&(a.params=Pa({},i)),a}if(!a.path&&a.params&&e){(a=Pa({},a))._normalized=!0;var o=Pa(Pa({},e.params),a.params);if(e.name)a.name=e.name,a.params=o;else if(e.matched.length){var s=e.matched[e.matched.length-1].path;a.path=yi(s,o,e.path)}else 0;return a}var l=function(n){var e="",t="",r=n.indexOf("#");r>=0&&(e=n.slice(r),n=n.slice(0,r));var a=n.indexOf("?");return a>=0&&(t=n.slice(a+1),n=n.slice(0,a)),{path:n,query:t,hash:e}}(a.path||""),c=e&&e.path||"/",u=l.path?ni(l.path,c,t||a.append):c,p=function(n,e,t){void 0===e&&(e={});var r,a=t||Na;try{r=a(n||"")}catch(n){r={}}for(var i in e){var o=e[i];r[i]=Array.isArray(o)?o.map(Ja):Ja(o)}return r}(l.query,a.query,r&&r.options.parseQuery),d=a.hash||l.hash;return d&&"#"!==d.charAt(0)&&(d="#"+d),{_normalized:!0,path:u,query:p,hash:d}}var _i,wi=function(){},ki={name:"RouterLink",props:{to:{type:[String,Object],required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:[String,Array],default:"click"}},render:function(n){var e=this,t=this.$router,r=this.$route,a=t.resolve(this.to,r,this.append),i=a.location,o=a.route,s=a.href,l={},c=t.options.linkActiveClass,u=t.options.linkExactActiveClass,p=null==c?"router-link-active":c,d=null==u?"router-link-exact-active":u,f=null==this.activeClass?p:this.activeClass,h=null==this.exactActiveClass?d:this.exactActiveClass,v=o.redirectedFrom?Ua(null,xi(o.redirectedFrom),null,t):o;l[h]=Xa(r,v,this.exactPath),l[f]=this.exact||this.exactPath?l[h]:function(n,e){return 0===n.path.replace(qa,"/").indexOf(e.path.replace(qa,"/"))&&(!e.hash||n.hash===e.hash)&&function(n,e){for(var t in e)if(!(t in n))return!1;return!0}(n.query,e.query)}(r,v);var m=l[h]?this.ariaCurrentValue:null,g=function(n){Si(n)&&(e.replace?t.replace(i,wi):t.push(i,wi))},b={click:Si};Array.isArray(this.event)?this.event.forEach((function(n){b[n]=g})):b[this.event]=g;var y={class:l},x=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:s,route:o,navigate:g,isActive:l[f],isExactActive:l[h]});if(x){if(1===x.length)return x[0];if(x.length>1||!x.length)return 0===x.length?n():n("span",{},x)}if("a"===this.tag)y.on=b,y.attrs={href:s,"aria-current":m};else{var _=function n(e){var t;if(e)for(var r=0;r<e.length;r++){if("a"===(t=e[r]).tag)return t;if(t.children&&(t=n(t.children)))return t}}(this.$slots.default);if(_){_.isStatic=!1;var w=_.data=Pa({},_.data);for(var k in w.on=w.on||{},w.on){var S=w.on[k];k in b&&(w.on[k]=Array.isArray(S)?S:[S])}for(var j in b)j in w.on?w.on[j].push(b[j]):w.on[j]=g;var T=_.data.attrs=Pa({},_.data.attrs);T.href=s,T["aria-current"]=m}else y.on=b}return n(this.tag,y,this.$slots.default)}};function Si(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey||n.defaultPrevented||void 0!==n.button&&0!==n.button)){if(n.currentTarget&&n.currentTarget.getAttribute){var e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}var ji="undefined"!=typeof window;function Ti(n,e,t,r,a){var i=e||[],o=t||Object.create(null),s=r||Object.create(null);n.forEach((function(n){!function n(e,t,r,a,i,o){var s=a.path,l=a.name;0;var c=a.pathToRegexpOptions||{},u=function(n,e,t){t||(n=n.replace(/\/$/,""));if("/"===n[0])return n;if(null==e)return n;return ei(e.path+"/"+n)}(s,i,c.strict);"boolean"==typeof a.caseSensitive&&(c.sensitive=a.caseSensitive);var p={path:u,regex:Ei(u,c),components:a.components||{default:a.component},alias:a.alias?"string"==typeof a.alias?[a.alias]:a.alias:[],instances:{},enteredCbs:{},name:l,parent:i,matchAs:o,redirect:a.redirect,beforeEnter:a.beforeEnter,meta:a.meta||{},props:null==a.props?{}:a.components?a.props:{default:a.props}};a.children&&a.children.forEach((function(a){var i=o?ei(o+"/"+a.path):void 0;n(e,t,r,a,p,i)}));t[p.path]||(e.push(p.path),t[p.path]=p);if(void 0!==a.alias)for(var d=Array.isArray(a.alias)?a.alias:[a.alias],f=0;f<d.length;++f){0;var h={path:d[f],children:a.children};n(e,t,r,h,i,p.path||"/")}l&&(r[l]||(r[l]=p))}(i,o,s,n,a)}));for(var l=0,c=i.length;l<c;l++)"*"===i[l]&&(i.push(i.splice(l,1)[0]),c--,l--);return{pathList:i,pathMap:o,nameMap:s}}function Ei(n,e){return ri(n,[],e)}function Ci(n,e){var t=Ti(n),r=t.pathList,a=t.pathMap,i=t.nameMap;function o(n,t,o){var s=xi(n,t,!1,e),c=s.name;if(c){var u=i[c];if(!u)return l(null,s);var p=u.regex.keys.filter((function(n){return!n.optional})).map((function(n){return n.name}));if("object"!=typeof s.params&&(s.params={}),t&&"object"==typeof t.params)for(var d in t.params)!(d in s.params)&&p.indexOf(d)>-1&&(s.params[d]=t.params[d]);return s.path=yi(u.path,s.params),l(u,s,o)}if(s.path){s.params={};for(var f=0;f<r.length;f++){var h=r[f],v=a[h];if(Oi(v.regex,s.path,s.params))return l(v,s,o)}}return l(null,s)}function s(n,t){var r=n.redirect,a="function"==typeof r?r(Ua(n,t,null,e)):r;if("string"==typeof a&&(a={path:a}),!a||"object"!=typeof a)return l(null,t);var s=a,c=s.name,u=s.path,p=t.query,d=t.hash,f=t.params;if(p=s.hasOwnProperty("query")?s.query:p,d=s.hasOwnProperty("hash")?s.hash:d,f=s.hasOwnProperty("params")?s.params:f,c){i[c];return o({_normalized:!0,name:c,query:p,hash:d,params:f},void 0,t)}if(u){var h=function(n,e){return ni(n,e.parent?e.parent.path:"/",!0)}(u,n);return o({_normalized:!0,path:yi(h,f),query:p,hash:d},void 0,t)}return l(null,t)}function l(n,t,r){return n&&n.redirect?s(n,r||t):n&&n.matchAs?function(n,e,t){var r=o({_normalized:!0,path:yi(t,e.params)});if(r){var a=r.matched,i=a[a.length-1];return e.params=r.params,l(i,e)}return l(null,e)}(0,t,n.matchAs):Ua(n,t,r,e)}return{match:o,addRoute:function(n,e){var t="object"!=typeof n?i[n]:void 0;Ti([e||n],r,a,i,t),t&&t.alias.length&&Ti(t.alias.map((function(n){return{path:n,children:[e]}})),r,a,i,t)},getRoutes:function(){return r.map((function(n){return a[n]}))},addRoutes:function(n){Ti(n,r,a,i)}}}function Oi(n,e,t){var r=e.match(n);if(!r)return!1;if(!t)return!0;for(var a=1,i=r.length;a<i;++a){var o=n.keys[a-1];o&&(t[o.name||"pathMatch"]="string"==typeof r[a]?Da(r[a]):r[a])}return!0}var Ii=ji&&window.performance&&window.performance.now?window.performance:Date;function Ai(){return Ii.now().toFixed(3)}var zi=Ai();function Ri(){return zi}function Pi(n){return zi=n}var Li=Object.create(null);function Mi(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var n=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(n,""),t=Pa({},window.history.state);return t.key=Ri(),window.history.replaceState(t,"",e),window.addEventListener("popstate",Di),function(){window.removeEventListener("popstate",Di)}}function Bi(n,e,t,r){if(n.app){var a=n.options.scrollBehavior;a&&n.app.$nextTick((function(){var i=function(){var n=Ri();if(n)return Li[n]}(),o=a.call(n,e,t,r?i:null);o&&("function"==typeof o.then?o.then((function(n){Ui(n,i)})).catch((function(n){0})):Ui(o,i))}))}}function $i(){var n=Ri();n&&(Li[n]={x:window.pageXOffset,y:window.pageYOffset})}function Di(n){$i(),n.state&&n.state.key&&Pi(n.state.key)}function Ji(n){return Fi(n.x)||Fi(n.y)}function Ni(n){return{x:Fi(n.x)?n.x:window.pageXOffset,y:Fi(n.y)?n.y:window.pageYOffset}}function Fi(n){return"number"==typeof n}var qi=/^#\d/;function Ui(n,e){var t,r="object"==typeof n;if(r&&"string"==typeof n.selector){var a=qi.test(n.selector)?document.getElementById(n.selector.slice(1)):document.querySelector(n.selector);if(a){var i=n.offset&&"object"==typeof n.offset?n.offset:{};e=function(n,e){var t=document.documentElement.getBoundingClientRect(),r=n.getBoundingClientRect();return{x:r.left-t.left-e.x,y:r.top-t.top-e.y}}(a,i={x:Fi((t=i).x)?t.x:0,y:Fi(t.y)?t.y:0})}else Ji(n)&&(e=Ni(n))}else r&&Ji(n)&&(e=Ni(n));e&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:n.behavior}):window.scrollTo(e.x,e.y))}var Hi,Vi=ji&&((-1===(Hi=window.navigator.userAgent).indexOf("Android 2.")&&-1===Hi.indexOf("Android 4.0")||-1===Hi.indexOf("Mobile Safari")||-1!==Hi.indexOf("Chrome")||-1!==Hi.indexOf("Windows Phone"))&&window.history&&"function"==typeof window.history.pushState);function Gi(n,e){$i();var t=window.history;try{if(e){var r=Pa({},t.state);r.key=Ri(),t.replaceState(r,"",n)}else t.pushState({key:Pi(Ai())},"",n)}catch(t){window.location[e?"replace":"assign"](n)}}function Qi(n){Gi(n,!0)}function Xi(n,e,t){var r=function(a){a>=n.length?t():n[a]?e(n[a],(function(){r(a+1)})):r(a+1)};r(0)}var Ki={redirected:2,aborted:4,cancelled:8,duplicated:16};function Wi(n,e){return Zi(n,e,Ki.redirected,'Redirected when going from "'+n.fullPath+'" to "'+function(n){if("string"==typeof n)return n;if("path"in n)return n.path;var e={};return no.forEach((function(t){t in n&&(e[t]=n[t])})),JSON.stringify(e,null,2)}(e)+'" via a navigation guard.')}function Yi(n,e){return Zi(n,e,Ki.cancelled,'Navigation cancelled from "'+n.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function Zi(n,e,t,r){var a=new Error(r);return a._isRouter=!0,a.from=n,a.to=e,a.type=t,a}var no=["params","query","hash"];function eo(n){return Object.prototype.toString.call(n).indexOf("Error")>-1}function to(n,e){return eo(n)&&n._isRouter&&(null==e||n.type===e)}function ro(n){return function(e,t,r){var a=!1,i=0,o=null;ao(n,(function(n,e,t,s){if("function"==typeof n&&void 0===n.cid){a=!0,i++;var l,c=so((function(e){var a;((a=e).__esModule||oo&&"Module"===a[Symbol.toStringTag])&&(e=e.default),n.resolved="function"==typeof e?e:_i.extend(e),t.components[s]=e,--i<=0&&r()})),u=so((function(n){var e="Failed to resolve async component "+s+": "+n;o||(o=eo(n)?n:new Error(e),r(o))}));try{l=n(c,u)}catch(n){u(n)}if(l)if("function"==typeof l.then)l.then(c,u);else{var p=l.component;p&&"function"==typeof p.then&&p.then(c,u)}}})),a||r()}}function ao(n,e){return io(n.map((function(n){return Object.keys(n.components).map((function(t){return e(n.components[t],n.instances[t],n,t)}))})))}function io(n){return Array.prototype.concat.apply([],n)}var oo="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function so(n){var e=!1;return function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(!e)return e=!0,n.apply(this,t)}}var lo=function(n,e){this.router=n,this.base=function(n){if(!n)if(ji){var e=document.querySelector("base");n=(n=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else n="/";"/"!==n.charAt(0)&&(n="/"+n);return n.replace(/\/$/,"")}(e),this.current=Va,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function co(n,e,t,r){var a=ao(n,(function(n,r,a,i){var o=function(n,e){"function"!=typeof n&&(n=_i.extend(n));return n.options[e]}(n,e);if(o)return Array.isArray(o)?o.map((function(n){return t(n,r,a,i)})):t(o,r,a,i)}));return io(r?a.reverse():a)}function uo(n,e){if(e)return function(){return n.apply(e,arguments)}}lo.prototype.listen=function(n){this.cb=n},lo.prototype.onReady=function(n,e){this.ready?n():(this.readyCbs.push(n),e&&this.readyErrorCbs.push(e))},lo.prototype.onError=function(n){this.errorCbs.push(n)},lo.prototype.transitionTo=function(n,e,t){var r,a=this;try{r=this.router.match(n,this.current)}catch(n){throw this.errorCbs.forEach((function(e){e(n)})),n}var i=this.current;this.confirmTransition(r,(function(){a.updateRoute(r),e&&e(r),a.ensureURL(),a.router.afterHooks.forEach((function(n){n&&n(r,i)})),a.ready||(a.ready=!0,a.readyCbs.forEach((function(n){n(r)})))}),(function(n){t&&t(n),n&&!a.ready&&(to(n,Ki.redirected)&&i===Va||(a.ready=!0,a.readyErrorCbs.forEach((function(e){e(n)}))))}))},lo.prototype.confirmTransition=function(n,e,t){var r=this,a=this.current;this.pending=n;var i,o,s=function(n){!to(n)&&eo(n)&&(r.errorCbs.length?r.errorCbs.forEach((function(e){e(n)})):console.error(n)),t&&t(n)},l=n.matched.length-1,c=a.matched.length-1;if(Xa(n,a)&&l===c&&n.matched[l]===a.matched[c])return this.ensureURL(),n.hash&&Bi(this.router,a,n,!1),s(((o=Zi(i=a,n,Ki.duplicated,'Avoided redundant navigation to current location: "'+i.fullPath+'".')).name="NavigationDuplicated",o));var u=function(n,e){var t,r=Math.max(n.length,e.length);for(t=0;t<r&&n[t]===e[t];t++);return{updated:e.slice(0,t),activated:e.slice(t),deactivated:n.slice(t)}}(this.current.matched,n.matched),p=u.updated,d=u.deactivated,f=u.activated,h=[].concat(function(n){return co(n,"beforeRouteLeave",uo,!0)}(d),this.router.beforeHooks,function(n){return co(n,"beforeRouteUpdate",uo)}(p),f.map((function(n){return n.beforeEnter})),ro(f)),v=function(e,t){if(r.pending!==n)return s(Yi(a,n));try{e(n,a,(function(e){!1===e?(r.ensureURL(!0),s(function(n,e){return Zi(n,e,Ki.aborted,'Navigation aborted from "'+n.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}(a,n))):eo(e)?(r.ensureURL(!0),s(e)):"string"==typeof e||"object"==typeof e&&("string"==typeof e.path||"string"==typeof e.name)?(s(Wi(a,n)),"object"==typeof e&&e.replace?r.replace(e):r.push(e)):t(e)}))}catch(n){s(n)}};Xi(h,v,(function(){Xi(function(n){return co(n,"beforeRouteEnter",(function(n,e,t,r){return function(n,e,t){return function(r,a,i){return n(r,a,(function(n){"function"==typeof n&&(e.enteredCbs[t]||(e.enteredCbs[t]=[]),e.enteredCbs[t].push(n)),i(n)}))}}(n,t,r)}))}(f).concat(r.router.resolveHooks),v,(function(){if(r.pending!==n)return s(Yi(a,n));r.pending=null,e(n),r.router.app&&r.router.app.$nextTick((function(){Wa(n)}))}))}))},lo.prototype.updateRoute=function(n){this.current=n,this.cb&&this.cb(n)},lo.prototype.setupListeners=function(){},lo.prototype.teardown=function(){this.listeners.forEach((function(n){n()})),this.listeners=[],this.current=Va,this.pending=null};var po=function(n){function e(e,t){n.call(this,e,t),this._startLocation=fo(this.base)}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router,t=e.options.scrollBehavior,r=Vi&&t;r&&this.listeners.push(Mi());var a=function(){var t=n.current,a=fo(n.base);n.current===Va&&a===n._startLocation||n.transitionTo(a,(function(n){r&&Bi(e,n,t,!0)}))};window.addEventListener("popstate",a),this.listeners.push((function(){window.removeEventListener("popstate",a)}))}},e.prototype.go=function(n){window.history.go(n)},e.prototype.push=function(n,e,t){var r=this,a=this.current;this.transitionTo(n,(function(n){Gi(ei(r.base+n.fullPath)),Bi(r.router,n,a,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this,a=this.current;this.transitionTo(n,(function(n){Qi(ei(r.base+n.fullPath)),Bi(r.router,n,a,!1),e&&e(n)}),t)},e.prototype.ensureURL=function(n){if(fo(this.base)!==this.current.fullPath){var e=ei(this.base+this.current.fullPath);n?Gi(e):Qi(e)}},e.prototype.getCurrentLocation=function(){return fo(this.base)},e}(lo);function fo(n){var e=window.location.pathname,t=e.toLowerCase(),r=n.toLowerCase();return!n||t!==r&&0!==t.indexOf(ei(r+"/"))||(e=e.slice(n.length)),(e||"/")+window.location.search+window.location.hash}var ho=function(n){function e(e,t,r){n.call(this,e,t),r&&function(n){var e=fo(n);if(!/^\/#/.test(e))return window.location.replace(ei(n+"/#"+e)),!0}(this.base)||vo()}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router.options.scrollBehavior,t=Vi&&e;t&&this.listeners.push(Mi());var r=function(){var e=n.current;vo()&&n.transitionTo(mo(),(function(r){t&&Bi(n.router,r,e,!0),Vi||yo(r.fullPath)}))},a=Vi?"popstate":"hashchange";window.addEventListener(a,r),this.listeners.push((function(){window.removeEventListener(a,r)}))}},e.prototype.push=function(n,e,t){var r=this,a=this.current;this.transitionTo(n,(function(n){bo(n.fullPath),Bi(r.router,n,a,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this,a=this.current;this.transitionTo(n,(function(n){yo(n.fullPath),Bi(r.router,n,a,!1),e&&e(n)}),t)},e.prototype.go=function(n){window.history.go(n)},e.prototype.ensureURL=function(n){var e=this.current.fullPath;mo()!==e&&(n?bo(e):yo(e))},e.prototype.getCurrentLocation=function(){return mo()},e}(lo);function vo(){var n=mo();return"/"===n.charAt(0)||(yo("/"+n),!1)}function mo(){var n=window.location.href,e=n.indexOf("#");return e<0?"":n=n.slice(e+1)}function go(n){var e=window.location.href,t=e.indexOf("#");return(t>=0?e.slice(0,t):e)+"#"+n}function bo(n){Vi?Gi(go(n)):window.location.hash=n}function yo(n){Vi?Qi(go(n)):window.location.replace(go(n))}var xo=function(n){function e(e,t){n.call(this,e,t),this.stack=[],this.index=-1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.push=function(n,e,t){var r=this;this.transitionTo(n,(function(n){r.stack=r.stack.slice(0,r.index+1).concat(n),r.index++,e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this;this.transitionTo(n,(function(n){r.stack=r.stack.slice(0,r.index).concat(n),e&&e(n)}),t)},e.prototype.go=function(n){var e=this,t=this.index+n;if(!(t<0||t>=this.stack.length)){var r=this.stack[t];this.confirmTransition(r,(function(){var n=e.current;e.index=t,e.updateRoute(r),e.router.afterHooks.forEach((function(e){e&&e(r,n)}))}),(function(n){to(n,Ki.duplicated)&&(e.index=t)}))}},e.prototype.getCurrentLocation=function(){var n=this.stack[this.stack.length-1];return n?n.fullPath:"/"},e.prototype.ensureURL=function(){},e}(lo),_o=function(n){void 0===n&&(n={}),this.app=null,this.apps=[],this.options=n,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=Ci(n.routes||[],this);var e=n.mode||"hash";switch(this.fallback="history"===e&&!Vi&&!1!==n.fallback,this.fallback&&(e="hash"),ji||(e="abstract"),this.mode=e,e){case"history":this.history=new po(this,n.base);break;case"hash":this.history=new ho(this,n.base,this.fallback);break;case"abstract":this.history=new xo(this,n.base);break;default:0}},wo={currentRoute:{configurable:!0}};function ko(n,e){return n.push(e),function(){var t=n.indexOf(e);t>-1&&n.splice(t,1)}}_o.prototype.match=function(n,e,t){return this.matcher.match(n,e,t)},wo.currentRoute.get=function(){return this.history&&this.history.current},_o.prototype.init=function(n){var e=this;if(this.apps.push(n),n.$once("hook:destroyed",(function(){var t=e.apps.indexOf(n);t>-1&&e.apps.splice(t,1),e.app===n&&(e.app=e.apps[0]||null),e.app||e.history.teardown()})),!this.app){this.app=n;var t=this.history;if(t instanceof po||t instanceof ho){var r=function(n){t.setupListeners(),function(n){var r=t.current,a=e.options.scrollBehavior;Vi&&a&&"fullPath"in n&&Bi(e,n,r,!1)}(n)};t.transitionTo(t.getCurrentLocation(),r,r)}t.listen((function(n){e.apps.forEach((function(e){e._route=n}))}))}},_o.prototype.beforeEach=function(n){return ko(this.beforeHooks,n)},_o.prototype.beforeResolve=function(n){return ko(this.resolveHooks,n)},_o.prototype.afterEach=function(n){return ko(this.afterHooks,n)},_o.prototype.onReady=function(n,e){this.history.onReady(n,e)},_o.prototype.onError=function(n){this.history.onError(n)},_o.prototype.push=function(n,e,t){var r=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){r.history.push(n,e,t)}));this.history.push(n,e,t)},_o.prototype.replace=function(n,e,t){var r=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){r.history.replace(n,e,t)}));this.history.replace(n,e,t)},_o.prototype.go=function(n){this.history.go(n)},_o.prototype.back=function(){this.go(-1)},_o.prototype.forward=function(){this.go(1)},_o.prototype.getMatchedComponents=function(n){var e=n?n.matched?n:this.resolve(n).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(n){return Object.keys(n.components).map((function(e){return n.components[e]}))}))):[]},_o.prototype.resolve=function(n,e,t){var r=xi(n,e=e||this.history.current,t,this),a=this.match(r,e),i=a.redirectedFrom||a.fullPath;return{location:r,route:a,href:function(n,e,t){var r="hash"===t?"#"+e:e;return n?ei(n+"/"+r):r}(this.history.base,i,this.mode),normalizedTo:r,resolved:a}},_o.prototype.getRoutes=function(){return this.matcher.getRoutes()},_o.prototype.addRoute=function(n,e){this.matcher.addRoute(n,e),this.history.current!==Va&&this.history.transitionTo(this.history.getCurrentLocation())},_o.prototype.addRoutes=function(n){this.matcher.addRoutes(n),this.history.current!==Va&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(_o.prototype,wo),_o.install=function n(e){if(!n.installed||_i!==e){n.installed=!0,_i=e;var t=function(n){return void 0!==n},r=function(n,e){var r=n.$options._parentVnode;t(r)&&t(r=r.data)&&t(r=r.registerRouteInstance)&&r(n,e)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,r(this,this)},destroyed:function(){r(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",Ya),e.component("RouterLink",ki);var a=e.config.optionMergeStrategies;a.beforeRouteEnter=a.beforeRouteLeave=a.beforeRouteUpdate=a.created}},_o.version="3.5.3",_o.isNavigationFailure=to,_o.NavigationFailureType=Ki,_o.START_LOCATION=Va,ji&&window.Vue&&window.Vue.use(_o);var So=_o;t(225),t(174),t(251),t(99),t(253),t(37),t(38),t(254);function jo(n){n.locales&&Object.keys(n.locales).forEach((function(e){n.locales[e].path=e})),Object.freeze(n)}t(74),t(89),t(120);function To(n){return(To="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var Eo=t(68),Co=(t(184),t(18),t(44),t(227),t(228),t(40),t(25),{NotFound:function(){return Promise.all([t.e(0),t.e(4)]).then(t.bind(null,474))},Layout:function(){return Promise.all([t.e(0),t.e(2)]).then(t.bind(null,473))}}),Oo={"v-beef57a6":function(){return t.e(6).then(t.bind(null,475))},"v-aa01d20a":function(){return t.e(7).then(t.bind(null,476))},"v-404c9778":function(){return t.e(8).then(t.bind(null,477))},"v-3fccfa19":function(){return t.e(9).then(t.bind(null,478))},"v-33a08dcd":function(){return t.e(10).then(t.bind(null,479))},"v-f84a6a2e":function(){return t.e(11).then(t.bind(null,480))},"v-c2ffda6e":function(){return t.e(12).then(t.bind(null,481))},"v-2b9d952b":function(){return t.e(13).then(t.bind(null,482))},"v-b721a6a6":function(){return t.e(14).then(t.bind(null,483))},"v-065d30b4":function(){return t.e(15).then(t.bind(null,484))},"v-669128ba":function(){return t.e(16).then(t.bind(null,485))},"v-02cf1748":function(){return t.e(17).then(t.bind(null,486))},"v-19e87a0e":function(){return Promise.all([t.e(0),t.e(5)]).then(t.bind(null,487))},"v-332e2ff5":function(){return t.e(18).then(t.bind(null,488))}};function Io(n){var e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}var Ao=/-(\w)/g,zo=Io((function(n){return n.replace(Ao,(function(n,e){return e?e.toUpperCase():""}))})),Ro=/\B([A-Z])/g,Po=Io((function(n){return n.replace(Ro,"-$1").toLowerCase()})),Lo=Io((function(n){return n.charAt(0).toUpperCase()+n.slice(1)}));function Mo(n,e){if(e)return n(e)?n(e):e.includes("-")?n(Lo(zo(e))):n(Lo(e))||n(Po(e))}var Bo=Object.assign({},Co,Oo),$o=function(n){return Bo[n]},Do=function(n){return Oo[n]},Jo=function(n){return Co[n]},No=function(n){return Ra.component(n)};function Fo(n){return Mo(Do,n)}function qo(n){return Mo(Jo,n)}function Uo(n){return Mo($o,n)}function Ho(n){return Mo(No,n)}function Vo(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Promise.all(e.filter((function(n){return n})).map(function(){var n=Object(r.a)(regeneratorRuntime.mark((function n(e){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(Ho(e)||!Uo(e)){n.next=5;break}return n.next=3,Uo(e)();case 3:t=n.sent,Ra.component(e,t.default);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()))}function Go(n,e){"undefined"!=typeof window&&window.__VUEPRESS__&&(window.__VUEPRESS__[n]=e)}var Qo=t(131),Xo=(t(185),t(106),t(70),t(215)),Ko=t.n(Xo),Wo=t(216),Yo=t.n(Wo),Zo={created:function(){if(this.siteMeta=this.$site.headTags.filter((function(n){return"meta"===Object(Qo.a)(n,1)[0]})).map((function(n){var e=Object(Qo.a)(n,2);e[0];return e[1]})),this.$ssrContext){var n=this.getMergedMetaTags();this.$ssrContext.title=this.$title,this.$ssrContext.lang=this.$lang,this.$ssrContext.pageMeta=(e=n)?e.map((function(n){var e="<meta";return Object.keys(n).forEach((function(t){e+=" ".concat(t,'="').concat(Yo()(n[t]),'"')})),e+">"})).join("\n    "):"",this.$ssrContext.canonicalLink=es(this.$canonicalUrl)}var e},mounted:function(){this.currentMetaTags=Object(Eo.a)(document.querySelectorAll("meta")),this.updateMeta(),this.updateCanonicalLink()},methods:{updateMeta:function(){document.title=this.$title,document.documentElement.lang=this.$lang;var n=this.getMergedMetaTags();this.currentMetaTags=ts(n,this.currentMetaTags)},getMergedMetaTags:function(){var n=this.$page.frontmatter.meta||[];return Ko()([{name:"description",content:this.$description}],n,this.siteMeta,rs)},updateCanonicalLink:function(){ns(),this.$canonicalUrl&&document.head.insertAdjacentHTML("beforeend",es(this.$canonicalUrl))}},watch:{$page:function(){this.updateMeta(),this.updateCanonicalLink()}},beforeDestroy:function(){ts(null,this.currentMetaTags),ns()}};function ns(){var n=document.querySelector("link[rel='canonical']");n&&n.remove()}function es(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n?'<link href="'.concat(n,'" rel="canonical" />'):""}function ts(n,e){if(e&&Object(Eo.a)(e).filter((function(n){return n.parentNode===document.head})).forEach((function(n){return document.head.removeChild(n)})),n)return n.map((function(n){var e=document.createElement("meta");return Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])})),document.head.appendChild(e),e}))}function rs(n){for(var e=0,t=["name","property","itemprop"];e<t.length;e++){var r=t[e];if(n.hasOwnProperty(r))return n[r]+r}return JSON.stringify(n)}t(133);var as=t(148),is={mounted:function(){window.addEventListener("scroll",this.onScroll)},methods:{onScroll:t.n(as)()((function(){this.setActiveHash()}),300),setActiveHash:function(){for(var n=this,e=[].slice.call(document.querySelectorAll(".sidebar-link")),t=[].slice.call(document.querySelectorAll(".header-anchor")).filter((function(n){return e.some((function(e){return e.hash===n.hash}))})),r=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),a=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),i=window.innerHeight+r,o=0;o<t.length;o++){var s=t[o],l=t[o+1],c=0===o&&0===r||r>=s.parentElement.offsetTop+10&&(!l||r<l.parentElement.offsetTop-10),u=decodeURIComponent(this.$route.hash);if(c&&u!==decodeURIComponent(s.hash)){var p=s;if(i===a)for(var d=o+1;d<t.length;d++)if(u===decodeURIComponent(t[d].hash))return;return this.$vuepress.$set("disableScrollBehavior",!0),void this.$router.replace(decodeURIComponent(p.hash),(function(){n.$nextTick((function(){n.$vuepress.$set("disableScrollBehavior",!1)}))}))}}}},beforeDestroy:function(){window.removeEventListener("scroll",this.onScroll)}},os=(t(102),t(97)),ss=t.n(os),ls={mounted:function(){var n=this;ss.a.configure({showSpinner:!1}),this.$router.beforeEach((function(n,e,t){n.path===e.path||Ra.component(n.name)||ss.a.start(),t()})),this.$router.afterEach((function(){ss.a.done(),n.isSidebarOpen=!1}))}};t(72),t(71),t(75),t(361);function cs(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}t(137);function us(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function ps(n,e,t){return e&&us(n.prototype,e),t&&us(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}t(362);var ds=function(){function n(){cs(this,n);this.containerEl=document.getElementById("message-container"),this.containerEl||(this.containerEl=document.createElement("div"),this.containerEl.id="message-container",document.body.appendChild(this.containerEl))}return ps(n,[{key:"show",value:function(n){var e=this,t=n.text,r=void 0===t?"":t,a=n.duration,i=void 0===a?3e3:a,o=document.createElement("div");o.className="message move-in",o.innerHTML='\n      <i style="fill: #06a35a;font-size: 14px;display:inline-flex;align-items: center;">\n        <svg style="fill: #06a35a;font-size: 14px;" t="1572421810237" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2323" width="16" height="16"><path d="M822.811993 824.617989c-83.075838 81.99224-188.546032 124.613757-316.049383 127.86455-122.085362-3.250794-223.943563-45.87231-305.935802-127.86455s-124.613757-184.21164-127.86455-305.935802c3.250794-127.503351 45.87231-232.973545 127.86455-316.049383 81.99224-83.075838 184.21164-126.058554 305.935802-129.309347 127.503351 3.250794 232.973545 46.23351 316.049383 129.309347 83.075838 83.075838 126.058554 188.546032 129.309347 316.049383C949.231746 640.406349 905.887831 742.62575 822.811993 824.617989zM432.716755 684.111464c3.973192 3.973192 8.307584 5.779189 13.364374 6.140388 5.05679 0.361199 9.752381-1.444797 13.364374-5.417989l292.571429-287.514638c3.973192-3.973192 5.779189-8.307584 5.779189-13.364374 0-5.05679-1.805996-9.752381-5.779189-13.364374l1.805996 1.805996c-3.973192-3.973192-8.668783-5.779189-14.086772-6.140388-5.417989-0.361199-10.47478 1.444797-14.809171 5.417989l-264.397884 220.33157c-3.973192 3.250794-8.668783 4.695591-14.447972 4.695591-5.779189 0-10.835979-1.444797-15.53157-3.973192l-94.273016-72.962257c-4.334392-3.250794-9.391182-4.334392-14.447972-3.973192s-9.391182 3.250794-12.641975 7.585185l-2.889594 3.973192c-3.250794 4.334392-4.334392 9.391182-3.973192 14.809171 0.722399 5.417989 2.528395 10.11358 5.779189 14.086772L432.716755 684.111464z" p-id="2324"></path></svg>\n      </i>\n      <div class="text">'.concat(r,"</div>\n    "),this.containerEl.appendChild(o),i>0&&setTimeout((function(){e.close(o)}),i)}},{key:"close",value:function(n){n.className=n.className.replace("move-in",""),n.className+="move-out",n.addEventListener("animationend",(function(){n.remove()}))}}]),n}(),fs={mounted:function(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},updated:function(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},methods:{updateCopy:function(){var n=this;setTimeout((function(){(['div[class*="language-"] pre','div[class*="aside-code"] aside']instanceof Array||Array.isArray(['div[class*="language-"] pre','div[class*="aside-code"] aside']))&&['div[class*="language-"] pre','div[class*="aside-code"] aside'].forEach((function(e){document.querySelectorAll(e).forEach(n.generateCopyButton)}))}),1e3)},generateCopyButton:function(n){var e=this;if(!n.classList.contains("codecopy-enabled")){var t=document.createElement("i");t.className="code-copy",t.innerHTML='<svg  style="color:#aaa;font-size:14px" t="1572422231464" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3201" width="14" height="14"><path d="M866.461538 39.384615H354.461538c-43.323077 0-78.769231 35.446154-78.76923 78.769231v39.384616h472.615384c43.323077 0 78.769231 35.446154 78.769231 78.76923v551.384616h39.384615c43.323077 0 78.769231-35.446154 78.769231-78.769231V118.153846c0-43.323077-35.446154-78.769231-78.769231-78.769231z m-118.153846 275.692308c0-43.323077-35.446154-78.769231-78.76923-78.769231H157.538462c-43.323077 0-78.769231 35.446154-78.769231 78.769231v590.769231c0 43.323077 35.446154 78.769231 78.769231 78.769231h512c43.323077 0 78.769231-35.446154 78.76923-78.769231V315.076923z m-354.461538 137.846154c0 11.815385-7.876923 19.692308-19.692308 19.692308h-157.538461c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h157.538461c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z m157.538461 315.076923c0 11.815385-7.876923 19.692308-19.692307 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h315.076923c11.815385 0 19.692308 7.876923 19.692307 19.692308v39.384615z m78.769231-157.538462c0 11.815385-7.876923 19.692308-19.692308 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h393.846153c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z" p-id="3202"></path></svg>',t.title="Copy to clipboard",t.addEventListener("click",(function(){e.copyToClipboard(n.innerText)})),n.appendChild(t),n.classList.add("codecopy-enabled")}},copyToClipboard:function(n){var e=document.createElement("textarea");e.value=n,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e);var t=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);e.select(),document.execCommand("copy"),(new ds).show({text:"å¤å¶æå",duration:1e3}),document.body.removeChild(e),t&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(t))}}};t(230),t(98),t(132),t(134),t(364);!function(n,e){void 0===e&&(e={});var t=e.insertAt;if(n&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===t&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n))}}("@media (max-width: 1000px) {\n  .vuepress-plugin-demo-block__h_code {\n    display: none;\n  }\n  .vuepress-plugin-demo-block__app {\n    margin-left: auto !important;\n    margin-right: auto !important;\n  }\n}\n.vuepress-plugin-demo-block__wrapper {\n  margin-top: 10px;\n  border: 1px solid #ebebeb;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display {\n  height: 400px;\n  display: flex;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__app {\n  width: 300px;\n  border: 1px solid #ebebeb;\n  box-shadow: 1px 1px 3px #ebebeb;\n  margin-right: 5px;\n  overflow: auto;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__h_code {\n  flex: 1;\n  overflow: auto;\n  height: 100%;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__h_code > pre {\n  overflow: visible;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__display {\n  max-height: 400px;\n  overflow: auto;\n}\n.vuepress-plugin-demo-block__wrapper div {\n  box-sizing: border-box;\n}\n.vuepress-plugin-demo-block__wrapper:hover {\n  box-shadow: 0 0 11px rgba(33, 33, 33, 0.2);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__code {\n  overflow: hidden;\n  height: 0;\n  padding: 0 !important;\n  background-color: #282c34;\n  border-radius: 0 !important;\n  transition: height 0.5s;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__code pre {\n  margin: 0 !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__display {\n  padding: 20px;\n  border-bottom: 1px solid #ebebeb;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer {\n  position: relative;\n  text-align: center;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__codepen {\n  opacity: 1;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__expand::before {\n  border-top: none;\n  border-right: 6px solid transparent;\n  border-bottom: 6px solid #ccc;\n  border-left: 6px solid transparent;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__codepen,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand span,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand {\n  opacity: 1;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand::before {\n  border-top-color: #3eaf7c !important;\n  border-bottom-color: #3eaf7c !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover svg {\n  fill: #3eaf7c !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand-text {\n  transition: all 0.5s;\n  opacity: 0;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer form:nth-last-child(2) {\n  right: 50px;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer form:last-child {\n  right: 10px;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button {\n  border-color: transparent;\n  background-color: transparent;\n  font-size: 14px;\n  color: #3eaf7c;\n  cursor: pointer;\n  outline: none;\n  margin: 0;\n  width: 46px;\n  position: relative;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button:hover::before {\n  content: attr(data-tip);\n  white-space: nowrap;\n  position: absolute;\n  top: -30px;\n  left: 50%;\n  color: #eee;\n  line-height: 1;\n  z-index: 1000;\n  border-radius: 4px;\n  padding: 6px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  background-color: rgba(0, 0, 0, 0.8);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button:hover::after {\n  content: '' !important;\n  display: block;\n  position: absolute;\n  left: 50%;\n  top: -5px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  border: 5px solid transparent;\n  border-top-color: rgba(0, 0, 0, 0.8);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button svg {\n  width: 34px;\n  height: 20px;\n  fill: #ccc;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__codepen {\n  position: absolute;\n  top: 10px;\n  transition: all 0.5s;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand {\n  position: relative;\n  width: 100px;\n  height: 40px;\n  margin: 0;\n  color: #3eaf7c;\n  font-size: 14px;\n  background-color: transparent;\n  border-color: transparent;\n  outline: none;\n  transition: all 0.5s;\n  cursor: pointer;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand::before {\n  content: \"\";\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 0;\n  height: 0;\n  border-top: 6px solid #ccc;\n  border-right: 6px solid transparent;\n  border-left: 6px solid transparent;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n}\n");var hs={jsLib:[],cssLib:[],jsfiddle:!0,codepen:!0,codepenLayout:"left",codepenJsProcessor:"babel",codepenEditors:"101",horizontal:!1,vue:"https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js",react:"https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js",reactDOM:"https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"},vs={},ms=function(n){return'<div id="app">\n'.concat(n,"\n</div>")},gs=function(n){return window.$VUEPRESS_DEMO_BLOCK&&void 0!==window.$VUEPRESS_DEMO_BLOCK[n]?window.$VUEPRESS_DEMO_BLOCK[n]:hs[n]},bs=function n(e,t,r){var a=document.createElement(e);return t&&Object.keys(t).forEach((function(n){if(n.indexOf("data"))a[n]=t[n];else{var e=n.replace("data","");a.dataset[e]=t[n]}})),r&&r.forEach((function(e){var t=e.tag,r=e.attrs,i=e.children;a.appendChild(n(t,r,i))})),a},ys=function(n,e,t){var r,a=(r=n.querySelectorAll(".".concat(e)),Array.prototype.slice.call(r));return 1!==a.length||t?a:a[0]},xs=function(n,e){var t,r,a=n.match(/<style>([\s\S]+)<\/style>/),i=n.match(/<template>([\s\S]+)<\/template>/),o=n.match(/<script>([\s\S]+)<\/script>/),s={css:a&&a[1].replace(/^\n|\n$/g,""),html:i&&i[1].replace(/^\n|\n$/g,""),js:o&&o[1].replace(/^\n|\n$/g,""),jsLib:e.jsLib||[],cssLib:e.cssLib||[]};s.htmlTpl=ms(s.html),s.jsTpl=(t=s.js,r=t.replace(/export\s+default\s*?\{\n*/,"").replace(/\n*\}\s*$/,"").trim(),"new Vue({\n  el: '#app',\n  ".concat(r,"\n})")),s.script=function(n,e){var t=n.split(/export\s+default/),r="(function() {".concat(t[0]," ; return ").concat(t[1],"})()"),a=window.Babel?window.Babel.transform(r,{presets:["es2015"]}).code:r,i=[eval][0](a);return i.template=e,i}(s.js,s.html);var l=gs("vue");return s.jsLib.unshift(l),s},_s=function(n,e){var t,r=n.match(/<style>([\s\S]+)<\/style>/),a=n.match(/<html>([\s\S]+)<\/html>/),i=n.match(/<script>([\s\S]+)<\/script>/),o={css:r&&r[1].replace(/^\n|\n$/g,""),html:a&&a[1].replace(/^\n|\n$/g,""),js:i&&i[1].replace(/^\n|\n$/g,""),jsLib:e.jsLib||[],cssLib:e.cssLib||[]};return o.htmlTpl=o.html,o.jsTpl=o.js,o.script=(t=o.js,window.Babel?window.Babel.transform(t,{presets:["es2015"]}).code:t),o},ws=function(n){return n=n.replace("export default ","").replace(/App\.__style__(\s*)=(\s*)`([\s\S]*)?`/,""),n+='ReactDOM.render(React.createElement(App), document.getElementById("app"))'};function ks(){var n=ys(document,"vuepress-plugin-demo-block__wrapper",!0);n.length?n.forEach((function(n){if("true"!==n.dataset.created){n.style.display="block";var e=ys(n,"vuepress-plugin-demo-block__code"),t=ys(n,"vuepress-plugin-demo-block__display"),r=ys(n,"vuepress-plugin-demo-block__footer"),a=ys(t,"vuepress-plugin-demo-block__app"),i=decodeURIComponent(n.dataset.code),o=decodeURIComponent(n.dataset.config),s=decodeURIComponent(n.dataset.type);o=o?JSON.parse(o):{};var l=e.querySelector("div").clientHeight,c="react"===s?function(n,e){var t=(0,window.Babel.transform)(n,{presets:["es2015","react"]}).code,r="(function(exports){var module={};module.exports=exports;".concat(t,";return module.exports.__esModule?module.exports.default:module.exports;})({})"),a=new Function("return ".concat(r))(),i={js:a,css:a.__style__||"",jsLib:e.jsLib||[],cssLib:e.cssLib||[],jsTpl:ws(n),htmlTpl:ms("")},o=gs("react"),s=gs("reactDOM");return i.jsLib.unshift(o,s),i}(i,o):"vanilla"===s?_s(i,o):xs(i,o),u=bs("button",{className:"".concat("vuepress-plugin-demo-block__expand")});if(r.appendChild(u),u.addEventListener("click",Ss.bind(null,u,l,e,r)),gs("jsfiddle")&&r.appendChild(function(n){var e=n.css,t=n.htmlTpl,r=n.jsTpl,a=n.jsLib,i=n.cssLib,o=a.concat(i).concat(gs("cssLib")).concat(gs("jsLib")).join(",");return bs("form",{className:"vuepress-plugin-demo-block__jsfiddle",target:"_blank",action:"https://jsfiddle.net/api/post/library/pure/",method:"post"},[{tag:"input",attrs:{type:"hidden",name:"css",value:e}},{tag:"input",attrs:{type:"hidden",name:"html",value:t}},{tag:"input",attrs:{type:"hidden",name:"js",value:r}},{tag:"input",attrs:{type:"hidden",name:"panel_js",value:3}},{tag:"input",attrs:{type:"hidden",name:"wrap",value:1}},{tag:"input",attrs:{type:"hidden",name:"resources",value:o}},{tag:"button",attrs:{type:"submit",className:"vuepress-plugin-demo-block__button",innerHTML:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1547088289967" class="icon" style="" viewBox="0 0 1170 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1952" xmlns:xlink="http://www.w3.org/1999/xlink" width="228.515625" height="200"><defs><style type="text/css"></style></defs><path d="M1028.571429 441.142857q63.428571 26.285714 102.571428 83.142857T1170.285714 650.857143q0 93.714286-67.428571 160.285714T940 877.714286q-2.285714 0-6.571429-0.285715t-6-0.285714H232q-97.142857-5.714286-164.571429-71.714286T0 645.142857q0-62.857143 31.428571-116t84-84q-6.857143-22.285714-6.857142-46.857143 0-65.714286 46.857142-112t113.714286-46.285714q54.285714 0 98.285714 33.142857 42.857143-88 127.142858-141.714286t186.571428-53.714285q94.857143 0 174.857143 46T982.571429 248.571429t46.571428 172q0 3.428571-0.285714 10.285714t-0.285714 10.285714zM267.428571 593.142857q0 69.714286 48 110.285714t118.857143 40.571429q78.285714 0 137.142857-56.571429-9.142857-11.428571-27.142857-32.285714T519.428571 626.285714q-38.285714 37.142857-82.285714 37.142857-31.428571 0-53.428571-19.142857T361.714286 594.285714q0-30.285714 22-49.714285t52.285714-19.428572q25.142857 0 48.285714 12t41.714286 31.428572 37.142857 42.857142 39.428572 46.857143 44 42.857143 55.428571 31.428572 69.428571 12q69.142857 0 116.857143-40.857143T936 594.857143q0-69.142857-48-109.714286t-118.285714-40.571428q-81.714286 0-137.714286 55.428571l53.142857 61.714286q37.714286-36.571429 81.142857-36.571429 29.714286 0 52.571429 18.857143t22.857143 48q0 32.571429-21.142857 52.285714t-53.714286 19.714286q-24.571429 0-47.142857-12t-41.142857-31.428571-37.428572-42.857143-39.714286-46.857143-44.285714-42.857143-55.142857-31.428571T434.285714 444.571429q-69.714286 0-118.285714 40.285714T267.428571 593.142857z" p-id="1953"></path></svg>',datatip:"JSFiddle"}}])}(c)),gs("codepen")&&r.appendChild(function(n){var e=n.css,t=n.htmlTpl,r=n.jsTpl,a=n.jsLib,i=n.cssLib,o=JSON.stringify({css:e,html:t,js:r,js_external:a.concat(gs("jsLib")).join(";"),css_external:i.concat(gs("cssLib")).join(";"),layout:gs("codepenLayout"),js_pre_processor:gs("codepenJsProcessor"),editors:gs("codepenEditors")});return bs("form",{className:"vuepress-plugin-demo-block__codepen",target:"_blank",action:"https://codepen.io/pen/define",method:"post"},[{tag:"input",attrs:{type:"hidden",name:"data",value:o}},{tag:"button",attrs:{type:"submit",innerHTML:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1547088271207" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1737" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path d="M123.428571 668l344.571429 229.714286v-205.142857L277.142857 565.142857z m-35.428571-82.285714l110.285714-73.714286-110.285714-73.714286v147.428572z m468 312l344.571429-229.714286-153.714286-102.857143-190.857143 127.428572v205.142857z m-44-281.714286l155.428571-104-155.428571-104-155.428571 104zM277.142857 458.857143l190.857143-127.428572V126.285714L123.428571 356z m548.571429 53.142857l110.285714 73.714286V438.285714z m-78.857143-53.142857l153.714286-102.857143-344.571429-229.714286v205.142857z m277.142857-102.857143v312q0 23.428571-19.428571 36.571429l-468 312q-12 7.428571-24.571429 7.428571t-24.571429-7.428571L19.428571 704.571429q-19.428571-13.142857-19.428571-36.571429V356q0-23.428571 19.428571-36.571429L487.428571 7.428571q12-7.428571 24.571429-7.428571t24.571429 7.428571l468 312q19.428571 13.142857 19.428571 36.571429z" p-id="1738"></path></svg>',className:"vuepress-plugin-demo-block__button",datatip:"Codepen"}}])}(c)),void 0!==o.horizontal?o.horizontal:gs("horizontal")){n.classList.add("vuepress-plugin-demo-block__horizontal");var p=e.firstChild.cloneNode(!0);p.classList.add("vuepress-plugin-demo-block__h_code"),t.appendChild(p)}if(c.css&&function(n){if(!vs[n]){var e=bs("style",{innerHTML:n});document.body.appendChild(e),vs[n]=!0}}(c.css),"react"===s)ReactDOM.render(React.createElement(c.js),a);else if("vue"===s){var d=(new(Vue.extend(c.script))).$mount();a.appendChild(d.$el)}else"vanilla"===s&&(a.innerHTML=c.html,new Function("return (function(){".concat(c.script,"})()"))());n.dataset.created="true"}})):setTimeout((function(n){ks()}),300)}function Ss(n,e,t,r){var a="1"!==n.dataset.isExpand;t.style.height=a?"".concat(e,"px"):0,a?r.classList.add("vuepress-plugin-demo-block__show-link"):r.classList.remove("vuepress-plugin-demo-block__show-link"),n.dataset.isExpand=a?"1":"0"}var js={mounted:function(){window.$VUEPRESS_DEMO_BLOCK={jsfiddle:!1,codepen:!0,horizontal:!1},ks()},updated:function(){ks()}},Ts=(t(219),"auto"),Es="zoom-in",Cs="zoom-out",Os="grab",Is="move";function As(n,e,t){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a={passive:!1};r?n.addEventListener(e,t,a):n.removeEventListener(e,t,a)}function zs(n,e){if(n){var t=new Image;t.onload=function(){e&&e(t)},t.src=n}}function Rs(n){return n.dataset.original?n.dataset.original:"A"===n.parentNode.tagName?n.parentNode.getAttribute("href"):null}function Ps(n,e,t){!function(n){var e=Ls,t=Ms;if(n.transition){var r=n.transition;delete n.transition,n[e]=r}if(n.transform){var a=n.transform;delete n.transform,n[t]=a}}(e);var r=n.style,a={};for(var i in e)t&&(a[i]=r[i]||""),r[i]=e[i];return a}var Ls="transition",Ms="transform",Bs="transform",$s="transitionend";var Ds=function(){},Js={enableGrab:!0,preloadImage:!1,closeOnWindowResize:!0,transitionDuration:.4,transitionTimingFunction:"cubic-bezier(0.4, 0, 0, 1)",bgColor:"rgb(255, 255, 255)",bgOpacity:1,scaleBase:1,scaleExtra:.5,scrollThreshold:40,zIndex:998,customSize:null,onOpen:Ds,onClose:Ds,onGrab:Ds,onMove:Ds,onRelease:Ds,onBeforeOpen:Ds,onBeforeClose:Ds,onBeforeGrab:Ds,onBeforeRelease:Ds,onImageLoading:Ds,onImageLoaded:Ds},Ns={init:function(n){var e,t;e=this,t=n,Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(n){e[n]=e[n].bind(t)}))},click:function(n){if(n.preventDefault(),qs(n))return window.open(this.target.srcOriginal||n.currentTarget.src,"_blank");this.shown?this.released?this.close():this.release():this.open(n.currentTarget)},scroll:function(){var n=document.documentElement||document.body.parentNode||document.body,e=window.pageXOffset||n.scrollLeft,t=window.pageYOffset||n.scrollTop;null===this.lastScrollPosition&&(this.lastScrollPosition={x:e,y:t});var r=this.lastScrollPosition.x-e,a=this.lastScrollPosition.y-t,i=this.options.scrollThreshold;(Math.abs(a)>=i||Math.abs(r)>=i)&&(this.lastScrollPosition=null,this.close())},keydown:function(n){(function(n){return"Escape"===(n.key||n.code)||27===n.keyCode})(n)&&(this.released?this.close():this.release(this.close))},mousedown:function(n){if(Fs(n)&&!qs(n)){n.preventDefault();var e=n.clientX,t=n.clientY;this.pressTimer=setTimeout(function(){this.grab(e,t)}.bind(this),200)}},mousemove:function(n){this.released||this.move(n.clientX,n.clientY)},mouseup:function(n){Fs(n)&&!qs(n)&&(clearTimeout(this.pressTimer),this.released?this.close():this.release())},touchstart:function(n){n.preventDefault();var e=n.touches[0],t=e.clientX,r=e.clientY;this.pressTimer=setTimeout(function(){this.grab(t,r)}.bind(this),200)},touchmove:function(n){if(!this.released){var e=n.touches[0],t=e.clientX,r=e.clientY;this.move(t,r)}},touchend:function(n){(function(n){n.targetTouches.length})(n)||(clearTimeout(this.pressTimer),this.released?this.close():this.release())},clickOverlay:function(){this.close()},resizeWindow:function(){this.close()}};function Fs(n){return 0===n.button}function qs(n){return n.metaKey||n.ctrlKey}var Us={init:function(n){this.el=document.createElement("div"),this.instance=n,this.parent=document.body,Ps(this.el,{position:"fixed",top:0,left:0,right:0,bottom:0,opacity:0}),this.updateStyle(n.options),As(this.el,"click",n.handler.clickOverlay.bind(n))},updateStyle:function(n){Ps(this.el,{zIndex:n.zIndex,backgroundColor:n.bgColor,transition:"opacity\n        "+n.transitionDuration+"s\n        "+n.transitionTimingFunction})},insert:function(){this.parent.appendChild(this.el)},remove:function(){this.parent.removeChild(this.el)},fadeIn:function(){this.el.offsetWidth,this.el.style.opacity=this.instance.options.bgOpacity},fadeOut:function(){this.el.style.opacity=0}},Hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Vs=function(){function n(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),Gs=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Qs={init:function(n,e){this.el=n,this.instance=e,this.srcThumbnail=this.el.getAttribute("src"),this.srcset=this.el.getAttribute("srcset"),this.srcOriginal=Rs(this.el),this.rect=this.el.getBoundingClientRect(),this.translate=null,this.scale=null,this.styleOpen=null,this.styleClose=null},zoomIn:function(){var n=this.instance.options,e=n.zIndex,t=n.enableGrab,r=n.transitionDuration,a=n.transitionTimingFunction;this.translate=this.calculateTranslate(),this.scale=this.calculateScale(),this.styleOpen={position:"relative",zIndex:e+1,cursor:t?Os:Cs,transition:Bs+"\n        "+r+"s\n        "+a,transform:"translate3d("+this.translate.x+"px, "+this.translate.y+"px, 0px)\n        scale("+this.scale.x+","+this.scale.y+")",height:this.rect.height+"px",width:this.rect.width+"px"},this.el.offsetWidth,this.styleClose=Ps(this.el,this.styleOpen,!0)},zoomOut:function(){this.el.offsetWidth,Ps(this.el,{transform:"none"})},grab:function(n,e,t){var r=Xs(),a=r.x-n,i=r.y-e;Ps(this.el,{cursor:Is,transform:"translate3d(\n        "+(this.translate.x+a)+"px, "+(this.translate.y+i)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},move:function(n,e,t){var r=Xs(),a=r.x-n,i=r.y-e;Ps(this.el,{transition:Bs,transform:"translate3d(\n        "+(this.translate.x+a)+"px, "+(this.translate.y+i)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},restoreCloseStyle:function(){Ps(this.el,this.styleClose)},restoreOpenStyle:function(){Ps(this.el,this.styleOpen)},upgradeSource:function(){if(this.srcOriginal){var n=this.el.parentNode;this.srcset&&this.el.removeAttribute("srcset");var e=this.el.cloneNode(!1);e.setAttribute("src",this.srcOriginal),e.style.position="fixed",e.style.visibility="hidden",n.appendChild(e),setTimeout(function(){this.el.setAttribute("src",this.srcOriginal),n.removeChild(e)}.bind(this),50)}},downgradeSource:function(){this.srcOriginal&&(this.srcset&&this.el.setAttribute("srcset",this.srcset),this.el.setAttribute("src",this.srcThumbnail))},calculateTranslate:function(){var n=Xs(),e=this.rect.left+this.rect.width/2,t=this.rect.top+this.rect.height/2;return{x:n.x-e,y:n.y-t}},calculateScale:function(){var n=this.el.dataset,e=n.zoomingHeight,t=n.zoomingWidth,r=this.instance.options,a=r.customSize,i=r.scaleBase;if(!a&&e&&t)return{x:t/this.rect.width,y:e/this.rect.height};if(a&&"object"===(void 0===a?"undefined":Hs(a)))return{x:a.width/this.rect.width,y:a.height/this.rect.height};var o=this.rect.width/2,s=this.rect.height/2,l=Xs(),c={x:l.x-o,y:l.y-s},u=c.x/o,p=c.y/s,d=i+Math.min(u,p);if(a&&"string"==typeof a){var f=t||this.el.naturalWidth,h=e||this.el.naturalHeight,v=parseFloat(a)*f/(100*this.rect.width),m=parseFloat(a)*h/(100*this.rect.height);if(d>v||d>m)return{x:v,y:m}}return{x:d,y:d}}};function Xs(){var n=document.documentElement;return{x:Math.min(n.clientWidth,window.innerWidth)/2,y:Math.min(n.clientHeight,window.innerHeight)/2}}function Ks(n,e,t){["mousedown","mousemove","mouseup","touchstart","touchmove","touchend"].forEach((function(r){As(n,r,e[r],t)}))}var Ws=function(){function n(e){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.target=Object.create(Qs),this.overlay=Object.create(Us),this.handler=Object.create(Ns),this.body=document.body,this.shown=!1,this.lock=!1,this.released=!0,this.lastScrollPosition=null,this.pressTimer=null,this.options=Gs({},Js,e),this.overlay.init(this),this.handler.init(this)}return Vs(n,[{key:"listen",value:function(n){if("string"==typeof n)for(var e=document.querySelectorAll(n),t=e.length;t--;)this.listen(e[t]);else"IMG"===n.tagName&&(n.style.cursor=Es,As(n,"click",this.handler.click),this.options.preloadImage&&zs(Rs(n)));return this}},{key:"config",value:function(n){return n?(Gs(this.options,n),this.overlay.updateStyle(this.options),this):this.options}},{key:"open",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.onOpen;if(!this.shown&&!this.lock){var r="string"==typeof n?document.querySelector(n):n;if("IMG"===r.tagName){if(this.options.onBeforeOpen(r),this.target.init(r,this),!this.options.preloadImage){var a=this.target.srcOriginal;null!=a&&(this.options.onImageLoading(r),zs(a,this.options.onImageLoaded))}this.shown=!0,this.lock=!0,this.target.zoomIn(),this.overlay.insert(),this.overlay.fadeIn(),As(document,"scroll",this.handler.scroll),As(document,"keydown",this.handler.keydown),this.options.closeOnWindowResize&&As(window,"resize",this.handler.resizeWindow);var i=function n(){As(r,$s,n,!1),e.lock=!1,e.target.upgradeSource(),e.options.enableGrab&&Ks(document,e.handler,!0),t(r)};return As(r,$s,i),this}}}},{key:"close",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onClose;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeClose(t),this.lock=!0,this.body.style.cursor=Ts,this.overlay.fadeOut(),this.target.zoomOut(),As(document,"scroll",this.handler.scroll,!1),As(document,"keydown",this.handler.keydown,!1),this.options.closeOnWindowResize&&As(window,"resize",this.handler.resizeWindow,!1);var r=function r(){As(t,$s,r,!1),n.shown=!1,n.lock=!1,n.target.downgradeSource(),n.options.enableGrab&&Ks(document,n.handler,!1),n.target.restoreCloseStyle(),n.overlay.remove(),e(t)};return As(t,$s,r),this}}},{key:"grab",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onGrab;if(this.shown&&!this.lock){var a=this.target.el;this.options.onBeforeGrab(a),this.released=!1,this.target.grab(n,e,t);var i=function n(){As(a,$s,n,!1),r(a)};return As(a,$s,i),this}}},{key:"move",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onMove;if(this.shown&&!this.lock){this.released=!1,this.body.style.cursor=Is,this.target.move(n,e,t);var a=this.target.el,i=function n(){As(a,$s,n,!1),r(a)};return As(a,$s,i),this}}},{key:"release",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onRelease;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeRelease(t),this.lock=!0,this.body.style.cursor=Ts,this.target.restoreOpenStyle();var r=function r(){As(t,$s,r,!1),n.lock=!1,n.released=!0,e(t)};return As(t,$s,r),this}}}]),n}(),Ys=".theme-vdoing-content img:not(.no-zoom)",Zs=JSON.parse('{"bgColor":"rgba(0,0,0,0.6)"}'),nl=Number("500"),el=function(){function n(){cs(this,n),this.instance=new Ws(Zs)}return ps(n,[{key:"update",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ys;"undefined"!=typeof window&&this.instance.listen(n)}},{key:"updateDelay",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ys,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nl;setTimeout((function(){return n.update(e)}),t)}}]),n}(),tl=[Zo,is,ls,fs,js,{watch:{"$page.path":function(){void 0!==this.$vuepress.zooming&&this.$vuepress.zooming.updateDelay()}},mounted:function(){this.$vuepress.zooming=new el,this.$vuepress.zooming.updateDelay()}}],rl={name:"GlobalLayout",computed:{layout:function(){var n=this.getLayout();return Go("layout",n),Ra.component(n)}},methods:{getLayout:function(){if(this.$page.path){var n=this.$page.frontmatter.layout;return n&&(this.$vuepress.getLayoutAsyncComponent(n)||this.$vuepress.getVueComponent(n))?n:"Layout"}return"NotFound"}}},al=t(29),il=Object(al.a)(rl,(function(){var n=this.$createElement;return(this._self._c||n)(this.layout,{tag:"component"})}),[],!1,null,null,null).exports;!function(n,e,t){var r;switch(e){case"components":n[e]||(n[e]={}),Object.assign(n[e],t);break;case"mixins":n[e]||(n[e]=[]),(r=n[e]).push.apply(r,Object(Eo.a)(t));break;default:throw new Error("Unknown option name.")}}(il,"mixins",tl);var ol=[{name:"v-beef57a6",path:"/pages/52d5c3/",component:il,beforeEnter:function(n,e,t){Vo("Layout","v-beef57a6").then(t)}},{path:"/pages/52d5c3/index.html",redirect:"/pages/52d5c3/"},{path:"/01.åºç¡/01.åºç¡ç¥è¯/01.åºç¡.html",redirect:"/pages/52d5c3/"},{name:"v-aa01d20a",path:"/pages/649cb6/",component:il,beforeEnter:function(n,e,t){Vo("Layout","v-aa01d20a").then(t)}},{path:"/pages/649cb6/index.html",redirect:"/pages/649cb6/"},{path:"/01.åºç¡/01.åºç¡ç¥è¯/04.JVM.html",redirect:"/pages/649cb6/"},{name:"v-404c9778",path:"/pages/a99400/",component:il,beforeEnter:function(n,e,t){Vo("Layout","v-404c9778").then(t)}},{path:"/pages/a99400/index.html",redirect:"/pages/a99400/"},{path:"/01.åºç¡/03.æ°æ®åº/01.MySQL.html",redirect:"/pages/a99400/"},{name:"v-3fccfa19",path:"/pages/5aa973/",component:il,beforeEnter:function(n,e,t){Vo("Layout","v-3fccfa19").then(t)}},{path:"/pages/5aa973/index.html",redirect:"/pages/5aa973/"},{path:"/02.æ¡æ¶/01.Spring/01.åºç¡/01.Spring.html",redirect:"/pages/5aa973/"},{name:"v-33a08dcd",path:"/pages/ce6c78/",component:il,beforeEnter:function(n,e,t){Vo("Layout","v-33a08dcd").then(t)}},{path:"/pages/ce6c78/index.html",redirect:"/pages/ce6c78/"},{path:"/02.æ¡æ¶/01.Spring/10.å®å¨æ¡æ¶/01.JWT.html",redirect:"/pages/ce6c78/"},{name:"v-f84a6a2e",path:"/pages/9a6634/",component:il,beforeEnter:function(n,e,t){Vo("Layout","v-f84a6a2e").then(t)}},{path:"/pages/9a6634/index.html",redirect:"/pages/9a6634/"},{path:"/02.æ¡æ¶/03.SpringBoot/03.éå³ç³»åæ°æ®åº/01.Redis.html",redirect:"/pages/9a6634/"},{name:"v-c2ffda6e",path:"/pages/0a0365/",component:il,beforeEnter:function(n,e,t){Vo("Layout","v-c2ffda6e").then(t)}},{path:"/pages/0a0365/index.html",redirect:"/pages/0a0365/"},{path:"/02.æ¡æ¶/03.SpringBoot/03.éå³ç³»åæ°æ®åº/02.Elasticsearch.html",redirect:"/pages/0a0365/"},{name:"v-2b9d952b",path:"/pages/c267a5/",component:il,beforeEnter:function(n,e,t){Vo("Layout","v-2b9d952b").then(t)}},{path:"/pages/c267a5/index.html",redirect:"/pages/c267a5/"},{path:"/02.æ¡æ¶/03.SpringBoot/04.MQ/01.RabbitMQ.html",redirect:"/pages/c267a5/"},{name:"v-b721a6a6",path:"/pages/db78e2/",component:il,beforeEnter:function(n,e,t){Vo("Layout","v-b721a6a6").then(t)}},{path:"/pages/db78e2/index.html",redirect:"/pages/db78e2/"},{path:"/03.å·¥å·/01.èµæº.html",redirect:"/pages/db78e2/"},{name:"v-065d30b4",path:"/pages/5d571c/",component:il,beforeEnter:function(n,e,t){Vo("Layout","v-065d30b4").then(t)}},{path:"/pages/5d571c/index.html",redirect:"/pages/5d571c/"},{path:"/04.é¡¹ç®/01.æ¡ä¾.html",redirect:"/pages/5d571c/"},{name:"v-669128ba",path:"/pages/9cc27d/",component:il,beforeEnter:function(n,e,t){Vo("Layout","v-669128ba").then(t)}},{path:"/pages/9cc27d/index.html",redirect:"/pages/9cc27d/"},{path:"/05.äº/01.é®ç­.html",redirect:"/pages/9cc27d/"},{name:"v-02cf1748",path:"/pages/1b12ed/",component:il,beforeEnter:function(n,e,t){Vo("Layout","v-02cf1748").then(t)}},{path:"/pages/1b12ed/index.html",redirect:"/pages/1b12ed/"},{path:"/06.ä¹¦ç±/01.æ¯æ.html",redirect:"/pages/1b12ed/"},{name:"v-19e87a0e",path:"/",component:il,beforeEnter:function(n,e,t){Vo("Layout","v-19e87a0e").then(t)}},{path:"/index.html",redirect:"/"},{name:"v-332e2ff5",path:"/blog/",component:il,beforeEnter:function(n,e,t){Vo("Layout","v-332e2ff5").then(t)}},{path:"/blog/index.html",redirect:"/blog/"},{path:"/@pages/archivesPage.html",redirect:"/blog/"},{path:"*",component:il}],sl={title:"Plum Blossom",description:"ç¥è¯ç®¡ç",base:"/",headTags:[["link",{rel:"icon",href:"/img/favicon.ico"}],["meta",{name:"keywords",content:"vuepress,theme,blog,vdoing"}],["meta",{name:"theme-color",content:"#11a8cd"}]],pages:[{title:"åºç¡é¢è¯é¢",frontmatter:{title:"åºç¡é¢è¯é¢",date:"2020-05-11T13:59:38.000Z",permalink:"/pages/52d5c3",article:!1},regularPath:"/01.%E5%9F%BA%E7%A1%80/01.%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/01.%E5%9F%BA%E7%A1%80.html",relativePath:"01.åºç¡/01.åºç¡ç¥è¯/01.åºç¡.md",key:"v-beef57a6",path:"/pages/52d5c3/",headers:[{level:3,title:"Java è¯­è¨çç¹ç¹ï¼å¦æä½ ç®åä¸ææå° C++ å¯è½è¿ä¼é®ä½  Java å C++ çåºå«ï¼ããâ­â­ã",slug:"java-è¯­è¨çç¹ç¹-å¦æä½ ç®åä¸ææå°-c-å¯è½è¿ä¼é®ä½ -java-å-c-çåºå«-ããâ­â­ã",normalizedTitle:"java è¯­è¨çç¹ç¹ï¼å¦æä½ ç®åä¸ææå° c++ å¯è½è¿ä¼é®ä½  java å c++ çåºå«ï¼ããâ­â­ã",charIndex:7},{level:3,title:"æ¯è¾ JVM å JDK ä»¥å JRE ããâ­â­â­ãéå¸¸éå¸¸åºç¡çä¸ä¸ªé®é¢ï¼å­¦äº Java ä¹åè¿ä¸ç¥è¿ä¸ªé®é¢å¦ä½åç­çå°ä¼ä¼´èªè§å»é¢å£å§ï¼",slug:"æ¯è¾-jvm-å-jdk-ä»¥å-jre-ããâ­â­â­ãéå¸¸éå¸¸åºç¡çä¸ä¸ªé®é¢-å­¦äº-java-ä¹åè¿ä¸ç¥è¿ä¸ªé®é¢å¦ä½åç­çå°ä¼ä¼´èªè§å»é¢å£å§",normalizedTitle:"æ¯è¾ jvm å jdk ä»¥å jre ããâ­â­â­ãéå¸¸éå¸¸åºç¡çä¸ä¸ªé®é¢ï¼å­¦äº java ä¹åè¿ä¸ç¥è¿ä¸ªé®é¢å¦ä½åç­çå°ä¼ä¼´èªè§å»é¢å£å§ï¼",charIndex:319},{level:3,title:"ä¸ºä»ä¹è¯´ Java è¯­è¨âè§£éä¸ç¼è¯å¹¶å­âããâ­â­ã",slug:"ä¸ºä»ä¹è¯´-java-è¯­è¨-è§£éä¸ç¼è¯å¹¶å­-ããâ­â­ã",normalizedTitle:"ä¸ºä»ä¹è¯´ java è¯­è¨âè§£éä¸ç¼è¯å¹¶å­âããâ­â­ã",charIndex:734},{level:3,title:"Java åºæ¬ç±»åæåªå ç§ï¼åå å¤å°ä½ï¼ãâ­â­ã",slug:"java-åºæ¬ç±»åæåªå ç§-åå å¤å°ä½-ãâ­â­ã",normalizedTitle:"java åºæ¬ç±»åæåªå ç§ï¼åå å¤å°ä½ï¼ãâ­â­ã",charIndex:1160},{level:3,title:"Java æ³åï¼ç±»åæ¦é¤ããâ­â­â­ã",slug:"java-æ³å-ç±»åæ¦é¤ããâ­â­â­ã",normalizedTitle:"java æ³åï¼ç±»åæ¦é¤ããâ­â­â­ã",charIndex:1683},{level:3,title:"== å equals() çåºå«ããâ­â­â­ãï¼è¿ä¸ªé®é¢å¨ 2018 å¹´ä¹åå ä¹æ¯é¢è¯å¿é®çé®é¢ï¼ä½æ¯ç°å¨å¤§åä»¥åæ¯è¾å°é®äºï¼ç°å¨å°åä¸­åé®çå¤ã",slug:"å-equals-çåºå«ããâ­â­â­ã-è¿ä¸ªé®é¢å¨-2018-å¹´ä¹åå ä¹æ¯é¢è¯å¿é®çé®é¢-ä½æ¯ç°å¨å¤§åä»¥åæ¯è¾å°é®äº-ç°å¨å°åä¸­åé®çå¤ã",normalizedTitle:"== å equals() çåºå«ããâ­â­â­ãï¼è¿ä¸ªé®é¢å¨ 2018 å¹´ä¹åå ä¹æ¯é¢è¯å¿é®çé®é¢ï¼ä½æ¯ç°å¨å¤§åä»¥åæ¯è¾å°é®äºï¼ç°å¨å°åä¸­åé®çå¤ã",charIndex:2714},{level:3,title:"**hashCode()",slug:"hashcode",normalizedTitle:"**hashcode()",charIndex:3324},{level:3,title:"éè½½åéåçåºå«ã ãâ­â­â­â­ã",slug:"éè½½åéåçåºå«ã-ãâ­â­â­â­ã",normalizedTitle:"éè½½åéåçåºå«ã ãâ­â­â­â­ã",charIndex:4418},{level:3,title:"æ·±æ·è´åæµæ·è´ããâ­ã",slug:"æ·±æ·è´åæµæ·è´-https-developer-aliyun-com-article-617684-text-å³äºjavaçæ·±æ·è´åæµæ·è´-ç®åæ¥è¯´å°±æ¯åå»ºä¸ä¸ªåå·²ç¥å¯¹è±¡ä¸æ¨¡ä¸æ ·çå¯¹è±¡ã-å¯è½æ¥å¸¸ç¼ç è¿ç¨ä¸­ç¨çä¸å¤-ä½æ¯è¿æ¯ä¸ä¸ªé¢è¯ç»å¸¸ä¼é®çé®é¢-èä¸äºè§£æ·±æ·è´åæµæ·è´çåç-å¯¹äºjavaä¸­çæè°å¼ä¼ éæèå¼ç¨ä¼ éå°ä¼ææ´æ·±ççè§£ã-1ãåå»ºå¯¹è±¡ç5ç§æ¹å¼-ããâ­ã",normalizedTitle:"æ·±æ·è´åæµæ·è´ããâ­ã",charIndex:null},{level:3,title:"é¢åå¯¹è±¡åé¢åè¿ç¨çåºå«ããâ­â­â­ã",slug:"é¢åå¯¹è±¡åé¢åè¿ç¨çåºå«ããâ­â­â­ã",normalizedTitle:"é¢åå¯¹è±¡åé¢åè¿ç¨çåºå«ããâ­â­â­ã",charIndex:5534},{level:3,title:"æååéä¸å±é¨åéçåºå«ããâ­â­â­ã",slug:"æååéä¸å±é¨åéçåºå«ããâ­â­â­ã",normalizedTitle:"æååéä¸å±é¨åéçåºå«ããâ­â­â­ã",charIndex:5718},{level:3,title:"é¢åå¯¹è±¡ä¸å¤§ç¹æ§æ¯ä»ä¹ãå¹¶è§£éè¿ä¸å¤§ç¹æ§ããâ­â­â­â­ã",slug:"é¢åå¯¹è±¡ä¸å¤§ç¹æ§æ¯ä»ä¹ãå¹¶è§£éè¿ä¸å¤§ç¹æ§ããâ­â­â­â­ã",normalizedTitle:"é¢åå¯¹è±¡ä¸å¤§ç¹æ§æ¯ä»ä¹ãå¹¶è§£éè¿ä¸å¤§ç¹æ§ããâ­â­â­â­ã",charIndex:6189},{level:3,title:"`String`ã`StringBuffer` å `StringBuilder` çåºå«ã ãâ­â­â­â­ã",slug:"stringãstringbuffer-å-stringbuilder-çåºå«ã-ãâ­â­â­â­ã",normalizedTitle:"<code>string</code>ã<code>stringbuffer</code> å <code>stringbuilder</code> çåºå«ã ãâ­â­â­â­ã",charIndex:null},{level:3,title:"å­ç¬¦ä¸²å¸¸éæ± çä½ç¨äºè§£åï¼",slug:"å­ç¬¦ä¸²å¸¸éæ± çä½ç¨äºè§£å",normalizedTitle:"å­ç¬¦ä¸²å¸¸éæ± çä½ç¨äºè§£åï¼",charIndex:8197},{level:3,title:"Java å¼å¸¸ããâ­â­â­ãï¼ä¸ä¼é®çç¹å«ç»ãç»å¸¸çé®æ³æ¯å¼å¸¸å¯ä»¥åä¸ºåªå ç§ï¼ç¶åä½ ç­äºå¯æ£æ¥å¼å¸¸åä¸å¯æ£æ¥å¼å¸¸ä»¥åï¼ä¼è®©ä½ ä¸¾ä¾å¯æ£æ¥å¼å¸¸æåªäºï¼ä¸å¯æ£æ¥æåªäºãç¶åï¼å¼å¸¸çä»£ç è¦ä¼åï¼æä¸åºå­èçé¢è¯ï¼ç´æ¥è®©æåä¸ä¸ªæå¼å¸¸æè·äºç¶åæåºå»çä»£ç ã",slug:"java-å¼å¸¸ããâ­â­â­ã-ä¸ä¼é®çç¹å«ç»ãç»å¸¸çé®æ³æ¯å¼å¸¸å¯ä»¥åä¸ºåªå ç§-ç¶åä½ ç­äºå¯æ£æ¥å¼å¸¸åä¸å¯æ£æ¥å¼å¸¸ä»¥å-ä¼è®©ä½ ä¸¾ä¾å¯æ£æ¥å¼å¸¸æåªäº-ä¸å¯æ£æ¥æåªäºãç¶å-å¼å¸¸çä»£ç è¦ä¼å-æä¸åºå­èçé¢è¯-ç´æ¥è®©æåä¸ä¸ªæå¼å¸¸æè·äºç¶åæåºå»çä»£ç ã",normalizedTitle:"java å¼å¸¸ããâ­â­â­ãï¼ä¸ä¼é®çç¹å«ç»ãç»å¸¸çé®æ³æ¯å¼å¸¸å¯ä»¥åä¸ºåªå ç§ï¼ç¶åä½ ç­äºå¯æ£æ¥å¼å¸¸åä¸å¯æ£æ¥å¼å¸¸ä»¥åï¼ä¼è®©ä½ ä¸¾ä¾å¯æ£æ¥å¼å¸¸æåªäºï¼ä¸å¯æ£æ¥æåªäºãç¶åï¼å¼å¸¸çä»£ç è¦ä¼åï¼æä¸åºå­èçé¢è¯ï¼ç´æ¥è®©æåä¸ä¸ªæå¼å¸¸æè·äºç¶åæåºå»çä»£ç ã",charIndex:8301},{level:4,title:"Throwable ç±»å¸¸ç¨æ¹æ³æåªäºï¼",slug:"throwable-ç±»å¸¸ç¨æ¹æ³æåªäº",normalizedTitle:"throwable ç±»å¸¸ç¨æ¹æ³æåªäºï¼",charIndex:9692},{level:4,title:"try-catch-finally å¦ä½ä½¿ç¨ï¼",slug:"try-catch-finally-å¦ä½ä½¿ç¨",normalizedTitle:"try-catch-finally å¦ä½ä½¿ç¨ï¼",charIndex:9996},{level:4,title:"finally ä¸­çä»£ç ä¸å®ä¼æ§è¡åï¼",slug:"finally-ä¸­çä»£ç ä¸å®ä¼æ§è¡å",normalizedTitle:"finally ä¸­çä»£ç ä¸å®ä¼æ§è¡åï¼",charIndex:10454},{level:3,title:"åºåååååºååãâ­â­ã",slug:"åºåååååºååãâ­â­ã",normalizedTitle:"åºåååååºååãâ­â­ã",charIndex:10670},{level:4,title:"Java åºååä¸­å¦ææäºå­æ®µä¸æ³è¿è¡åºååï¼æä¹åï¼",slug:"java-åºååä¸­å¦ææäºå­æ®µä¸æ³è¿è¡åºåå-æä¹å",normalizedTitle:"java åºååä¸­å¦ææäºå­æ®µä¸æ³è¿è¡åºååï¼æä¹åï¼",charIndex:10999},{level:3,title:"åå°ãâ­â­ãé¢è¯å®å¯è½ä¼é®ä½ ä»ä¹æ¯åå°ï¼å®çä¼ç¼ºç¹æ¯ä»ä¹ï¼æåªäºåºç¨åºæ¯ã",slug:"åå°ãâ­â­ãé¢è¯å®å¯è½ä¼é®ä½ ä»ä¹æ¯åå°-å®çä¼ç¼ºç¹æ¯ä»ä¹-æåªäºåºç¨åºæ¯ã",normalizedTitle:"åå°ãâ­â­ãé¢è¯å®å¯è½ä¼é®ä½ ä»ä¹æ¯åå°ï¼å®çä¼ç¼ºç¹æ¯ä»ä¹ï¼æåªäºåºç¨åºæ¯ã",charIndex:11383},{level:3,title:"ListãSetã Map çåºå«ããâ­â­ã",slug:"listãsetã-map-çåºå«ããâ­â­ã",normalizedTitle:"listãsetã map çåºå«ããâ­â­ã",charIndex:11656},{level:3,title:"`ArrayList` å `LinkedList` çåºå«ããâ­â­â­â­ãï¼ç­æ¸æ¥æ¯ä¸ªåå«éç¨ä»ä¹æ°æ®ç»æï¼å¯¹æ¯ç¸åºçä¼ç¹åç¼ºç¹ã",slug:"arraylist-å-linkedlist-çåºå«ããâ­â­â­â­ã-ç­æ¸æ¥æ¯ä¸ªåå«éç¨ä»ä¹æ°æ®ç»æ-å¯¹æ¯ç¸åºçä¼ç¹åç¼ºç¹ã",normalizedTitle:"<code>arraylist</code> å <code>linkedlist</code> çåºå«ããâ­â­â­â­ãï¼ç­æ¸æ¥æ¯ä¸ªåå«éç¨ä»ä¹æ°æ®ç»æï¼å¯¹æ¯ç¸åºçä¼ç¹åç¼ºç¹ã",charIndex:null},{level:3,title:"æ¯è¾ HashSetãLinkedHashSet å TreeSet ä¸èçå¼åããâ­â­â­ã",slug:"æ¯è¾-hashsetãlinkedhashset-å-treeset-ä¸èçå¼åããâ­â­â­ã",normalizedTitle:"æ¯è¾ hashsetãlinkedhashset å treeset ä¸èçå¼åããâ­â­â­ã",charIndex:12288},{level:4,title:"TreeSet",slug:"treeset",normalizedTitle:"treeset",charIndex:11806},{level:3,title:"HashMap å¤çº¿ç¨æä½å¯¼è´æ­»å¾ªç¯é®é¢ããâ­â­â­ãjdk 1.8 åè§£å³äºè¿ä¸ªé®é¢ï¼ä½æ¯è¿æ¯ä¸å»ºè®®å¨å¤çº¿ç¨ä¸ä½¿ç¨ HashMap,å ä¸ºå¤çº¿ç¨ä¸ä½¿ç¨ HashMap è¿æ¯ä¼å­å¨å¶ä»é®é¢æ¯å¦æ°æ®ä¸¢å¤±ãå¹¶åç¯å¢ä¸æ¨èä½¿ç¨ ConcurrentHashMap ã",slug:"hashmap-å¤çº¿ç¨æä½å¯¼è´æ­»å¾ªç¯é®é¢ããâ­â­â­ãjdk-1-8-åè§£å³äºè¿ä¸ªé®é¢-ä½æ¯è¿æ¯ä¸å»ºè®®å¨å¤çº¿ç¨ä¸ä½¿ç¨-hashmap-å ä¸ºå¤çº¿ç¨ä¸ä½¿ç¨-hashmap-è¿æ¯ä¼å­å¨å¶ä»é®é¢æ¯å¦æ°æ®ä¸¢å¤±ãå¹¶åç¯å¢ä¸æ¨èä½¿ç¨-concurrenthashmap-ã",normalizedTitle:"hashmap å¤çº¿ç¨æä½å¯¼è´æ­»å¾ªç¯é®é¢ããâ­â­â­ãjdk 1.8 åè§£å³äºè¿ä¸ªé®é¢ï¼ä½æ¯è¿æ¯ä¸å»ºè®®å¨å¤çº¿ç¨ä¸ä½¿ç¨ hashmap,å ä¸ºå¤çº¿ç¨ä¸ä½¿ç¨ hashmap è¿æ¯ä¼å­å¨å¶ä»é®é¢æ¯å¦æ°æ®ä¸¢å¤±ãå¹¶åç¯å¢ä¸æ¨èä½¿ç¨ concurrenthashmap ã",charIndex:12593},{level:3,title:"HashMap çé¿åº¦ä¸ºä»ä¹æ¯ 2 çå¹æ¬¡æ¹ããâ­â­â­ãä¸»è¦æ¯èèå°äºå¯¹è¿ç®æççæåã",slug:"hashmap-çé¿åº¦ä¸ºä»ä¹æ¯-2-çå¹æ¬¡æ¹ããâ­â­â­ãä¸»è¦æ¯èèå°äºå¯¹è¿ç®æççæåã",normalizedTitle:"hashmap çé¿åº¦ä¸ºä»ä¹æ¯ 2 çå¹æ¬¡æ¹ããâ­â­â­ãä¸»è¦æ¯èèå°äºå¯¹è¿ç®æççæåã",charIndex:12731},{level:3,title:"`HashMap`ã`HashTable`ãä»¥å `ConcurrentHashMap` çåºå«ããâ­â­â­â­â­ã",slug:"hashmapãhashtableãä»¥å-concurrenthashmap-çåºå«ããâ­â­â­â­â­ã",normalizedTitle:"<code>hashmap</code>ã<code>hashtable</code>ãä»¥å <code>concurrenthashmap</code> çåºå«ããâ­â­â­â­â­ã",charIndex:null},{level:3,title:"Queue ä¸ Deque çåºå«",slug:"queue-ä¸-deque-çåºå«",normalizedTitle:"queue ä¸ deque çåºå«",charIndex:14403}],headersStr:"Java è¯­è¨çç¹ç¹ï¼å¦æä½ ç®åä¸ææå° C++ å¯è½è¿ä¼é®ä½  Java å C++ çåºå«ï¼ããâ­â­ã æ¯è¾ JVM å JDK ä»¥å JRE ããâ­â­â­ãéå¸¸éå¸¸åºç¡çä¸ä¸ªé®é¢ï¼å­¦äº Java ä¹åè¿ä¸ç¥è¿ä¸ªé®é¢å¦ä½åç­çå°ä¼ä¼´èªè§å»é¢å£å§ï¼ ä¸ºä»ä¹è¯´ Java è¯­è¨âè§£éä¸ç¼è¯å¹¶å­âããâ­â­ã Java åºæ¬ç±»åæåªå ç§ï¼åå å¤å°ä½ï¼ãâ­â­ã Java æ³åï¼ç±»åæ¦é¤ããâ­â­â­ã == å equals() çåºå«ããâ­â­â­ãï¼è¿ä¸ªé®é¢å¨ 2018 å¹´ä¹åå ä¹æ¯é¢è¯å¿é®çé®é¢ï¼ä½æ¯ç°å¨å¤§åä»¥åæ¯è¾å°é®äºï¼ç°å¨å°åä¸­åé®çå¤ã **hashCode() éè½½åéåçåºå«ã ãâ­â­â­â­ã æ·±æ·è´åæµæ·è´ããâ­ã é¢åå¯¹è±¡åé¢åè¿ç¨çåºå«ããâ­â­â­ã æååéä¸å±é¨åéçåºå«ããâ­â­â­ã é¢åå¯¹è±¡ä¸å¤§ç¹æ§æ¯ä»ä¹ãå¹¶è§£éè¿ä¸å¤§ç¹æ§ããâ­â­â­â­ã `String`ã`StringBuffer` å `StringBuilder` çåºå«ã ãâ­â­â­â­ã å­ç¬¦ä¸²å¸¸éæ± çä½ç¨äºè§£åï¼ Java å¼å¸¸ããâ­â­â­ãï¼ä¸ä¼é®çç¹å«ç»ãç»å¸¸çé®æ³æ¯å¼å¸¸å¯ä»¥åä¸ºåªå ç§ï¼ç¶åä½ ç­äºå¯æ£æ¥å¼å¸¸åä¸å¯æ£æ¥å¼å¸¸ä»¥åï¼ä¼è®©ä½ ä¸¾ä¾å¯æ£æ¥å¼å¸¸æåªäºï¼ä¸å¯æ£æ¥æåªäºãç¶åï¼å¼å¸¸çä»£ç è¦ä¼åï¼æä¸åºå­èçé¢è¯ï¼ç´æ¥è®©æåä¸ä¸ªæå¼å¸¸æè·äºç¶åæåºå»çä»£ç ã Throwable ç±»å¸¸ç¨æ¹æ³æåªäºï¼ try-catch-finally å¦ä½ä½¿ç¨ï¼ finally ä¸­çä»£ç ä¸å®ä¼æ§è¡åï¼ åºåååååºååãâ­â­ã Java åºååä¸­å¦ææäºå­æ®µä¸æ³è¿è¡åºååï¼æä¹åï¼ åå°ãâ­â­ãé¢è¯å®å¯è½ä¼é®ä½ ä»ä¹æ¯åå°ï¼å®çä¼ç¼ºç¹æ¯ä»ä¹ï¼æåªäºåºç¨åºæ¯ã ListãSetã Map çåºå«ããâ­â­ã `ArrayList` å `LinkedList` çåºå«ããâ­â­â­â­ãï¼ç­æ¸æ¥æ¯ä¸ªåå«éç¨ä»ä¹æ°æ®ç»æï¼å¯¹æ¯ç¸åºçä¼ç¹åç¼ºç¹ã æ¯è¾ HashSetãLinkedHashSet å TreeSet ä¸èçå¼åããâ­â­â­ã TreeSet HashMap å¤çº¿ç¨æä½å¯¼è´æ­»å¾ªç¯é®é¢ããâ­â­â­ãjdk 1.8 åè§£å³äºè¿ä¸ªé®é¢ï¼ä½æ¯è¿æ¯ä¸å»ºè®®å¨å¤çº¿ç¨ä¸ä½¿ç¨ HashMap,å ä¸ºå¤çº¿ç¨ä¸ä½¿ç¨ HashMap è¿æ¯ä¼å­å¨å¶ä»é®é¢æ¯å¦æ°æ®ä¸¢å¤±ãå¹¶åç¯å¢ä¸æ¨èä½¿ç¨ ConcurrentHashMap ã HashMap çé¿åº¦ä¸ºä»ä¹æ¯ 2 çå¹æ¬¡æ¹ããâ­â­â­ãä¸»è¦æ¯èèå°äºå¯¹è¿ç®æççæåã `HashMap`ã`HashTable`ãä»¥å `ConcurrentHashMap` çåºå«ããâ­â­â­â­â­ã Queue ä¸ Deque çåºå«",content:" 1.  # Java è¯­è¨çç¹ç¹ï¼å¦æä½ ç®åä¸ææå° C++ å¯è½è¿ä¼é®ä½  Java å C++ çåºå«ï¼ããâ­â­ã\n     \n     * é¢åå¯¹è±¡ï¼å°è£ï¼ç»§æ¿ï¼å¤æï¼ï¼\n     * å¹³å°æ å³æ§ï¼ Java èææºå®ç°å¹³å°æ å³æ§ï¼ï¼\n     * æ¯æå¤çº¿ç¨ï¼ C++ è¯­è¨æ²¡æåç½®çå¤çº¿ç¨æºå¶ï¼å æ­¤å¿é¡»è°ç¨æä½ç³»ç»çå¤çº¿ç¨åè½æ¥è¿è¡å¤çº¿ç¨ç¨åºè®¾è®¡ï¼è Java è¯­è¨å´æä¾äºå¤çº¿ç¨æ¯æï¼ï¼\n     * å¯é æ§ï¼\n     * å®å¨æ§ï¼\n     * æ¯æç½ç»ç¼ç¨å¹¶ä¸å¾æ¹ä¾¿ï¼ Java è¯­è¨è¯çæ¬èº«å°±æ¯ä¸ºç®åç½ç»ç¼ç¨è®¾è®¡çï¼å æ­¤ Java è¯­è¨ä¸ä»æ¯æç½ç»ç¼ç¨èä¸å¾æ¹ä¾¿ï¼ï¼\n     * ç¼è¯ä¸è§£éå¹¶å­ï¼\n\n\n 2.  # æ¯è¾ JVM å JDK ä»¥å JRE ããâ­â­â­ãéå¸¸éå¸¸åºç¡çä¸ä¸ªé®é¢ï¼å­¦äº Java ä¹åè¿ä¸ç¥è¿ä¸ªé®é¢å¦ä½åç­çå°ä¼ä¼´èªè§å»é¢å£å§ï¼\n     \n     * JVMï¼æ¯è¿è¡ Java å­èç çèææºãJVM æéå¯¹ä¸åç³»ç»çç¹å®å®ç°ï¼Windowsï¼Linuxï¼macOSï¼ï¼ç®çæ¯ä½¿ç¨ç¸åçå­èç ï¼å®ä»¬é½ä¼ç»åºç¸åçç»æãå­èç åä¸åç³»ç»ç JVM å®ç°æ¯ Java è¯­è¨âä¸æ¬¡ç¼è¯ï¼éå¤å¯ä»¥è¿è¡âçå³é®æå¨ã\n     * JDKï¼å®æ¯åè½é½å¨ç Java SDKãå®æ¥æ JRE ææ¥æçä¸åï¼è¿æç¼è¯å¨ï¼javacï¼åå·¥å·ï¼å¦ javadoc å jdbï¼ãå®è½å¤åå»ºåç¼è¯ç¨åºã\n     * JREï¼Javaçè¿è¡æ¶ç¯å¢ï¼å®æ¯è¿è¡å·²ç¼è¯ Java ç¨åºæéçææåå®¹çéåï¼åæ¬ Java èææºï¼JVMï¼ï¼Java ç±»åºï¼java å½ä»¤åå¶ä»çä¸äºåºç¡æä»¶ãä½æ¯ï¼å®ä¸è½ç¨äºåå»ºæ°ç¨åºã\n\n\n 3.  # ä¸ºä»ä¹è¯´ Java è¯­è¨âè§£éä¸ç¼è¯å¹¶å­âããâ­â­ã\n     \n     æä»¬å¯ä»¥å°é«çº§ç¼ç¨è¯­è¨æç§ç¨åºçæ§è¡æ¹å¼åä¸ºä¸¤ç§ï¼\n     \n     * ç¼è¯å ï¼ç¼è¯åè¯­è¨ ä¼éè¿ç¼è¯å¨å°æºä»£ç ä¸æ¬¡æ§ç¿»è¯æå¯è¢«è¯¥å¹³å°æ§è¡çæºå¨ç ãä¸è¬æåµä¸ï¼ç¼è¯è¯­è¨çæ§è¡éåº¦æ¯è¾å¿«ï¼å¼åæçæ¯è¾ä½ãå¸¸è§çç¼è¯æ§è¯­è¨æ CãC++ãGoãRust ç­ç­ã\n     * è§£éå ï¼è§£éåè¯­è¨ä¼éè¿è§£éå¨ä¸å¥ä¸å¥çå°ä»£ç è§£éï¼interpretï¼ä¸ºæºå¨ä»£ç ååæ§è¡ãè§£éåè¯­è¨å¼åæçæ¯è¾å¿«ï¼æ§è¡éåº¦æ¯è¾æ¢ãå¸¸è§çè§£éæ§è¯­è¨æ PythonãJavaScriptãPHP ç­ç­ã\n     \n     è¿æ¯å ä¸º Java è¯­è¨æ¢å·æç¼è¯åè¯­è¨çç¹å¾ï¼ä¹å·æè§£éåè¯­è¨çç¹å¾ãå ä¸º Java ç¨åºè¦ç»è¿åç¼è¯ï¼åè§£éä¸¤ä¸ªæ­¥éª¤ï¼ç± Java ç¼åçç¨åºéè¦åç»è¿ç¼è¯æ­¥éª¤ï¼çæå­èç ï¼.class æä»¶ï¼ï¼è¿ç§å­èç å¿é¡»ç± Java è§£éå¨æ¥è§£éæ§è¡ã\n\n\n 4.  # Java åºæ¬ç±»åæåªå ç§ï¼åå å¤å°ä½ï¼ãâ­â­ã\n     \n     | åºæ¬æ°æ®ç±»å | å ç¨å­è | é»è®¤å¼ | èå´ | åè£ç±» | | -------------------- | -------- | ------- | --------------- | --------- | | byte(å­èå) | 1 | 0 | -2^7 ~ 2^7-1 | Byte | | short(ç­æ´å) | 2 | 0 | -2^15 ~ 2^15-1 | Short | | int(æ´å) | 4 | 0 | -2^31 ~ 2^31-1 | Integer | | long(é¿æ´å) | 8 | 0L | -2^63 ~ 2^63-1 | Long | | float(æµ®ç¹å) | 4 | 0.0f | | Float | | double(åç²¾åº¦æµ®ç¹å) | 8 | 0.0d | | Double | | char(å­ç¬¦ç±»å) | 2 | 'u0000' | \\u0000 ~ \\uffff | Character | | boolean(å¸å°ç±»å) | 1 | false | true/false | |\n\n\n 5.  # Java æ³åï¼ç±»åæ¦é¤ããâ­â­â­ã\n     \n     æ³åï¼æ³ååè®¸ç¨åºåå¨å¼ºç±»åç¨åºè®¾è®¡è¯­è¨ä¸­ç¼åä»£ç æ¶ä½¿ç¨ä¸äºä»¥åææå®çç±»åï¼å¨å®ä¾åæ¶ä½ä¸ºåæ°ææè¿äºç±»åã\n     \n     Java çæ³åæ¯ä¼ªæ³åï¼è¿æ¯å ä¸º Java å¨è¿è¡æé´ï¼ææçæ³åä¿¡æ¯é½ä¼è¢«æ¦æï¼è¿ä¹å°±æ¯éå¸¸æè¯´ç±»åæ¦é¤ ã\n     \n     æ³åçä¼ç¹ï¼\n     \n     * ç¼è¯æ¶çå¼ºç±»åæ£æ¥\n       \n       æ³åè¦æ±å¨å£°ææ¶æå®å®éæ°æ®ç±»åï¼Java ç¼è¯å¨å¨ç¼è¯æ¶ä¼å¯¹æ³åä»£ç åå¼ºç±»åæ£æ¥ï¼å¹¶å¨ä»£ç è¿åç±»åå®å¨æ¶ååºåè­¦ãæ©åç°ï¼æ©æ²»çï¼æéæ£æ¼æäºæç¯®ï¼å¨ç¼è¯æ¶åç°å¹¶ä¿®å¤éè¯¯æä»åºçä»£ä»·è¿æ¯å¨è¿è¡æ¶å°ã\n     \n     * é¿åäºç±»åè½¬æ¢\n     \n     * æ³åç¼ç¨å¯ä»¥å®ç°éç¨ç®æ³\n     \n     ç±»åæ¦é¤ï¼Java è¯­è¨å¼å¥æ³åæ¯ä¸ºäºå¨ç¼è¯æ¶æä¾æ´ä¸¥æ ¼çç±»åæ£æ¥ï¼å¹¶æ¯ææ³åç¼ç¨ãä¸åäº C++ çæ¨¡æ¿æºå¶ï¼Java æ³åæ¯ä½¿ç¨ç±»åæ¦é¤æ¥å®ç°çï¼ä½¿ç¨æ³åæ¶ï¼ä»»ä½å·ä½çç±»åä¿¡æ¯é½è¢«æ¦é¤äºã\n     \n     é£ä¹ï¼ç±»åæ¦é¤åäºä»ä¹å¢ï¼å®åäºä»¥ä¸å·¥ä½ï¼\n     \n     * ææ³åä¸­çææç±»ååæ°æ¿æ¢ä¸º Objectï¼å¦ææå®ç±»åè¾¹çï¼åä½¿ç¨ç±»åè¾¹çæ¥æ¿æ¢ãå æ­¤ï¼çæçå­èç ä»åå«æ®éçç±»ï¼æ¥å£åæ¹æ³ã\n     * æ¦é¤åºç°çç±»åå£°æï¼å³å»æ <> çåå®¹ãæ¯å¦ T get() æ¹æ³å£°æå°±åæäº Object get() ï¼List<String> å°±åæäº Listãå¦æå¿è¦ï¼æå¥ç±»åè½¬æ¢ä»¥ä¿æç±»åå®å¨ã\n     * çææ¡¥æ¥æ¹æ³ä»¥ä¿çæ©å±æ³åç±»åä¸­çå¤ææ§ãç±»åæ¦é¤ç¡®ä¿ä¸ä¸ºåæ°åç±»ååå»ºæ°ç±»ï¼å æ­¤ï¼æ³åä¸ä¼äº§çè¿è¡æ¶å¼é\n     \n     ç±»åééç¬¦ï¼\n     \n     * extend ä¸çééç¬¦ï¼å°æªç¥ç±»åéå¶ä¸ºè¯¥ç±»åçç¹å®ç±»åæå¶å­ç±»ã\n     * super ä¸çééç¬¦ï¼å°æªç¥ç±»åéå¶ä¸ºè¯¥ç±»åçç¹å®ç±»åæè¶ç±»ç±»åã\n     \n     å¸¸ç¨çééç¬¦ä¸ºï¼ Tï¼Eï¼Kï¼Vï¼ï¼\n     \n     * ï¼ è¡¨ç¤ºä¸ç¡®å®ç Java ç±»å\n     * T (type) è¡¨ç¤ºå·ä½çä¸ä¸ª Java ç±»å\n     * K V (key value) åå«ä»£è¡¨ Java é®å¼ä¸­ç Key Value\n     * E (element) ä»£è¡¨ Element\n\n\n 6.  # == å equals() çåºå«ããâ­â­â­ãï¼è¿ä¸ªé®é¢å¨ 2018 å¹´ä¹åå ä¹æ¯é¢è¯å¿é®çé®é¢ï¼ä½æ¯ç°å¨å¤§åä»¥åæ¯è¾å°é®äºï¼ç°å¨å°åä¸­åé®çå¤ã\n     \n     == å¯¹äºåºæ¬ç±»ååå¼ç¨ç±»åçä½ç¨æææ¯ä¸åçï¼\n     \n     * å¯¹äºåºæ¬æ°æ®ç±»åæ¥è¯´ï¼== æ¯è¾çæ¯å¼ã\n     * å¯¹äºå¼ç¨æ°æ®ç±»åæ¥è¯´ï¼== æ¯è¾çæ¯å¯¹è±¡çåå­å°åã\n     \n     > å ä¸º Java åªæå¼ä¼ éï¼æä»¥ï¼å¯¹äº == æ¥è¯´ï¼ä¸ç®¡æ¯æ¯è¾åºæ¬æ°æ®ç±»åï¼è¿æ¯å¼ç¨æ°æ®ç±»åçåéï¼å¶æ¬è´¨æ¯è¾çé½æ¯å¼ï¼åªæ¯å¼ç¨ç±»ååéå­çå¼æ¯å¯¹è±¡çå°åã\n     \n     equals() ä¸è½ç¨äºå¤æ­åºæ¬æ°æ®ç±»åçåéï¼åªè½ç¨æ¥å¤æ­ä¸¤ä¸ªå¯¹è±¡æ¯å¦ç¸ç­ãequals()æ¹æ³å­å¨äºObjectç±»ä¸­ï¼èObjectç±»æ¯ææç±»çç´æ¥æé´æ¥ç¶ç±»ï¼å æ­¤ææçç±»é½æequals()æ¹æ³ã\n     \n     equals() æ¹æ³å­å¨ä¸¤ç§ä½¿ç¨æåµï¼\n     \n     * ç±»æ²¡æéå equals()æ¹æ³ ï¼éè¿equals()æ¯è¾è¯¥ç±»çä¸¤ä¸ªå¯¹è±¡æ¶ï¼ç­ä»·äºéè¿â==âæ¯è¾è¿ä¸¤ä¸ªå¯¹è±¡ï¼ä½¿ç¨çé»è®¤æ¯ Objectç±»equals()æ¹æ³ã\n     * ç±»éåäº equals()æ¹æ³ ï¼ä¸è¬æä»¬é½éå equals()æ¹æ³æ¥æ¯è¾ä¸¤ä¸ªå¯¹è±¡ä¸­çå±æ§æ¯å¦ç¸ç­ï¼è¥å®ä»¬çå±æ§ç¸ç­ï¼åè¿å true(å³ï¼è®¤ä¸ºè¿ä¸¤ä¸ªå¯¹è±¡ç¸ç­)ã\n\n\n 7.  # **hashCode()\n     \n     å equals()** ãâ­â­â­â­ãï¼è¿ä¸ªé®é¢ç»å¸¸é®ï¼é¢è¯å®ç»å¸¸é®ä¸ºä»ä¹éå equals() æ¶è¦éå hashCode() æ¹æ³ï¼å¦å¤ï¼è¿ä¸ªé®é¢ç»å¸¸ç»åç HashSet é®ã\n     \n     hashCode() çä½ç¨æ¯è·ååå¸ç ï¼int æ´æ°ï¼ï¼ä¹ç§°ä¸ºæ£åç ãè¿ä¸ªåå¸ç çä½ç¨æ¯ç¡®å®è¯¥å¯¹è±¡å¨åå¸è¡¨ä¸­çç´¢å¼ä½ç½®ã\n     \n     hashCode()å®ä¹å¨ JDK ç Object ç±»ä¸­ï¼è¿å°±æå³ç Java ä¸­çä»»ä½ç±»é½åå«æ hashCode() å½æ°ãå¦å¤éè¦æ³¨æçæ¯ï¼ Object ç hashCode() æ¹æ³æ¯æ¬å°æ¹æ³ï¼ä¹å°±æ¯ç¨ C è¯­è¨æ C++ å®ç°çï¼è¯¥æ¹æ³éå¸¸ç¨æ¥å°å¯¹è±¡çåå­å°åè½¬æ¢ä¸ºæ´æ°ä¹åè¿åã\n     \n     å¶å®ï¼ hashCode() å equals()é½æ¯ç¨äºæ¯è¾ä¸¤ä¸ªå¯¹è±¡æ¯å¦ç¸ç­ã\n     \n     é£ä¸ºä»ä¹ JDK è¿è¦åæ¶æä¾è¿ä¸¤ä¸ªæ¹æ³å¢ï¼\n     \n     è¿æ¯å ä¸ºå¨ä¸äºå®¹å¨ï¼æ¯å¦ HashMapãHashSetï¼ä¸­ï¼æäº hashCode() ä¹åï¼å¤æ­åç´ æ¯å¦å¨å¯¹åºå®¹å¨ä¸­çæçä¼æ´é«ï¼åèæ·»å åç´ è¿HastSetçè¿ç¨ï¼ï¼\n     \n     æä»¬å¨åé¢ä¹æå°äºæ·»å åç´ è¿HastSetçè¿ç¨ï¼å¦æ HashSet å¨å¯¹æ¯çæ¶åï¼åæ ·ç hashCode æå¤ä¸ªå¯¹è±¡ï¼å®ä¼ç»§ç»­ä½¿ç¨ equals() æ¥å¤æ­æ¯å¦ççç¸åãä¹å°±æ¯è¯´ hashCode å¸®å©æä»¬å¤§å¤§ç¼©å°äºæ¥æ¾ææ¬ã\n     \n     é£ä¸ºä»ä¹ä¸åªæä¾ hashCode() æ¹æ³å¢ï¼\n     \n     è¿æ¯å ä¸ºä¸¤ä¸ªå¯¹è±¡çhashCode å¼ç¸ç­å¹¶ä¸ä»£è¡¨ä¸¤ä¸ªå¯¹è±¡å°±ç¸ç­ã\n     \n     é£ä¸ºä»ä¹ä¸¤ä¸ªå¯¹è±¡æç¸åç hashCode å¼ï¼å®ä»¬ä¹ä¸ä¸å®æ¯ç¸ç­çï¼\n     \n     å ä¸º hashCode() æä½¿ç¨çåå¸ç®æ³ä¹è®¸åå¥½ä¼è®©å¤ä¸ªå¯¹è±¡ä¼ åç¸åçåå¸å¼ãè¶ç³ç³çåå¸ç®æ³è¶å®¹æç¢°æï¼ä½è¿ä¹ä¸æ°æ®å¼ååå¸çç¹æ§æå³ï¼æè°åå¸ç¢°æä¹å°±æ¯æçæ¯ä¸åçå¯¹è±¡å¾å°ç¸åç hashCode )ã\n     \n     æ»ç»ä¸æ¥å°±æ¯ ï¼\n     \n     * å¦æä¸¤ä¸ªå¯¹è±¡çhashCode å¼ç¸ç­ï¼é£è¿ä¸¤ä¸ªå¯¹è±¡ä¸ä¸å®ç¸ç­ï¼åå¸ç¢°æï¼ã\n     * å¦æä¸¤ä¸ªå¯¹è±¡çhashCode å¼ç¸ç­å¹¶ä¸equals()æ¹æ³ä¹è¿å trueï¼æä»¬æè®¤ä¸ºè¿ä¸¤ä¸ªå¯¹è±¡ç¸ç­ã\n     * å¦æä¸¤ä¸ªå¯¹è±¡çhashCode å¼ä¸ç¸ç­ï¼æä»¬å°±å¯ä»¥ç´æ¥è®¤ä¸ºè¿ä¸¤ä¸ªå¯¹è±¡ä¸ç¸ç­ã\n\n\n 8.  # éè½½åéåçåºå«ã ãâ­â­â­â­ã\n     \n     éè½½å°±æ¯åæ ·çä¸ä¸ªæ¹æ³è½å¤æ ¹æ®è¾å¥æ°æ®çä¸åï¼ååºä¸åçå¤ç\n     \n     éåå°±æ¯å½å­ç±»ç»§æ¿èªç¶ç±»çç¸åæ¹æ³ï¼è¾å¥æ°æ®ä¸æ ·ï¼ä½è¦ååºæå«äºç¶ç±»çååºæ¶ï¼ä½ å°±è¦è¦çç¶ç±»æ¹æ³\n     \n     éè½½ï¼éè½½å°±æ¯åä¸ä¸ªç±»ä¸­å¤ä¸ªååæ¹æ³æ ¹æ®ä¸åçä¼ åæ¥æ§è¡ä¸åçé»è¾å¤çã\n     \n     éåï¼éååçå¨è¿è¡æï¼æ¯å­ç±»å¯¹ç¶ç±»çåè®¸è®¿é®çæ¹æ³çå®ç°è¿ç¨è¿è¡éæ°ç¼åãéåå°±æ¯å­ç±»å¯¹ç¶ç±»æ¹æ³çéæ°æ¹é ï¼å¤é¨æ ·å­ä¸è½æ¹åï¼åé¨é»è¾å¯ä»¥æ¹åã\n     \n     | åºå«ç¹ | éè½½æ¹æ³ | éåæ¹æ³ | | ---------- | -------- | ------------------------------------------------------------ | | åçèå´ | åä¸ä¸ªç±» | å­ç±» | | åæ°åè¡¨ | å¿é¡»ä¿®æ¹ | ä¸å®ä¸è½ä¿®æ¹ | | è¿åç±»å | å¯ä¿®æ¹ | å­ç±»æ¹æ³è¿åå¼ç±»ååºæ¯ç¶ç±»æ¹æ³è¿åå¼ç±»åæ´å°æç¸ç­ | | å¼å¸¸ | å¯ä¿®æ¹ | å­ç±»æ¹æ³å£°ææåºçå¼å¸¸ç±»åºæ¯ç¶ç±»æ¹æ³å£°ææåºçå¼å¸¸ç±»æ´å°æç¸ç­ï¼ | | è®¿é®ä¿®é¥°ç¬¦ | å¯ä¿®æ¹ | ä¸å®ä¸è½åæ´ä¸¥æ ¼çéå¶ï¼å¯ä»¥éä½éå¶ï¼ | | åçé¶æ®µ | ç¼è¯æ | è¿è¡æ |\n     \n     â­ï¸ å³äº éåçè¿åå¼ç±»å è¿ééè¦é¢å¤å¤è¯´æä¸ä¸ï¼ä¸é¢çè¡¨è¿°ä¸å¤ªæ¸æ°åç¡®ï¼å¦ææ¹æ³çè¿åç±»åæ¯ void ååºæ¬æ°æ®ç±»åï¼åè¿åå¼éåæ¶ä¸å¯ä¿®æ¹ãä½æ¯å¦ææ¹æ³çè¿åå¼æ¯å¼ç¨ç±»åï¼éåæ¶æ¯å¯ä»¥è¿åè¯¥å¼ç¨ç±»åçå­ç±»çã\n\n\n 9.  # [æ·±æ·è´åæµæ·è´](https://developer.aliyun.com/article/617684#:~:text=å³äºJavaçæ·±æ·è´åæµæ·è´ï¼ç®åæ¥è¯´å°±æ¯åå»ºä¸ä¸ªåå·²ç¥å¯¹è±¡ä¸æ¨¡ä¸æ ·çå¯¹è±¡ã,å¯è½æ¥å¸¸ç¼ç è¿ç¨ä¸­ç¨çä¸å¤ï¼ä½æ¯è¿æ¯ä¸ä¸ªé¢è¯ç»å¸¸ä¼é®çé®é¢ï¼èä¸äºè§£æ·±æ·è´åæµæ·è´çåçï¼å¯¹äºJavaä¸­çæè°å¼ä¼ éæèå¼ç¨ä¼ éå°ä¼ææ´æ·±ççè§£ã 1ãåå»ºå¯¹è±¡ç5ç§æ¹å¼)ããâ­ã\n     \n     æµæ·è´ï¼åå»ºä¸ä¸ªæ°å¯¹è±¡ï¼ç¶åå°å½åå¯¹è±¡çééæå­æ®µå¤å¶å°è¯¥æ°å¯¹è±¡ï¼å¦æå­æ®µæ¯å¼ç±»åçï¼é£ä¹å¯¹è¯¥å­æ®µæ§è¡å¤å¶ï¼å¦æè¯¥å­æ®µæ¯å¼ç¨ç±»åçè¯ï¼åå¤å¶å¼ç¨ä½ä¸å¤å¶å¼ç¨çå¯¹è±¡ãå æ­¤ï¼åå§å¯¹è±¡åå¶å¯æ¬å¼ç¨åä¸ä¸ªå¯¹è±¡ã\n     \n     æ·±æ·è´ï¼åå»ºä¸ä¸ªæ°å¯¹è±¡ï¼ç¶åå°å½åå¯¹è±¡çééæå­æ®µå¤å¶å°è¯¥æ°å¯¹è±¡ï¼æ è®ºè¯¥å­æ®µæ¯å¼ç±»åçè¿æ¯å¼ç¨ç±»åï¼é½å¤å¶ç¬ç«çä¸ä»½ãå½ä½ ä¿®æ¹å¶ä¸­ä¸ä¸ªå¯¹è±¡çä»»ä½åå®¹æ¶ï¼é½ä¸ä¼å½±åå¦ä¸ä¸ªå¯¹è±¡çåå®¹ã\n\n\n 10. # é¢åå¯¹è±¡åé¢åè¿ç¨çåºå«ããâ­â­â­ã\n     \n     ä¸¤èçä¸»è¦åºå«å¨äºè§£å³é®é¢çæ¹å¼ä¸åï¼\n     \n     * é¢åè¿ç¨æè§£å³é®é¢çè¿ç¨ææä¸ä¸ªä¸ªæ¹æ³ï¼éè¿ä¸ä¸ªä¸ªæ¹æ³çæ§è¡è§£å³é®é¢ã\n     * é¢åå¯¹è±¡ä¼åæ½è±¡åºå¯¹è±¡ï¼ç¶åç¨å¯¹è±¡æ§è¡æ¹æ³çæ¹å¼è§£å³é®é¢ã\n     \n     å¦å¤ï¼é¢åå¯¹è±¡å¼åçç¨åºä¸è¬æ´æç»´æ¤ãæå¤ç¨ãææ©å±ã\n\n\n 11. # æååéä¸å±é¨åéçåºå«ããâ­â­â­ã\n     \n     * è¯­æ³å½¢å¼ ï¼ä»è¯­æ³å½¢å¼ä¸çï¼æååéæ¯å±äºç±»çï¼èå±é¨åéæ¯å¨ä»£ç åææ¹æ³ä¸­å®ä¹çåéææ¯æ¹æ³çåæ°ï¼æååéå¯ä»¥è¢« public,private,static ç­ä¿®é¥°ç¬¦æä¿®é¥°ï¼èå±é¨åéä¸è½è¢«è®¿é®æ§å¶ä¿®é¥°ç¬¦å static æä¿®é¥°ï¼ä½æ¯ï¼æååéåå±é¨åéé½è½è¢« final æä¿®é¥°ã\n     * å­å¨æ¹å¼ ï¼ä»åéå¨åå­ä¸­çå­å¨æ¹å¼æ¥ç,å¦ææååéæ¯ä½¿ç¨ static ä¿®é¥°çï¼é£ä¹è¿ä¸ªæååéæ¯å±äºç±»çï¼å¦ææ²¡æä½¿ç¨ static ä¿®é¥°ï¼è¿ä¸ªæååéæ¯å±äºå®ä¾çãèå¯¹è±¡å­å¨äºå åå­ï¼å±é¨åéåå­å¨äºæ åå­ã\n     * çå­æ¶é´ ï¼ä»åéå¨åå­ä¸­ççå­æ¶é´ä¸çï¼æååéæ¯å¯¹è±¡çä¸é¨åï¼å®éçå¯¹è±¡çåå»ºèå­å¨ï¼èå±é¨åééçæ¹æ³çè°ç¨èèªå¨æ¶å¤±ã\n     * é»è®¤å¼ ï¼ä»åéæ¯å¦æé»è®¤å¼æ¥çï¼æååéå¦ææ²¡æè¢«èµåå§å¼ï¼åä¼èªå¨ä»¥ç±»åçé»è®¤å¼èèµå¼ï¼ä¸ç§æåµä¾å¤:è¢« final ä¿®é¥°çæååéä¹å¿é¡»æ¾å¼å°èµå¼ï¼ï¼èå±é¨åéåä¸ä¼èªå¨èµå¼ã\n\n\n 12. # é¢åå¯¹è±¡ä¸å¤§ç¹æ§æ¯ä»ä¹ãå¹¶è§£éè¿ä¸å¤§ç¹æ§ããâ­â­â­â­ã\n     \n     * å°è£ï¼å°è£æ¯ææä¸ä¸ªå¯¹è±¡çç¶æä¿¡æ¯ï¼ä¹å°±æ¯å±æ§ï¼éèå¨å¯¹è±¡åé¨ï¼ä¸åè®¸å¤é¨å¯¹è±¡ç´æ¥è®¿é®å¯¹è±¡çåé¨ä¿¡æ¯ãä½æ¯å¯ä»¥æä¾ä¸äºå¯ä»¥è¢«å¤çè®¿é®çæ¹æ³æ¥æä½å±æ§ã\n     \n     * ç»§æ¿\n       \n       ç»§æ¿æ¯ä½¿ç¨å·²å­å¨çç±»çå®ä¹ä½ä¸ºåºç¡å»ºç«æ°ç±»çææ¯ï¼æ°ç±»çå®ä¹å¯ä»¥å¢å æ°çæ°æ®ææ°çåè½ï¼ä¹å¯ä»¥ç¨ç¶ç±»çåè½ï¼ä½ä¸è½éæ©æ§å°ç»§æ¿ç¶ç±»ã\n       \n       éè¿ä½¿ç¨ç»§æ¿ï¼å¯ä»¥å¿«éå°åå»ºæ°çç±»ï¼å¯ä»¥æé«ä»£ç çéç¨ï¼ç¨åºçå¯ç»´æ¤æ§ï¼èçå¤§éåå»ºæ°ç±»çæ¶é´ ï¼æé«æä»¬çå¼åæçã\n       \n       å³äºç»§æ¿å¦ä¸ 3 ç¹è¯·è®°ä½ï¼\n       \n       1. å­ç±»æ¥æç¶ç±»å¯¹è±¡ææçå±æ§åæ¹æ³ï¼åæ¬ç§æå±æ§åç§ææ¹æ³ï¼ï¼ä½æ¯ç¶ç±»ä¸­çç§æå±æ§åæ¹æ³å­ç±»æ¯æ æ³è®¿é®ï¼åªæ¯æ¥æã\n       2. å­ç±»å¯ä»¥æ¥æèªå·±å±æ§åæ¹æ³ï¼å³å­ç±»å¯ä»¥å¯¹ç¶ç±»è¿è¡æ©å±ã\n       3. å­ç±»å¯ä»¥ç¨èªå·±çæ¹å¼å®ç°ç¶ç±»çæ¹æ³ãï¼ä»¥åä»ç»ï¼ã\n     \n     * å¤æ\n       \n       å¤æï¼é¡¾åæä¹ï¼è¡¨ç¤ºä¸ä¸ªå¯¹è±¡å·æå¤ç§çç¶æï¼å·ä½è¡¨ç°ä¸ºç¶ç±»çå¼ç¨æåå­ç±»çå®ä¾ã\n       \n       å¤æçç¹ç¹:\n       \n       * å¯¹è±¡ç±»ååå¼ç¨ç±»åä¹é´å·æç»§æ¿ï¼ç±»ï¼/å®ç°ï¼æ¥å£ï¼çå³ç³»ï¼\n       * å¼ç¨ç±»ååéååºçæ¹æ³è°ç¨çå°åºæ¯åªä¸ªç±»ä¸­çæ¹æ³ï¼å¿é¡»å¨ç¨åºè¿è¡æé´æè½ç¡®å®ï¼\n       * å¤æä¸è½è°ç¨âåªå¨å­ç±»å­å¨ä½å¨ç¶ç±»ä¸å­å¨âçæ¹æ³ï¼\n       * å¦æå­ç±»éåäºç¶ç±»çæ¹æ³ï¼çæ­£æ§è¡çæ¯å­ç±»è¦ççæ¹æ³ï¼å¦æå­ç±»æ²¡æè¦çç¶ç±»çæ¹æ³ï¼æ§è¡çæ¯ç¶ç±»çæ¹æ³ã\n\n\n 13. # StringãStringBuffer å StringBuilder çåºå«ã ãâ­â­â­â­ã\n     \n     å¯åæ§\n     \n     å¨ Java 9 ä¹åï¼String ãStringBuilder ä¸ StringBuffer çå®ç°æ¹ç¨ byte æ°ç»å­å¨å­ç¬¦ä¸²ãä¹åç¨å­ç¬¦æ°ç»æ¥å­å¨å­ç¬¦ä¸²\n     \n     String çæ­£ä¸å¯åæä¸é¢å ç¹åå ï¼\n     \n     1. ä¿å­å­ç¬¦ä¸²çæ°ç»è¢« final ä¿®é¥°ä¸ä¸ºç§æçï¼å¹¶ä¸String ç±»æ²¡ææä¾/æ´é²ä¿®æ¹è¿ä¸ªå­ç¬¦ä¸²çæ¹æ³ã\n     2. String ç±»è¢« final ä¿®é¥°å¯¼è´å¶ä¸è½è¢«ç»§æ¿ï¼è¿èé¿åäºå­ç±»ç ´å String ä¸å¯åã\n     \n     StringBuilder ä¸ StringBuffer é½ç»§æ¿èª AbstractStringBuilder ç±»ï¼å¨ AbstractStringBuilder ä¸­ä¹æ¯ä½¿ç¨å­ç¬¦æ°ç»ä¿å­å­ç¬¦ä¸²ï¼ä¸è¿æ²¡æä½¿ç¨ final å private å³é®å­ä¿®é¥°ï¼æå³é®çæ¯è¿ä¸ª AbstractStringBuilder ç±»è¿æä¾äºå¾å¤ä¿®æ¹å­ç¬¦ä¸²çæ¹æ³æ¯å¦ append æ¹æ³ã\n     \n     çº¿ç¨å®å¨æ§\n     \n     String ä¸­çå¯¹è±¡æ¯ä¸å¯åçï¼ä¹å°±å¯ä»¥çè§£ä¸ºå¸¸éï¼çº¿ç¨å®å¨ãAbstractStringBuilder æ¯ StringBuilder ä¸ StringBuffer çå¬å±ç¶ç±»ï¼å®ä¹äºä¸äºå­ç¬¦ä¸²çåºæ¬æä½ï¼å¦ expandCapacityãappendãinsertãindexOf ç­å¬å±æ¹æ³ãStringBuffer å¯¹æ¹æ³å äºåæ­¥éæèå¯¹è°ç¨çæ¹æ³å äºåæ­¥éï¼æä»¥æ¯çº¿ç¨å®å¨çãStringBuilder å¹¶æ²¡æå¯¹æ¹æ³è¿è¡å åæ­¥éï¼æä»¥æ¯éçº¿ç¨å®å¨çã\n     \n     æ§è½\n     \n     æ¯æ¬¡å¯¹ String ç±»åè¿è¡æ¹åçæ¶åï¼é½ä¼çæä¸ä¸ªæ°ç String å¯¹è±¡ï¼ç¶åå°æéæåæ°ç String å¯¹è±¡ãStringBuffer æ¯æ¬¡é½ä¼å¯¹ StringBuffer å¯¹è±¡æ¬èº«è¿è¡æä½ï¼èä¸æ¯çææ°çå¯¹è±¡å¹¶æ¹åå¯¹è±¡å¼ç¨ãç¸åæåµä¸ä½¿ç¨ StringBuilder ç¸æ¯ä½¿ç¨ StringBuffer ä»è½è·å¾ 10%~15% å·¦å³çæ§è½æåï¼ä½å´è¦åå¤çº¿ç¨ä¸å®å¨çé£é©ã\n     \n     å¯¹äºä¸èä½¿ç¨çæ»ç»ï¼\n     \n     1. æä½å°éçæ°æ®: éç¨ String\n     2. åçº¿ç¨æä½å­ç¬¦ä¸²ç¼å²åºä¸æä½å¤§éæ°æ®: éç¨ StringBuilder\n     3. å¤çº¿ç¨æä½å­ç¬¦ä¸²ç¼å²åºä¸æä½å¤§éæ°æ®: éç¨ StringBuffer\n     \n     å¯¹è±¡å¼ç¨åâ+âçå­ç¬¦ä¸²æ¼æ¥æ¹å¼ï¼å®éä¸æ¯éè¿ StringBuilder è°ç¨ append() æ¹æ³å®ç°çï¼æ¼æ¥å®æä¹åè°ç¨ toString() å¾å°ä¸ä¸ª String å¯¹è±¡ ã\n\n\n 14. # å­ç¬¦ä¸²å¸¸éæ± çä½ç¨äºè§£åï¼\n     \n     å­ç¬¦ä¸²å¸¸éæ±  æ¯ JVM ä¸ºäºæåæ§è½ååå°åå­æ¶èéå¯¹å­ç¬¦ä¸²ï¼String ç±»ï¼ä¸é¨å¼è¾çä¸ååºåï¼ä¸»è¦ç®çæ¯ä¸ºäºé¿åå­ç¬¦ä¸²çéå¤åå»ºã\n\n\n 15. # Java å¼å¸¸ããâ­â­â­ãï¼ä¸ä¼é®çç¹å«ç»ãç»å¸¸çé®æ³æ¯å¼å¸¸å¯ä»¥åä¸ºåªå ç§ï¼ç¶åä½ ç­äºå¯æ£æ¥å¼å¸¸åä¸å¯æ£æ¥å¼å¸¸ä»¥åï¼ä¼è®©ä½ ä¸¾ä¾å¯æ£æ¥å¼å¸¸æåªäºï¼ä¸å¯æ£æ¥æåªäºãç¶åï¼å¼å¸¸çä»£ç è¦ä¼åï¼æä¸åºå­èçé¢è¯ï¼ç´æ¥è®©æåä¸ä¸ªæå¼å¸¸æè·äºç¶åæåºå»çä»£ç ã\n     \n     å¨ Java ä¸­ï¼ææçå¼å¸¸é½æä¸ä¸ªå±åçç¥å java.lang åä¸­ç Throwable ç±»ãThrowable ç±»æä¸¤ä¸ªéè¦çå­ç±»:\n     \n     * Exception :ç¨åºæ¬èº«å¯ä»¥å¤ççå¼å¸¸ï¼å¯ä»¥éè¿ catch æ¥è¿è¡æè·ãException åå¯ä»¥åä¸º Checked Exception (åæ£æ¥å¼å¸¸ï¼å¿é¡»å¤ç) å Unchecked Exception (ä¸åæ£æ¥å¼å¸¸ï¼å¯ä»¥ä¸å¤ç)ã\n     * Error ï¼Error å±äºç¨åºæ æ³å¤ççéè¯¯ ï¼æä»¬æ²¡åæ³éè¿ catch æ¥è¿è¡æè· ãä¾å¦Java èææºè¿è¡éè¯¯ï¼Virtual MachineError ï¼ãèææºåå­ä¸å¤éè¯¯(OutOfMemoryError)ãç±»å®ä¹éè¯¯ï¼NoClassDefFoundErrorï¼ç­ ãè¿äºå¼å¸¸åçæ¶ï¼Java èææºï¼JVMï¼ä¸è¬ä¼éæ©çº¿ç¨ç»æ­¢ã\n     \n     Checked Exception å³åæ£æ¥å¼å¸¸ï¼Java ä»£ç å¨ç¼è¯è¿ç¨ä¸­ï¼å¦æåæ£æ¥å¼å¸¸æ²¡æè¢« catch/throw å¤ççè¯ï¼å°±æ²¡åæ³éè¿ç¼è¯ ã\n     \n     é¤äºRuntimeExceptionåå¶å­ç±»ä»¥å¤ï¼å¶ä»çExceptionç±»åå¶å­ç±»é½å±äºåæ£æ¥å¼å¸¸ ãå¸¸è§çåæ£æ¥å¼å¸¸æï¼ IO ç¸å³çå¼å¸¸ãClassNotFoundException ãSQLException ...ã\n     \n     Unchecked Exception å³ ä¸åæ£æ¥å¼å¸¸ ï¼Java ä»£ç å¨ç¼è¯è¿ç¨ä¸­ ï¼æä»¬å³ä½¿ä¸å¤çä¸åæ£æ¥å¼å¸¸ä¹å¯ä»¥æ­£å¸¸éè¿ç¼è¯ã\n     \n     RuntimeException åå¶å­ç±»é½ç»ç§°ä¸ºéåæ£æ¥å¼å¸¸ï¼ä¾å¦ï¼NullPointerExceptionãNumberFormatException ï¼å­ç¬¦ä¸²è½¬æ¢ä¸ºæ°å­ï¼ãArrayIndexOutOfBoundsExceptionï¼æ°ç»è¶çï¼ãClassCastExceptionï¼ç±»åè½¬æ¢éè¯¯ï¼ãArithmeticExceptionï¼ç®æ¯éè¯¯ï¼ç­ã\n     \n     å¸¸è§çè¿è¡æ¶å¼å¸¸ã è¿è¡æ¶å¼å¸¸çæ¦å¿µ: ç»§æ¿èªRuntimeExceptionçå¼å¸¸æèå¶å­ç±»ï¼ ç¼è¯é¶æ®µæ¯ä¸ä¼åºéçï¼å®æ¯å¨è¿è¡æ¶é¶æ®µå¯è½åºç°çéè¯¯ï¼ è¿è¡æ¶å¼å¸¸ç¼è¯é¶æ®µå¯ä»¥å¤çä¹å¯ä»¥ä¸å¤ç,ä»£ç ç¼è¯é½è½éè¿ï¼ï¼\n     \n     1.æ°ç»ç´¢å¼è¶çå¼å¸¸: ArrayIndexOutOfBoundsExceptionã 2.ç©ºæéå¼å¸¸ : NullPointerExceptionã ç´æ¥è¾åºæ²¡æé®é¢ãä½æ¯è°ç¨ç©ºæéçåéçåè½å°±ä¼æ¥éï¼ï¼ 3.ç±»åè½¬æ¢å¼å¸¸ï¼ClassCastExceptionã 4.è¿­ä»£å¨éåæ²¡ææ­¤åç´ å¼å¸¸ï¼NoSuchElementExceptionã 5.æ°å­¦æä½å¼å¸¸ï¼ArithmeticExceptionã 6.æ°å­è½¬æ¢å¼å¸¸ï¼ NumberFormatExceptionã\n     \n     # Throwable ç±»å¸¸ç¨æ¹æ³æåªäºï¼\n     \n     * String getMessage(): è¿åå¼å¸¸åçæ¶çç®è¦æè¿°\n     * String toString(): è¿åå¼å¸¸åçæ¶çè¯¦ç»ä¿¡æ¯\n     * String getLocalizedMessage(): è¿åå¼å¸¸å¯¹è±¡çæ¬å°åä¿¡æ¯ãä½¿ç¨ Throwable çå­ç±»è¦çè¿ä¸ªæ¹æ³ï¼å¯ä»¥çææ¬å°åä¿¡æ¯ãå¦æå­ç±»æ²¡æè¦çè¯¥æ¹æ³ï¼åè¯¥æ¹æ³è¿åçä¿¡æ¯ä¸ getMessage()è¿åçç»æç¸å\n     * void printStackTrace(): å¨æ§å¶å°ä¸æå° Throwable å¯¹è±¡å°è£çå¼å¸¸ä¿¡æ¯\n     \n     # try-catch-finally å¦ä½ä½¿ç¨ï¼\n     \n     * tryåï¼ ç¨äºæè·å¼å¸¸ãå¶åå¯æ¥é¶ä¸ªæå¤ä¸ª catch åï¼å¦ææ²¡æ catch åï¼åå¿é¡»è·ä¸ä¸ª finally åã\n     * catchåï¼ ç¨äºå¤ç try æè·å°çå¼å¸¸ã\n     * finally åï¼ æ è®ºæ¯å¦æè·æå¤çå¼å¸¸ï¼finally åéçè¯­å¥é½ä¼è¢«æ§è¡ãå½å¨ try åæ catch åä¸­éå° return è¯­å¥æ¶ï¼finally è¯­å¥åå°å¨æ¹æ³è¿åä¹åè¢«æ§è¡ã\n     \n     ** æ³¨æï¼ä¸è¦å¨ finally è¯­å¥åä¸­ä½¿ç¨ return!** å½ try è¯­å¥å finally è¯­å¥ä¸­é½æ return è¯­å¥æ¶ï¼try è¯­å¥åä¸­ç return è¯­å¥ä¼è¢«å¿½ç¥ãè¿æ¯å ä¸º try è¯­å¥ä¸­ç return è¿åå¼ä¼åè¢«æå­å¨ä¸ä¸ªæ¬å°åéä¸­ï¼å½æ§è¡å° finally è¯­å¥ä¸­ç return ä¹åï¼è¿ä¸ªæ¬å°åéçå¼å°±åä¸ºäº finally è¯­å¥ä¸­ç return è¿åå¼ã\n     \n     # finally ä¸­çä»£ç ä¸å®ä¼æ§è¡åï¼\n     \n     ä¸ä¸å®çï¼å¨æäºæåµä¸ï¼finally ä¸­çä»£ç ä¸ä¼è¢«æ§è¡ã\n     \n     å°±æ¯å¦è¯´ finally ä¹åèææºè¢«ç»æ­¢è¿è¡çè¯ï¼finally ä¸­çä»£ç å°±ä¸ä¼è¢«æ§è¡ã\n     \n     å¦å¤ï¼å¨ä»¥ä¸ 2 ç§ç¹æ®æåµä¸ï¼finally åçä»£ç ä¹ä¸ä¼è¢«æ§è¡ï¼\n     \n     1. ç¨åºæå¨ççº¿ç¨æ­»äº¡ã\n     2. å³é­ CPUã\n\n\n 16. # åºåååååºååãâ­â­ã\n     \n     å¦ææä»¬éè¦æä¹å Java å¯¹è±¡æ¯å¦å° Java å¯¹è±¡ä¿å­å¨æä»¶ä¸­ï¼æèå¨ç½ç»ä¼ è¾ Java å¯¹è±¡ï¼è¿äºåºæ¯é½éè¦ç¨å°åºååã\n     \n     ç®åæ¥è¯´ï¼\n     \n     * åºååï¼ å°æ°æ®ç»ææå¯¹è±¡è½¬æ¢æäºè¿å¶å­èæµçè¿ç¨\n     * ååºååï¼å°å¨åºååè¿ç¨ä¸­æçæçäºè¿å¶å­èæµè½¬æ¢ææ°æ®ç»ææèå¯¹è±¡çè¿ç¨\n     \n     å¯¹äº Java è¿ç§é¢åå¯¹è±¡ç¼ç¨è¯­è¨æ¥è¯´ï¼æä»¬åºååçé½æ¯å¯¹è±¡ï¼Objectï¼ä¹å°±æ¯å®ä¾ååçç±»(Class)ï¼ä½æ¯å¨ C++è¿ç§åé¢åå¯¹è±¡çè¯­è¨ä¸­ï¼struct(ç»æä½)å®ä¹çæ¯æ°æ®ç»æç±»åï¼è class å¯¹åºçæ¯å¯¹è±¡ç±»åã\n     \n     # Java åºååä¸­å¦ææäºå­æ®µä¸æ³è¿è¡åºååï¼æä¹åï¼\n     \n     å¯¹äºä¸æ³è¿è¡åºååçåéï¼ä½¿ç¨ transient å³é®å­ä¿®é¥°ã\n     \n     transient å³é®å­çä½ç¨æ¯ï¼é»æ­¢å®ä¾ä¸­é£äºç¨æ­¤å³é®å­ä¿®é¥°ççåéåºååï¼å½å¯¹è±¡è¢«ååºååæ¶ï¼è¢« transient ä¿®é¥°çåéå¼ä¸ä¼è¢«æä¹ååæ¢å¤ã\n     \n     å³äº transient è¿æå ç¹æ³¨æï¼\n     \n     * transient åªè½ä¿®é¥°åéï¼ä¸è½ä¿®é¥°ç±»åæ¹æ³ã\n     * transient ä¿®é¥°çåéï¼å¨ååºååååéå¼å°ä¼è¢«ç½®æç±»åçé»è®¤å¼ãä¾å¦ï¼å¦ææ¯ä¿®é¥° int ç±»åï¼é£ä¹ååºååç»æå°±æ¯ 0ã\n     * static åéå ä¸ºä¸å±äºä»»ä½å¯¹è±¡(Object)ï¼æä»¥æ è®ºææ²¡æ transient å³é®å­ä¿®é¥°ï¼åä¸ä¼è¢«åºååã\n\n\n 17. # åå°ãâ­â­ãé¢è¯å®å¯è½ä¼é®ä½ ä»ä¹æ¯åå°ï¼å®çä¼ç¼ºç¹æ¯ä»ä¹ï¼æåªäºåºç¨åºæ¯ã\n     \n     éè¿åå°ä½ å¯ä»¥è·åä»»æä¸ä¸ªç±»çææå±æ§åæ¹æ³ï¼ä½ è¿å¯ä»¥è°ç¨è¿äºæ¹æ³åå±æ§ã\n     \n     åå°æºå¶ä¼ç¼ºç¹\n     \n     * ä¼ç¹ ï¼ å¯ä»¥è®©å±ä»¬çä»£ç æ´å çµæ´»ãä¸ºåç§æ¡æ¶æä¾å¼ç®±å³ç¨çåè½æä¾äºä¾¿å©\n     * ç¼ºç¹ ï¼è®©æä»¬å¨è¿è¡æ¶æäºåææä½ç±»çè½åï¼è¿åæ ·ä¹å¢å äºå®å¨é®é¢ãæ¯å¦å¯ä»¥æ è§æ³ååæ°çå®å¨æ£æ¥ï¼æ³ååæ°çå®å¨æ£æ¥åçå¨ç¼è¯æ¶ï¼ãå¦å¤ï¼åå°çæ§è½ä¹è¦ç¨å·®ç¹ï¼ä¸è¿ï¼å¯¹äºæ¡æ¶æ¥è¯´å®éæ¯å½±åä¸å¤§çã\n\n\n 18. # ListãSetã Map çåºå«ããâ­â­ã\n     \n     Setç³»åéåï¼æ·»å çåç´ æ¯æ åºï¼ä¸éå¤ï¼æ ç´¢å¼çã\n     \n     * HashSet:æ·»å çåç´ æ¯æ åºï¼ä¸éå¤ï¼æ ç´¢å¼çã\n       * LinkedHashSet:æ·»å çåç´ æ¯æåºï¼ä¸éå¤ï¼æ ç´¢å¼çã\n     * TreeSet:ä¸éå¤ï¼æ ç´¢å¼ï¼æç§å¤§å°é»è®¤ååºæåº!!\n     \n     Listç³»åéåï¼æ·»å çåç´ æ¯æåºï¼å¯éå¤ï¼æç´¢å¼ã\n     \n     * ArrayListï¼æ·»å çåç´ æ¯æåºï¼å¯éå¤ï¼æç´¢å¼ã\n     * LinkedListï¼æ·»å çåç´ æ¯æåºï¼å¯éå¤ï¼æç´¢å¼ã\n     \n     Mapéåçç¹ç¹ï¼ 1.Mapéåçç¹ç¹é½æ¯ç±é®å³å®çã 2.Mapéåçé®æ¯æ åº,ä¸éå¤çï¼æ ç´¢å¼çã Mapéååé¢éå¤çé®å¯¹åºçåç´ ä¼è¦çåé¢çæ´ä¸ªåç´ ï¼ 3.Mapéåçå¼æ è¦æ±ã 4.Mapéåçé®å¼å¯¹é½å¯ä»¥ä¸ºnullã\n\n\n 19. # ArrayList å LinkedList çåºå«ããâ­â­â­â­ãï¼ç­æ¸æ¥æ¯ä¸ªåå«éç¨ä»ä¹æ°æ®ç»æï¼å¯¹æ¯ç¸åºçä¼ç¹åç¼ºç¹ã\n     \n     ArrayList:ï¼åºå±åºäºæ°ç»å­å¨æ°æ®çï¼æ¥è¯¢å¿«ï¼å¢å æ¢ï¼ï¼\n     \n     LinkedListï¼åºå±æ¯åºäºåé¾è¡¨çï¼å¢å æ¯è¾å¿«ï¼æ¥è¯¢æ¢ï¼ï¼ LinkedListæ¯æ¯æåé¾è¡¨ï¼å®ä½ååçåç´ æ¯éå¸¸å¿«çï¼å¢å é¦å°¾çåç´ ä¹æ¯æå¿«ç\n\n\n 20. # æ¯è¾ HashSetãLinkedHashSet å TreeSet ä¸èçå¼åããâ­â­â­ã\n     \n     å¦æå¸æåç´ å¯ä»¥éå¤ï¼åæç´¢å¼ï¼æ¥è¯¢è¦å¿«ç¨ArrayListéåãï¼ç¨çæå¤ï¼ å¦æå¸æåç´ å¯ä»¥éå¤ï¼åæç´¢å¼ï¼å¢å è¦å¿«è¦ç¨LinkedListéåãï¼éåæ¥è¯¢åç´ æ¯è¾å°çæåµï¼ç»å¸¸è¦é¦å°¾æä½åç´ çæåµï¼ å¦æå¸æå¢å æ¹æ¥é½å¾å¿«ï¼ä½æ¯åç´ ä¸éå¤ä»¥åæ åºæ ç´¢å¼ï¼é£ä¹ç¨HashSetéåã å¦æå¸æå¢å æ¹æ¥é½å¾å¿«ä¸æåºï¼ä½æ¯åç´ ä¸éå¤ä»¥åæ ç´¢å¼ï¼é£ä¹ç¨LinkedHashSetéåã\n     \n     # TreeSet\n     \n     åºå±åºäºTreeMapå®ç°\n\n\n 21. # HashMap å¤çº¿ç¨æä½å¯¼è´æ­»å¾ªç¯é®é¢ããâ­â­â­ãjdk 1.8 åè§£å³äºè¿ä¸ªé®é¢ï¼ä½æ¯è¿æ¯ä¸å»ºè®®å¨å¤çº¿ç¨ä¸ä½¿ç¨ HashMap,å ä¸ºå¤çº¿ç¨ä¸ä½¿ç¨ HashMap è¿æ¯ä¼å­å¨å¶ä»é®é¢æ¯å¦æ°æ®ä¸¢å¤±ãå¹¶åç¯å¢ä¸æ¨èä½¿ç¨ ConcurrentHashMap ã\n\n\n 22. # HashMap çé¿åº¦ä¸ºä»ä¹æ¯ 2 çå¹æ¬¡æ¹ããâ­â­â­ãä¸»è¦æ¯èèå°äºå¯¹è¿ç®æççæåã\n\n\n 23. # HashMapãHashTableãä»¥å ConcurrentHashMap çåºå«ããâ­â­â­â­â­ã\n     \n     1. çº¿ç¨æ¯å¦å®å¨ï¼ HashMap æ¯éçº¿ç¨å®å¨çï¼Hashtable æ¯çº¿ç¨å®å¨ç,å ä¸º Hashtable åé¨çæ¹æ³åºæ¬é½ç»è¿synchronized ä¿®é¥°ãï¼å¦æä½ è¦ä¿è¯çº¿ç¨å®å¨çè¯å°±ä½¿ç¨ ConcurrentHashMap å§ï¼ï¼ï¼\n     2. æçï¼ å ä¸ºçº¿ç¨å®å¨çé®é¢ï¼HashMap è¦æ¯ Hashtable æçé«ä¸ç¹ãå¦å¤ï¼Hashtable åºæ¬è¢«æ·æ±°ï¼ä¸è¦å¨ä»£ç ä¸­ä½¿ç¨å®ï¼\n     3. å¯¹ Null key å Null value çæ¯æï¼ HashMap å¯ä»¥å­å¨ null ç key å valueï¼ä½ null ä½ä¸ºé®åªè½æä¸ä¸ªï¼null ä½ä¸ºå¼å¯ä»¥æå¤ä¸ªï¼Hashtable ä¸åè®¸æ null é®å null å¼ï¼å¦åä¼æåº NullPointerExceptionã\n     4. åå§å®¹éå¤§å°åæ¯æ¬¡æ©åå®¹éå¤§å°çä¸å ï¼ â  åå»ºæ¶å¦æä¸æå®å®¹éåå§å¼ï¼Hashtable é»è®¤çåå§å¤§å°ä¸º 11ï¼ä¹åæ¯æ¬¡æ©åï¼å®¹éåä¸ºåæ¥ç 2n+1ãHashMap é»è®¤çåå§åå¤§å°ä¸º 16ãä¹åæ¯æ¬¡æ©åï¼å®¹éåä¸ºåæ¥ç 2 åãâ¡ åå»ºæ¶å¦æç»å®äºå®¹éåå§å¼ï¼é£ä¹ Hashtable ä¼ç´æ¥ä½¿ç¨ä½ ç»å®çå¤§å°ï¼è HashMap ä¼å°å¶æ©åä¸º 2 çå¹æ¬¡æ¹å¤§å°ï¼HashMap ä¸­çtableSizeFor()æ¹æ³ä¿è¯ï¼ä¸é¢ç»åºäºæºä»£ç ï¼ãä¹å°±æ¯è¯´ HashMap æ»æ¯ä½¿ç¨ 2 çå¹ä½ä¸ºåå¸è¡¨çå¤§å°,åé¢ä¼ä»ç»å°ä¸ºä»ä¹æ¯ 2 çå¹æ¬¡æ¹ã\n     5. åºå±æ°æ®ç»æï¼ JDK1.8 ä»¥åç HashMap å¨è§£å³åå¸å²çªæ¶æäºè¾å¤§çååï¼å½é¾è¡¨é¿åº¦å¤§äºéå¼ï¼é»è®¤ä¸º 8ï¼ï¼å°é¾è¡¨è½¬æ¢æçº¢é»æ åä¼å¤æ­ï¼å¦æå½åæ°ç»çé¿åº¦å°äº 64ï¼é£ä¹ä¼éæ©åè¿è¡æ°ç»æ©å®¹ï¼èä¸æ¯è½¬æ¢ä¸ºçº¢é»æ ï¼æ¶ï¼å°é¾è¡¨è½¬åä¸ºçº¢é»æ ï¼ä»¥åå°æç´¢æ¶é´ãHashtable æ²¡æè¿æ ·çæºå¶ã\n     \n     ConcurrentHashMap å Hashtable çåºå«ä¸»è¦ä½ç°å¨å®ç°çº¿ç¨å®å¨çæ¹å¼ä¸ä¸åã\n     \n     * åºå±æ°æ®ç»æï¼ JDK1.7 ç ConcurrentHashMap åºå±éç¨ åæ®µçæ°ç»+é¾è¡¨ å®ç°ï¼JDK1.8 éç¨çæ°æ®ç»æè· HashMap1.8 çç»æä¸æ ·ï¼æ°ç»+é¾è¡¨/çº¢é»äºåæ ãHashtable å JDK1.8 ä¹åç HashMap çåºå±æ°æ®ç»æç±»ä¼¼é½æ¯éç¨ æ°ç»+é¾è¡¨ çå½¢å¼ï¼æ°ç»æ¯ HashMap çä¸»ä½ï¼é¾è¡¨åæ¯ä¸»è¦ä¸ºäºè§£å³åå¸å²çªèå­å¨çï¼\n     * å®ç°çº¿ç¨å®å¨çæ¹å¼ï¼éè¦ï¼ï¼ â  å¨ JDK1.7 çæ¶åï¼ConcurrentHashMapï¼åæ®µéï¼ å¯¹æ´ä¸ªæ¡¶æ°ç»è¿è¡äºåå²åæ®µ(Segment) ï¼æ¯ä¸æéåªéå®¹å¨å¶ä¸­ä¸é¨åæ°æ®ï¼å¤çº¿ç¨è®¿é®å®¹å¨éä¸åæ°æ®æ®µçæ°æ®ï¼å°±ä¸ä¼å­å¨éç«äºï¼æé«å¹¶åè®¿é®çã å°äº JDK1.8 çæ¶åå·²ç»æå¼äº Segment çæ¦å¿µï¼èæ¯ç´æ¥ç¨ Node æ°ç»+é¾è¡¨+çº¢é»æ çæ°æ®ç»ææ¥å®ç°ï¼å¹¶åæ§å¶ä½¿ç¨ synchronized å CAS æ¥æä½ãï¼JDK1.6 ä»¥å å¯¹ synchronized éåäºå¾å¤ä¼åï¼ æ´ä¸ªçèµ·æ¥å°±åæ¯ä¼åè¿ä¸çº¿ç¨å®å¨ç HashMapï¼è½ç¶å¨ JDK1.8 ä¸­è¿è½çå° Segment çæ°æ®ç»æï¼ä½æ¯å·²ç»ç®åäºå±æ§ï¼åªæ¯ä¸ºäºå¼å®¹æ§çæ¬ï¼â¡ Hashtable(åä¸æé) : ä½¿ç¨ synchronized æ¥ä¿è¯çº¿ç¨å®å¨ï¼æçéå¸¸ä½ä¸ãå½ä¸ä¸ªçº¿ç¨è®¿é®åæ­¥æ¹æ³æ¶ï¼å¶ä»çº¿ç¨ä¹è®¿é®åæ­¥æ¹æ³ï¼å¯è½ä¼è¿å¥é»å¡æè½®è¯¢ç¶æï¼å¦ä½¿ç¨ put æ·»å åç´ ï¼å¦ä¸ä¸ªçº¿ç¨ä¸è½ä½¿ç¨ put æ·»å åç´ ï¼ä¹ä¸è½ä½¿ç¨ getï¼ç«äºä¼è¶æ¥è¶æ¿çæçè¶ä½ã\n\n\n 24. # Queue ä¸ Deque çåºå«\n     \n     Queue æ¯åç«¯éåï¼åªè½ä»ä¸ç«¯æå¥åç´ ï¼å¦ä¸ç«¯å é¤åç´ ï¼å®ç°ä¸ä¸è¬éµå¾ª åè¿ååºï¼FIFOï¼ è§åã\n     \n     Queue æ©å±äº Collection çæ¥å£ï¼æ ¹æ® å ä¸ºå®¹éé®é¢èå¯¼è´æä½å¤±è´¥åå¤çæ¹å¼çä¸å å¯ä»¥åä¸ºä¸¤ç±»æ¹æ³: ä¸ç§å¨æä½å¤±è´¥åä¼æåºå¼å¸¸ï¼å¦ä¸ç§åä¼è¿åç¹æ®å¼ã\n     \n     | Queue æ¥å£ | æåºå¼å¸¸ | è¿åç¹æ®å¼ | | ------------ | --------- | ---------- | | æå¥éå°¾ | add(E e) | offer(E e) | | å é¤éé¦ | remove() | poll() | | æ¥è¯¢éé¦åç´  | element() | peek() |\n     \n     Dequeå®ç°äºQueueæ¥å£æ¯åç«¯éåï¼å¨éåçä¸¤ç«¯åå¯ä»¥æå¥æå é¤åç´ ã\n     \n     Deque æ©å±äº Queue çæ¥å£, å¢å äºå¨éé¦åéå°¾è¿è¡æå¥åå é¤çæ¹æ³ï¼åæ ·æ ¹æ®å¤±è´¥åå¤çæ¹å¼çä¸ååä¸ºä¸¤ç±»ï¼\n     \n     | Deque æ¥å£ | æåºå¼å¸¸ | è¿åç¹æ®å¼ | | ------------ | ------------- | --------------- | | æå¥éé¦ | addFirst(E e) | offerFirst(E e) | | æå¥éå°¾ | addLast(E e) | offerLast(E e) | | å é¤éé¦ | removeFirst() | pollFirst() | | å é¤éå°¾ | removeLast() | pollLast() | | æ¥è¯¢éé¦åç´  | getFirst() | peekFirst() | | æ¥è¯¢éå°¾åç´  | getLast() | peekLast() |\n     \n     äºå®ä¸ï¼Deque è¿æä¾æ push() å pop() ç­å¶ä»æ¹æ³ï¼å¯ç¨äºæ¨¡ææ ã",normalizedContent:" 1.  # java è¯­è¨çç¹ç¹ï¼å¦æä½ ç®åä¸ææå° c++ å¯è½è¿ä¼é®ä½  java å c++ çåºå«ï¼ããâ­â­ã\n     \n     * é¢åå¯¹è±¡ï¼å°è£ï¼ç»§æ¿ï¼å¤æï¼ï¼\n     * å¹³å°æ å³æ§ï¼ java èææºå®ç°å¹³å°æ å³æ§ï¼ï¼\n     * æ¯æå¤çº¿ç¨ï¼ c++ è¯­è¨æ²¡æåç½®çå¤çº¿ç¨æºå¶ï¼å æ­¤å¿é¡»è°ç¨æä½ç³»ç»çå¤çº¿ç¨åè½æ¥è¿è¡å¤çº¿ç¨ç¨åºè®¾è®¡ï¼è java è¯­è¨å´æä¾äºå¤çº¿ç¨æ¯æï¼ï¼\n     * å¯é æ§ï¼\n     * å®å¨æ§ï¼\n     * æ¯æç½ç»ç¼ç¨å¹¶ä¸å¾æ¹ä¾¿ï¼ java è¯­è¨è¯çæ¬èº«å°±æ¯ä¸ºç®åç½ç»ç¼ç¨è®¾è®¡çï¼å æ­¤ java è¯­è¨ä¸ä»æ¯æç½ç»ç¼ç¨èä¸å¾æ¹ä¾¿ï¼ï¼\n     * ç¼è¯ä¸è§£éå¹¶å­ï¼\n\n\n 2.  # æ¯è¾ jvm å jdk ä»¥å jre ããâ­â­â­ãéå¸¸éå¸¸åºç¡çä¸ä¸ªé®é¢ï¼å­¦äº java ä¹åè¿ä¸ç¥è¿ä¸ªé®é¢å¦ä½åç­çå°ä¼ä¼´èªè§å»é¢å£å§ï¼\n     \n     * jvmï¼æ¯è¿è¡ java å­èç çèææºãjvm æéå¯¹ä¸åç³»ç»çç¹å®å®ç°ï¼windowsï¼linuxï¼macosï¼ï¼ç®çæ¯ä½¿ç¨ç¸åçå­èç ï¼å®ä»¬é½ä¼ç»åºç¸åçç»æãå­èç åä¸åç³»ç»ç jvm å®ç°æ¯ java è¯­è¨âä¸æ¬¡ç¼è¯ï¼éå¤å¯ä»¥è¿è¡âçå³é®æå¨ã\n     * jdkï¼å®æ¯åè½é½å¨ç java sdkãå®æ¥æ jre ææ¥æçä¸åï¼è¿æç¼è¯å¨ï¼javacï¼åå·¥å·ï¼å¦ javadoc å jdbï¼ãå®è½å¤åå»ºåç¼è¯ç¨åºã\n     * jreï¼javaçè¿è¡æ¶ç¯å¢ï¼å®æ¯è¿è¡å·²ç¼è¯ java ç¨åºæéçææåå®¹çéåï¼åæ¬ java èææºï¼jvmï¼ï¼java ç±»åºï¼java å½ä»¤åå¶ä»çä¸äºåºç¡æä»¶ãä½æ¯ï¼å®ä¸è½ç¨äºåå»ºæ°ç¨åºã\n\n\n 3.  # ä¸ºä»ä¹è¯´ java è¯­è¨âè§£éä¸ç¼è¯å¹¶å­âããâ­â­ã\n     \n     æä»¬å¯ä»¥å°é«çº§ç¼ç¨è¯­è¨æç§ç¨åºçæ§è¡æ¹å¼åä¸ºä¸¤ç§ï¼\n     \n     * ç¼è¯å ï¼ç¼è¯åè¯­è¨ ä¼éè¿ç¼è¯å¨å°æºä»£ç ä¸æ¬¡æ§ç¿»è¯æå¯è¢«è¯¥å¹³å°æ§è¡çæºå¨ç ãä¸è¬æåµä¸ï¼ç¼è¯è¯­è¨çæ§è¡éåº¦æ¯è¾å¿«ï¼å¼åæçæ¯è¾ä½ãå¸¸è§çç¼è¯æ§è¯­è¨æ cãc++ãgoãrust ç­ç­ã\n     * è§£éå ï¼è§£éåè¯­è¨ä¼éè¿è§£éå¨ä¸å¥ä¸å¥çå°ä»£ç è§£éï¼interpretï¼ä¸ºæºå¨ä»£ç ååæ§è¡ãè§£éåè¯­è¨å¼åæçæ¯è¾å¿«ï¼æ§è¡éåº¦æ¯è¾æ¢ãå¸¸è§çè§£éæ§è¯­è¨æ pythonãjavascriptãphp ç­ç­ã\n     \n     è¿æ¯å ä¸º java è¯­è¨æ¢å·æç¼è¯åè¯­è¨çç¹å¾ï¼ä¹å·æè§£éåè¯­è¨çç¹å¾ãå ä¸º java ç¨åºè¦ç»è¿åç¼è¯ï¼åè§£éä¸¤ä¸ªæ­¥éª¤ï¼ç± java ç¼åçç¨åºéè¦åç»è¿ç¼è¯æ­¥éª¤ï¼çæå­èç ï¼.class æä»¶ï¼ï¼è¿ç§å­èç å¿é¡»ç± java è§£éå¨æ¥è§£éæ§è¡ã\n\n\n 4.  # java åºæ¬ç±»åæåªå ç§ï¼åå å¤å°ä½ï¼ãâ­â­ã\n     \n     | åºæ¬æ°æ®ç±»å | å ç¨å­è | é»è®¤å¼ | èå´ | åè£ç±» | | -------------------- | -------- | ------- | --------------- | --------- | | byte(å­èå) | 1 | 0 | -2^7 ~ 2^7-1 | byte | | short(ç­æ´å) | 2 | 0 | -2^15 ~ 2^15-1 | short | | int(æ´å) | 4 | 0 | -2^31 ~ 2^31-1 | integer | | long(é¿æ´å) | 8 | 0l | -2^63 ~ 2^63-1 | long | | float(æµ®ç¹å) | 4 | 0.0f | | float | | double(åç²¾åº¦æµ®ç¹å) | 8 | 0.0d | | double | | char(å­ç¬¦ç±»å) | 2 | 'u0000' | \\u0000 ~ \\uffff | character | | boolean(å¸å°ç±»å) | 1 | false | true/false | |\n\n\n 5.  # java æ³åï¼ç±»åæ¦é¤ããâ­â­â­ã\n     \n     æ³åï¼æ³ååè®¸ç¨åºåå¨å¼ºç±»åç¨åºè®¾è®¡è¯­è¨ä¸­ç¼åä»£ç æ¶ä½¿ç¨ä¸äºä»¥åææå®çç±»åï¼å¨å®ä¾åæ¶ä½ä¸ºåæ°ææè¿äºç±»åã\n     \n     java çæ³åæ¯ä¼ªæ³åï¼è¿æ¯å ä¸º java å¨è¿è¡æé´ï¼ææçæ³åä¿¡æ¯é½ä¼è¢«æ¦æï¼è¿ä¹å°±æ¯éå¸¸æè¯´ç±»åæ¦é¤ ã\n     \n     æ³åçä¼ç¹ï¼\n     \n     * ç¼è¯æ¶çå¼ºç±»åæ£æ¥\n       \n       æ³åè¦æ±å¨å£°ææ¶æå®å®éæ°æ®ç±»åï¼java ç¼è¯å¨å¨ç¼è¯æ¶ä¼å¯¹æ³åä»£ç åå¼ºç±»åæ£æ¥ï¼å¹¶å¨ä»£ç è¿åç±»åå®å¨æ¶ååºåè­¦ãæ©åç°ï¼æ©æ²»çï¼æéæ£æ¼æäºæç¯®ï¼å¨ç¼è¯æ¶åç°å¹¶ä¿®å¤éè¯¯æä»åºçä»£ä»·è¿æ¯å¨è¿è¡æ¶å°ã\n     \n     * é¿åäºç±»åè½¬æ¢\n     \n     * æ³åç¼ç¨å¯ä»¥å®ç°éç¨ç®æ³\n     \n     ç±»åæ¦é¤ï¼java è¯­è¨å¼å¥æ³åæ¯ä¸ºäºå¨ç¼è¯æ¶æä¾æ´ä¸¥æ ¼çç±»åæ£æ¥ï¼å¹¶æ¯ææ³åç¼ç¨ãä¸åäº c++ çæ¨¡æ¿æºå¶ï¼java æ³åæ¯ä½¿ç¨ç±»åæ¦é¤æ¥å®ç°çï¼ä½¿ç¨æ³åæ¶ï¼ä»»ä½å·ä½çç±»åä¿¡æ¯é½è¢«æ¦é¤äºã\n     \n     é£ä¹ï¼ç±»åæ¦é¤åäºä»ä¹å¢ï¼å®åäºä»¥ä¸å·¥ä½ï¼\n     \n     * ææ³åä¸­çææç±»ååæ°æ¿æ¢ä¸º objectï¼å¦ææå®ç±»åè¾¹çï¼åä½¿ç¨ç±»åè¾¹çæ¥æ¿æ¢ãå æ­¤ï¼çæçå­èç ä»åå«æ®éçç±»ï¼æ¥å£åæ¹æ³ã\n     * æ¦é¤åºç°çç±»åå£°æï¼å³å»æ <> çåå®¹ãæ¯å¦ t get() æ¹æ³å£°æå°±åæäº object get() ï¼list<string> å°±åæäº listãå¦æå¿è¦ï¼æå¥ç±»åè½¬æ¢ä»¥ä¿æç±»åå®å¨ã\n     * çææ¡¥æ¥æ¹æ³ä»¥ä¿çæ©å±æ³åç±»åä¸­çå¤ææ§ãç±»åæ¦é¤ç¡®ä¿ä¸ä¸ºåæ°åç±»ååå»ºæ°ç±»ï¼å æ­¤ï¼æ³åä¸ä¼äº§çè¿è¡æ¶å¼é\n     \n     ç±»åééç¬¦ï¼\n     \n     * extend ä¸çééç¬¦ï¼å°æªç¥ç±»åéå¶ä¸ºè¯¥ç±»åçç¹å®ç±»åæå¶å­ç±»ã\n     * super ä¸çééç¬¦ï¼å°æªç¥ç±»åéå¶ä¸ºè¯¥ç±»åçç¹å®ç±»åæè¶ç±»ç±»åã\n     \n     å¸¸ç¨çééç¬¦ä¸ºï¼ tï¼eï¼kï¼vï¼ï¼\n     \n     * ï¼ è¡¨ç¤ºä¸ç¡®å®ç java ç±»å\n     * t (type) è¡¨ç¤ºå·ä½çä¸ä¸ª java ç±»å\n     * k v (key value) åå«ä»£è¡¨ java é®å¼ä¸­ç key value\n     * e (element) ä»£è¡¨ element\n\n\n 6.  # == å equals() çåºå«ããâ­â­â­ãï¼è¿ä¸ªé®é¢å¨ 2018 å¹´ä¹åå ä¹æ¯é¢è¯å¿é®çé®é¢ï¼ä½æ¯ç°å¨å¤§åä»¥åæ¯è¾å°é®äºï¼ç°å¨å°åä¸­åé®çå¤ã\n     \n     == å¯¹äºåºæ¬ç±»ååå¼ç¨ç±»åçä½ç¨æææ¯ä¸åçï¼\n     \n     * å¯¹äºåºæ¬æ°æ®ç±»åæ¥è¯´ï¼== æ¯è¾çæ¯å¼ã\n     * å¯¹äºå¼ç¨æ°æ®ç±»åæ¥è¯´ï¼== æ¯è¾çæ¯å¯¹è±¡çåå­å°åã\n     \n     > å ä¸º java åªæå¼ä¼ éï¼æä»¥ï¼å¯¹äº == æ¥è¯´ï¼ä¸ç®¡æ¯æ¯è¾åºæ¬æ°æ®ç±»åï¼è¿æ¯å¼ç¨æ°æ®ç±»åçåéï¼å¶æ¬è´¨æ¯è¾çé½æ¯å¼ï¼åªæ¯å¼ç¨ç±»ååéå­çå¼æ¯å¯¹è±¡çå°åã\n     \n     equals() ä¸è½ç¨äºå¤æ­åºæ¬æ°æ®ç±»åçåéï¼åªè½ç¨æ¥å¤æ­ä¸¤ä¸ªå¯¹è±¡æ¯å¦ç¸ç­ãequals()æ¹æ³å­å¨äºobjectç±»ä¸­ï¼èobjectç±»æ¯ææç±»çç´æ¥æé´æ¥ç¶ç±»ï¼å æ­¤ææçç±»é½æequals()æ¹æ³ã\n     \n     equals() æ¹æ³å­å¨ä¸¤ç§ä½¿ç¨æåµï¼\n     \n     * ç±»æ²¡æéå equals()æ¹æ³ ï¼éè¿equals()æ¯è¾è¯¥ç±»çä¸¤ä¸ªå¯¹è±¡æ¶ï¼ç­ä»·äºéè¿â==âæ¯è¾è¿ä¸¤ä¸ªå¯¹è±¡ï¼ä½¿ç¨çé»è®¤æ¯ objectç±»equals()æ¹æ³ã\n     * ç±»éåäº equals()æ¹æ³ ï¼ä¸è¬æä»¬é½éå equals()æ¹æ³æ¥æ¯è¾ä¸¤ä¸ªå¯¹è±¡ä¸­çå±æ§æ¯å¦ç¸ç­ï¼è¥å®ä»¬çå±æ§ç¸ç­ï¼åè¿å true(å³ï¼è®¤ä¸ºè¿ä¸¤ä¸ªå¯¹è±¡ç¸ç­)ã\n\n\n 7.  # **hashcode()\n     \n     å equals()** ãâ­â­â­â­ãï¼è¿ä¸ªé®é¢ç»å¸¸é®ï¼é¢è¯å®ç»å¸¸é®ä¸ºä»ä¹éå equals() æ¶è¦éå hashcode() æ¹æ³ï¼å¦å¤ï¼è¿ä¸ªé®é¢ç»å¸¸ç»åç hashset é®ã\n     \n     hashcode() çä½ç¨æ¯è·ååå¸ç ï¼int æ´æ°ï¼ï¼ä¹ç§°ä¸ºæ£åç ãè¿ä¸ªåå¸ç çä½ç¨æ¯ç¡®å®è¯¥å¯¹è±¡å¨åå¸è¡¨ä¸­çç´¢å¼ä½ç½®ã\n     \n     hashcode()å®ä¹å¨ jdk ç object ç±»ä¸­ï¼è¿å°±æå³ç java ä¸­çä»»ä½ç±»é½åå«æ hashcode() å½æ°ãå¦å¤éè¦æ³¨æçæ¯ï¼ object ç hashcode() æ¹æ³æ¯æ¬å°æ¹æ³ï¼ä¹å°±æ¯ç¨ c è¯­è¨æ c++ å®ç°çï¼è¯¥æ¹æ³éå¸¸ç¨æ¥å°å¯¹è±¡çåå­å°åè½¬æ¢ä¸ºæ´æ°ä¹åè¿åã\n     \n     å¶å®ï¼ hashcode() å equals()é½æ¯ç¨äºæ¯è¾ä¸¤ä¸ªå¯¹è±¡æ¯å¦ç¸ç­ã\n     \n     é£ä¸ºä»ä¹ jdk è¿è¦åæ¶æä¾è¿ä¸¤ä¸ªæ¹æ³å¢ï¼\n     \n     è¿æ¯å ä¸ºå¨ä¸äºå®¹å¨ï¼æ¯å¦ hashmapãhashsetï¼ä¸­ï¼æäº hashcode() ä¹åï¼å¤æ­åç´ æ¯å¦å¨å¯¹åºå®¹å¨ä¸­çæçä¼æ´é«ï¼åèæ·»å åç´ è¿hastsetçè¿ç¨ï¼ï¼\n     \n     æä»¬å¨åé¢ä¹æå°äºæ·»å åç´ è¿hastsetçè¿ç¨ï¼å¦æ hashset å¨å¯¹æ¯çæ¶åï¼åæ ·ç hashcode æå¤ä¸ªå¯¹è±¡ï¼å®ä¼ç»§ç»­ä½¿ç¨ equals() æ¥å¤æ­æ¯å¦ççç¸åãä¹å°±æ¯è¯´ hashcode å¸®å©æä»¬å¤§å¤§ç¼©å°äºæ¥æ¾ææ¬ã\n     \n     é£ä¸ºä»ä¹ä¸åªæä¾ hashcode() æ¹æ³å¢ï¼\n     \n     è¿æ¯å ä¸ºä¸¤ä¸ªå¯¹è±¡çhashcode å¼ç¸ç­å¹¶ä¸ä»£è¡¨ä¸¤ä¸ªå¯¹è±¡å°±ç¸ç­ã\n     \n     é£ä¸ºä»ä¹ä¸¤ä¸ªå¯¹è±¡æç¸åç hashcode å¼ï¼å®ä»¬ä¹ä¸ä¸å®æ¯ç¸ç­çï¼\n     \n     å ä¸º hashcode() æä½¿ç¨çåå¸ç®æ³ä¹è®¸åå¥½ä¼è®©å¤ä¸ªå¯¹è±¡ä¼ åç¸åçåå¸å¼ãè¶ç³ç³çåå¸ç®æ³è¶å®¹æç¢°æï¼ä½è¿ä¹ä¸æ°æ®å¼ååå¸çç¹æ§æå³ï¼æè°åå¸ç¢°æä¹å°±æ¯æçæ¯ä¸åçå¯¹è±¡å¾å°ç¸åç hashcode )ã\n     \n     æ»ç»ä¸æ¥å°±æ¯ ï¼\n     \n     * å¦æä¸¤ä¸ªå¯¹è±¡çhashcode å¼ç¸ç­ï¼é£è¿ä¸¤ä¸ªå¯¹è±¡ä¸ä¸å®ç¸ç­ï¼åå¸ç¢°æï¼ã\n     * å¦æä¸¤ä¸ªå¯¹è±¡çhashcode å¼ç¸ç­å¹¶ä¸equals()æ¹æ³ä¹è¿å trueï¼æä»¬æè®¤ä¸ºè¿ä¸¤ä¸ªå¯¹è±¡ç¸ç­ã\n     * å¦æä¸¤ä¸ªå¯¹è±¡çhashcode å¼ä¸ç¸ç­ï¼æä»¬å°±å¯ä»¥ç´æ¥è®¤ä¸ºè¿ä¸¤ä¸ªå¯¹è±¡ä¸ç¸ç­ã\n\n\n 8.  # éè½½åéåçåºå«ã ãâ­â­â­â­ã\n     \n     éè½½å°±æ¯åæ ·çä¸ä¸ªæ¹æ³è½å¤æ ¹æ®è¾å¥æ°æ®çä¸åï¼ååºä¸åçå¤ç\n     \n     éåå°±æ¯å½å­ç±»ç»§æ¿èªç¶ç±»çç¸åæ¹æ³ï¼è¾å¥æ°æ®ä¸æ ·ï¼ä½è¦ååºæå«äºç¶ç±»çååºæ¶ï¼ä½ å°±è¦è¦çç¶ç±»æ¹æ³\n     \n     éè½½ï¼éè½½å°±æ¯åä¸ä¸ªç±»ä¸­å¤ä¸ªååæ¹æ³æ ¹æ®ä¸åçä¼ åæ¥æ§è¡ä¸åçé»è¾å¤çã\n     \n     éåï¼éååçå¨è¿è¡æï¼æ¯å­ç±»å¯¹ç¶ç±»çåè®¸è®¿é®çæ¹æ³çå®ç°è¿ç¨è¿è¡éæ°ç¼åãéåå°±æ¯å­ç±»å¯¹ç¶ç±»æ¹æ³çéæ°æ¹é ï¼å¤é¨æ ·å­ä¸è½æ¹åï¼åé¨é»è¾å¯ä»¥æ¹åã\n     \n     | åºå«ç¹ | éè½½æ¹æ³ | éåæ¹æ³ | | ---------- | -------- | ------------------------------------------------------------ | | åçèå´ | åä¸ä¸ªç±» | å­ç±» | | åæ°åè¡¨ | å¿é¡»ä¿®æ¹ | ä¸å®ä¸è½ä¿®æ¹ | | è¿åç±»å | å¯ä¿®æ¹ | å­ç±»æ¹æ³è¿åå¼ç±»ååºæ¯ç¶ç±»æ¹æ³è¿åå¼ç±»åæ´å°æç¸ç­ | | å¼å¸¸ | å¯ä¿®æ¹ | å­ç±»æ¹æ³å£°ææåºçå¼å¸¸ç±»åºæ¯ç¶ç±»æ¹æ³å£°ææåºçå¼å¸¸ç±»æ´å°æç¸ç­ï¼ | | è®¿é®ä¿®é¥°ç¬¦ | å¯ä¿®æ¹ | ä¸å®ä¸è½åæ´ä¸¥æ ¼çéå¶ï¼å¯ä»¥éä½éå¶ï¼ | | åçé¶æ®µ | ç¼è¯æ | è¿è¡æ |\n     \n     â­ï¸ å³äº éåçè¿åå¼ç±»å è¿ééè¦é¢å¤å¤è¯´æä¸ä¸ï¼ä¸é¢çè¡¨è¿°ä¸å¤ªæ¸æ°åç¡®ï¼å¦ææ¹æ³çè¿åç±»åæ¯ void ååºæ¬æ°æ®ç±»åï¼åè¿åå¼éåæ¶ä¸å¯ä¿®æ¹ãä½æ¯å¦ææ¹æ³çè¿åå¼æ¯å¼ç¨ç±»åï¼éåæ¶æ¯å¯ä»¥è¿åè¯¥å¼ç¨ç±»åçå­ç±»çã\n\n\n 9.  # [æ·±æ·è´åæµæ·è´](https://developer.aliyun.com/article/617684#:~:text=å³äºjavaçæ·±æ·è´åæµæ·è´ï¼ç®åæ¥è¯´å°±æ¯åå»ºä¸ä¸ªåå·²ç¥å¯¹è±¡ä¸æ¨¡ä¸æ ·çå¯¹è±¡ã,å¯è½æ¥å¸¸ç¼ç è¿ç¨ä¸­ç¨çä¸å¤ï¼ä½æ¯è¿æ¯ä¸ä¸ªé¢è¯ç»å¸¸ä¼é®çé®é¢ï¼èä¸äºè§£æ·±æ·è´åæµæ·è´çåçï¼å¯¹äºjavaä¸­çæè°å¼ä¼ éæèå¼ç¨ä¼ éå°ä¼ææ´æ·±ççè§£ã 1ãåå»ºå¯¹è±¡ç5ç§æ¹å¼)ããâ­ã\n     \n     æµæ·è´ï¼åå»ºä¸ä¸ªæ°å¯¹è±¡ï¼ç¶åå°å½åå¯¹è±¡çééæå­æ®µå¤å¶å°è¯¥æ°å¯¹è±¡ï¼å¦æå­æ®µæ¯å¼ç±»åçï¼é£ä¹å¯¹è¯¥å­æ®µæ§è¡å¤å¶ï¼å¦æè¯¥å­æ®µæ¯å¼ç¨ç±»åçè¯ï¼åå¤å¶å¼ç¨ä½ä¸å¤å¶å¼ç¨çå¯¹è±¡ãå æ­¤ï¼åå§å¯¹è±¡åå¶å¯æ¬å¼ç¨åä¸ä¸ªå¯¹è±¡ã\n     \n     æ·±æ·è´ï¼åå»ºä¸ä¸ªæ°å¯¹è±¡ï¼ç¶åå°å½åå¯¹è±¡çééæå­æ®µå¤å¶å°è¯¥æ°å¯¹è±¡ï¼æ è®ºè¯¥å­æ®µæ¯å¼ç±»åçè¿æ¯å¼ç¨ç±»åï¼é½å¤å¶ç¬ç«çä¸ä»½ãå½ä½ ä¿®æ¹å¶ä¸­ä¸ä¸ªå¯¹è±¡çä»»ä½åå®¹æ¶ï¼é½ä¸ä¼å½±åå¦ä¸ä¸ªå¯¹è±¡çåå®¹ã\n\n\n 10. # é¢åå¯¹è±¡åé¢åè¿ç¨çåºå«ããâ­â­â­ã\n     \n     ä¸¤èçä¸»è¦åºå«å¨äºè§£å³é®é¢çæ¹å¼ä¸åï¼\n     \n     * é¢åè¿ç¨æè§£å³é®é¢çè¿ç¨ææä¸ä¸ªä¸ªæ¹æ³ï¼éè¿ä¸ä¸ªä¸ªæ¹æ³çæ§è¡è§£å³é®é¢ã\n     * é¢åå¯¹è±¡ä¼åæ½è±¡åºå¯¹è±¡ï¼ç¶åç¨å¯¹è±¡æ§è¡æ¹æ³çæ¹å¼è§£å³é®é¢ã\n     \n     å¦å¤ï¼é¢åå¯¹è±¡å¼åçç¨åºä¸è¬æ´æç»´æ¤ãæå¤ç¨ãææ©å±ã\n\n\n 11. # æååéä¸å±é¨åéçåºå«ããâ­â­â­ã\n     \n     * è¯­æ³å½¢å¼ ï¼ä»è¯­æ³å½¢å¼ä¸çï¼æååéæ¯å±äºç±»çï¼èå±é¨åéæ¯å¨ä»£ç åææ¹æ³ä¸­å®ä¹çåéææ¯æ¹æ³çåæ°ï¼æååéå¯ä»¥è¢« public,private,static ç­ä¿®é¥°ç¬¦æä¿®é¥°ï¼èå±é¨åéä¸è½è¢«è®¿é®æ§å¶ä¿®é¥°ç¬¦å static æä¿®é¥°ï¼ä½æ¯ï¼æååéåå±é¨åéé½è½è¢« final æä¿®é¥°ã\n     * å­å¨æ¹å¼ ï¼ä»åéå¨åå­ä¸­çå­å¨æ¹å¼æ¥ç,å¦ææååéæ¯ä½¿ç¨ static ä¿®é¥°çï¼é£ä¹è¿ä¸ªæååéæ¯å±äºç±»çï¼å¦ææ²¡æä½¿ç¨ static ä¿®é¥°ï¼è¿ä¸ªæååéæ¯å±äºå®ä¾çãèå¯¹è±¡å­å¨äºå åå­ï¼å±é¨åéåå­å¨äºæ åå­ã\n     * çå­æ¶é´ ï¼ä»åéå¨åå­ä¸­ççå­æ¶é´ä¸çï¼æååéæ¯å¯¹è±¡çä¸é¨åï¼å®éçå¯¹è±¡çåå»ºèå­å¨ï¼èå±é¨åééçæ¹æ³çè°ç¨èèªå¨æ¶å¤±ã\n     * é»è®¤å¼ ï¼ä»åéæ¯å¦æé»è®¤å¼æ¥çï¼æååéå¦ææ²¡æè¢«èµåå§å¼ï¼åä¼èªå¨ä»¥ç±»åçé»è®¤å¼èèµå¼ï¼ä¸ç§æåµä¾å¤:è¢« final ä¿®é¥°çæååéä¹å¿é¡»æ¾å¼å°èµå¼ï¼ï¼èå±é¨åéåä¸ä¼èªå¨èµå¼ã\n\n\n 12. # é¢åå¯¹è±¡ä¸å¤§ç¹æ§æ¯ä»ä¹ãå¹¶è§£éè¿ä¸å¤§ç¹æ§ããâ­â­â­â­ã\n     \n     * å°è£ï¼å°è£æ¯ææä¸ä¸ªå¯¹è±¡çç¶æä¿¡æ¯ï¼ä¹å°±æ¯å±æ§ï¼éèå¨å¯¹è±¡åé¨ï¼ä¸åè®¸å¤é¨å¯¹è±¡ç´æ¥è®¿é®å¯¹è±¡çåé¨ä¿¡æ¯ãä½æ¯å¯ä»¥æä¾ä¸äºå¯ä»¥è¢«å¤çè®¿é®çæ¹æ³æ¥æä½å±æ§ã\n     \n     * ç»§æ¿\n       \n       ç»§æ¿æ¯ä½¿ç¨å·²å­å¨çç±»çå®ä¹ä½ä¸ºåºç¡å»ºç«æ°ç±»çææ¯ï¼æ°ç±»çå®ä¹å¯ä»¥å¢å æ°çæ°æ®ææ°çåè½ï¼ä¹å¯ä»¥ç¨ç¶ç±»çåè½ï¼ä½ä¸è½éæ©æ§å°ç»§æ¿ç¶ç±»ã\n       \n       éè¿ä½¿ç¨ç»§æ¿ï¼å¯ä»¥å¿«éå°åå»ºæ°çç±»ï¼å¯ä»¥æé«ä»£ç çéç¨ï¼ç¨åºçå¯ç»´æ¤æ§ï¼èçå¤§éåå»ºæ°ç±»çæ¶é´ ï¼æé«æä»¬çå¼åæçã\n       \n       å³äºç»§æ¿å¦ä¸ 3 ç¹è¯·è®°ä½ï¼\n       \n       1. å­ç±»æ¥æç¶ç±»å¯¹è±¡ææçå±æ§åæ¹æ³ï¼åæ¬ç§æå±æ§åç§ææ¹æ³ï¼ï¼ä½æ¯ç¶ç±»ä¸­çç§æå±æ§åæ¹æ³å­ç±»æ¯æ æ³è®¿é®ï¼åªæ¯æ¥æã\n       2. å­ç±»å¯ä»¥æ¥æèªå·±å±æ§åæ¹æ³ï¼å³å­ç±»å¯ä»¥å¯¹ç¶ç±»è¿è¡æ©å±ã\n       3. å­ç±»å¯ä»¥ç¨èªå·±çæ¹å¼å®ç°ç¶ç±»çæ¹æ³ãï¼ä»¥åä»ç»ï¼ã\n     \n     * å¤æ\n       \n       å¤æï¼é¡¾åæä¹ï¼è¡¨ç¤ºä¸ä¸ªå¯¹è±¡å·æå¤ç§çç¶æï¼å·ä½è¡¨ç°ä¸ºç¶ç±»çå¼ç¨æåå­ç±»çå®ä¾ã\n       \n       å¤æçç¹ç¹:\n       \n       * å¯¹è±¡ç±»ååå¼ç¨ç±»åä¹é´å·æç»§æ¿ï¼ç±»ï¼/å®ç°ï¼æ¥å£ï¼çå³ç³»ï¼\n       * å¼ç¨ç±»ååéååºçæ¹æ³è°ç¨çå°åºæ¯åªä¸ªç±»ä¸­çæ¹æ³ï¼å¿é¡»å¨ç¨åºè¿è¡æé´æè½ç¡®å®ï¼\n       * å¤æä¸è½è°ç¨âåªå¨å­ç±»å­å¨ä½å¨ç¶ç±»ä¸å­å¨âçæ¹æ³ï¼\n       * å¦æå­ç±»éåäºç¶ç±»çæ¹æ³ï¼çæ­£æ§è¡çæ¯å­ç±»è¦ççæ¹æ³ï¼å¦æå­ç±»æ²¡æè¦çç¶ç±»çæ¹æ³ï¼æ§è¡çæ¯ç¶ç±»çæ¹æ³ã\n\n\n 13. # stringãstringbuffer å stringbuilder çåºå«ã ãâ­â­â­â­ã\n     \n     å¯åæ§\n     \n     å¨ java 9 ä¹åï¼string ãstringbuilder ä¸ stringbuffer çå®ç°æ¹ç¨ byte æ°ç»å­å¨å­ç¬¦ä¸²ãä¹åç¨å­ç¬¦æ°ç»æ¥å­å¨å­ç¬¦ä¸²\n     \n     string çæ­£ä¸å¯åæä¸é¢å ç¹åå ï¼\n     \n     1. ä¿å­å­ç¬¦ä¸²çæ°ç»è¢« final ä¿®é¥°ä¸ä¸ºç§æçï¼å¹¶ä¸string ç±»æ²¡ææä¾/æ´é²ä¿®æ¹è¿ä¸ªå­ç¬¦ä¸²çæ¹æ³ã\n     2. string ç±»è¢« final ä¿®é¥°å¯¼è´å¶ä¸è½è¢«ç»§æ¿ï¼è¿èé¿åäºå­ç±»ç ´å string ä¸å¯åã\n     \n     stringbuilder ä¸ stringbuffer é½ç»§æ¿èª abstractstringbuilder ç±»ï¼å¨ abstractstringbuilder ä¸­ä¹æ¯ä½¿ç¨å­ç¬¦æ°ç»ä¿å­å­ç¬¦ä¸²ï¼ä¸è¿æ²¡æä½¿ç¨ final å private å³é®å­ä¿®é¥°ï¼æå³é®çæ¯è¿ä¸ª abstractstringbuilder ç±»è¿æä¾äºå¾å¤ä¿®æ¹å­ç¬¦ä¸²çæ¹æ³æ¯å¦ append æ¹æ³ã\n     \n     çº¿ç¨å®å¨æ§\n     \n     string ä¸­çå¯¹è±¡æ¯ä¸å¯åçï¼ä¹å°±å¯ä»¥çè§£ä¸ºå¸¸éï¼çº¿ç¨å®å¨ãabstractstringbuilder æ¯ stringbuilder ä¸ stringbuffer çå¬å±ç¶ç±»ï¼å®ä¹äºä¸äºå­ç¬¦ä¸²çåºæ¬æä½ï¼å¦ expandcapacityãappendãinsertãindexof ç­å¬å±æ¹æ³ãstringbuffer å¯¹æ¹æ³å äºåæ­¥éæèå¯¹è°ç¨çæ¹æ³å äºåæ­¥éï¼æä»¥æ¯çº¿ç¨å®å¨çãstringbuilder å¹¶æ²¡æå¯¹æ¹æ³è¿è¡å åæ­¥éï¼æä»¥æ¯éçº¿ç¨å®å¨çã\n     \n     æ§è½\n     \n     æ¯æ¬¡å¯¹ string ç±»åè¿è¡æ¹åçæ¶åï¼é½ä¼çæä¸ä¸ªæ°ç string å¯¹è±¡ï¼ç¶åå°æéæåæ°ç string å¯¹è±¡ãstringbuffer æ¯æ¬¡é½ä¼å¯¹ stringbuffer å¯¹è±¡æ¬èº«è¿è¡æä½ï¼èä¸æ¯çææ°çå¯¹è±¡å¹¶æ¹åå¯¹è±¡å¼ç¨ãç¸åæåµä¸ä½¿ç¨ stringbuilder ç¸æ¯ä½¿ç¨ stringbuffer ä»è½è·å¾ 10%~15% å·¦å³çæ§è½æåï¼ä½å´è¦åå¤çº¿ç¨ä¸å®å¨çé£é©ã\n     \n     å¯¹äºä¸èä½¿ç¨çæ»ç»ï¼\n     \n     1. æä½å°éçæ°æ®: éç¨ string\n     2. åçº¿ç¨æä½å­ç¬¦ä¸²ç¼å²åºä¸æä½å¤§éæ°æ®: éç¨ stringbuilder\n     3. å¤çº¿ç¨æä½å­ç¬¦ä¸²ç¼å²åºä¸æä½å¤§éæ°æ®: éç¨ stringbuffer\n     \n     å¯¹è±¡å¼ç¨åâ+âçå­ç¬¦ä¸²æ¼æ¥æ¹å¼ï¼å®éä¸æ¯éè¿ stringbuilder è°ç¨ append() æ¹æ³å®ç°çï¼æ¼æ¥å®æä¹åè°ç¨ tostring() å¾å°ä¸ä¸ª string å¯¹è±¡ ã\n\n\n 14. # å­ç¬¦ä¸²å¸¸éæ± çä½ç¨äºè§£åï¼\n     \n     å­ç¬¦ä¸²å¸¸éæ±  æ¯ jvm ä¸ºäºæåæ§è½ååå°åå­æ¶èéå¯¹å­ç¬¦ä¸²ï¼string ç±»ï¼ä¸é¨å¼è¾çä¸ååºåï¼ä¸»è¦ç®çæ¯ä¸ºäºé¿åå­ç¬¦ä¸²çéå¤åå»ºã\n\n\n 15. # java å¼å¸¸ããâ­â­â­ãï¼ä¸ä¼é®çç¹å«ç»ãç»å¸¸çé®æ³æ¯å¼å¸¸å¯ä»¥åä¸ºåªå ç§ï¼ç¶åä½ ç­äºå¯æ£æ¥å¼å¸¸åä¸å¯æ£æ¥å¼å¸¸ä»¥åï¼ä¼è®©ä½ ä¸¾ä¾å¯æ£æ¥å¼å¸¸æåªäºï¼ä¸å¯æ£æ¥æåªäºãç¶åï¼å¼å¸¸çä»£ç è¦ä¼åï¼æä¸åºå­èçé¢è¯ï¼ç´æ¥è®©æåä¸ä¸ªæå¼å¸¸æè·äºç¶åæåºå»çä»£ç ã\n     \n     å¨ java ä¸­ï¼ææçå¼å¸¸é½æä¸ä¸ªå±åçç¥å java.lang åä¸­ç throwable ç±»ãthrowable ç±»æä¸¤ä¸ªéè¦çå­ç±»:\n     \n     * exception :ç¨åºæ¬èº«å¯ä»¥å¤ççå¼å¸¸ï¼å¯ä»¥éè¿ catch æ¥è¿è¡æè·ãexception åå¯ä»¥åä¸º checked exception (åæ£æ¥å¼å¸¸ï¼å¿é¡»å¤ç) å unchecked exception (ä¸åæ£æ¥å¼å¸¸ï¼å¯ä»¥ä¸å¤ç)ã\n     * error ï¼error å±äºç¨åºæ æ³å¤ççéè¯¯ ï¼æä»¬æ²¡åæ³éè¿ catch æ¥è¿è¡æè· ãä¾å¦java èææºè¿è¡éè¯¯ï¼virtual machineerror ï¼ãèææºåå­ä¸å¤éè¯¯(outofmemoryerror)ãç±»å®ä¹éè¯¯ï¼noclassdeffounderrorï¼ç­ ãè¿äºå¼å¸¸åçæ¶ï¼java èææºï¼jvmï¼ä¸è¬ä¼éæ©çº¿ç¨ç»æ­¢ã\n     \n     checked exception å³åæ£æ¥å¼å¸¸ï¼java ä»£ç å¨ç¼è¯è¿ç¨ä¸­ï¼å¦æåæ£æ¥å¼å¸¸æ²¡æè¢« catch/throw å¤ççè¯ï¼å°±æ²¡åæ³éè¿ç¼è¯ ã\n     \n     é¤äºruntimeexceptionåå¶å­ç±»ä»¥å¤ï¼å¶ä»çexceptionç±»åå¶å­ç±»é½å±äºåæ£æ¥å¼å¸¸ ãå¸¸è§çåæ£æ¥å¼å¸¸æï¼ io ç¸å³çå¼å¸¸ãclassnotfoundexception ãsqlexception ...ã\n     \n     unchecked exception å³ ä¸åæ£æ¥å¼å¸¸ ï¼java ä»£ç å¨ç¼è¯è¿ç¨ä¸­ ï¼æä»¬å³ä½¿ä¸å¤çä¸åæ£æ¥å¼å¸¸ä¹å¯ä»¥æ­£å¸¸éè¿ç¼è¯ã\n     \n     runtimeexception åå¶å­ç±»é½ç»ç§°ä¸ºéåæ£æ¥å¼å¸¸ï¼ä¾å¦ï¼nullpointerexceptionãnumberformatexception ï¼å­ç¬¦ä¸²è½¬æ¢ä¸ºæ°å­ï¼ãarrayindexoutofboundsexceptionï¼æ°ç»è¶çï¼ãclasscastexceptionï¼ç±»åè½¬æ¢éè¯¯ï¼ãarithmeticexceptionï¼ç®æ¯éè¯¯ï¼ç­ã\n     \n     å¸¸è§çè¿è¡æ¶å¼å¸¸ã è¿è¡æ¶å¼å¸¸çæ¦å¿µ: ç»§æ¿èªruntimeexceptionçå¼å¸¸æèå¶å­ç±»ï¼ ç¼è¯é¶æ®µæ¯ä¸ä¼åºéçï¼å®æ¯å¨è¿è¡æ¶é¶æ®µå¯è½åºç°çéè¯¯ï¼ è¿è¡æ¶å¼å¸¸ç¼è¯é¶æ®µå¯ä»¥å¤çä¹å¯ä»¥ä¸å¤ç,ä»£ç ç¼è¯é½è½éè¿ï¼ï¼\n     \n     1.æ°ç»ç´¢å¼è¶çå¼å¸¸: arrayindexoutofboundsexceptionã 2.ç©ºæéå¼å¸¸ : nullpointerexceptionã ç´æ¥è¾åºæ²¡æé®é¢ãä½æ¯è°ç¨ç©ºæéçåéçåè½å°±ä¼æ¥éï¼ï¼ 3.ç±»åè½¬æ¢å¼å¸¸ï¼classcastexceptionã 4.è¿­ä»£å¨éåæ²¡ææ­¤åç´ å¼å¸¸ï¼nosuchelementexceptionã 5.æ°å­¦æä½å¼å¸¸ï¼arithmeticexceptionã 6.æ°å­è½¬æ¢å¼å¸¸ï¼ numberformatexceptionã\n     \n     # throwable ç±»å¸¸ç¨æ¹æ³æåªäºï¼\n     \n     * string getmessage(): è¿åå¼å¸¸åçæ¶çç®è¦æè¿°\n     * string tostring(): è¿åå¼å¸¸åçæ¶çè¯¦ç»ä¿¡æ¯\n     * string getlocalizedmessage(): è¿åå¼å¸¸å¯¹è±¡çæ¬å°åä¿¡æ¯ãä½¿ç¨ throwable çå­ç±»è¦çè¿ä¸ªæ¹æ³ï¼å¯ä»¥çææ¬å°åä¿¡æ¯ãå¦æå­ç±»æ²¡æè¦çè¯¥æ¹æ³ï¼åè¯¥æ¹æ³è¿åçä¿¡æ¯ä¸ getmessage()è¿åçç»æç¸å\n     * void printstacktrace(): å¨æ§å¶å°ä¸æå° throwable å¯¹è±¡å°è£çå¼å¸¸ä¿¡æ¯\n     \n     # try-catch-finally å¦ä½ä½¿ç¨ï¼\n     \n     * tryåï¼ ç¨äºæè·å¼å¸¸ãå¶åå¯æ¥é¶ä¸ªæå¤ä¸ª catch åï¼å¦ææ²¡æ catch åï¼åå¿é¡»è·ä¸ä¸ª finally åã\n     * catchåï¼ ç¨äºå¤ç try æè·å°çå¼å¸¸ã\n     * finally åï¼ æ è®ºæ¯å¦æè·æå¤çå¼å¸¸ï¼finally åéçè¯­å¥é½ä¼è¢«æ§è¡ãå½å¨ try åæ catch åä¸­éå° return è¯­å¥æ¶ï¼finally è¯­å¥åå°å¨æ¹æ³è¿åä¹åè¢«æ§è¡ã\n     \n     ** æ³¨æï¼ä¸è¦å¨ finally è¯­å¥åä¸­ä½¿ç¨ return!** å½ try è¯­å¥å finally è¯­å¥ä¸­é½æ return è¯­å¥æ¶ï¼try è¯­å¥åä¸­ç return è¯­å¥ä¼è¢«å¿½ç¥ãè¿æ¯å ä¸º try è¯­å¥ä¸­ç return è¿åå¼ä¼åè¢«æå­å¨ä¸ä¸ªæ¬å°åéä¸­ï¼å½æ§è¡å° finally è¯­å¥ä¸­ç return ä¹åï¼è¿ä¸ªæ¬å°åéçå¼å°±åä¸ºäº finally è¯­å¥ä¸­ç return è¿åå¼ã\n     \n     # finally ä¸­çä»£ç ä¸å®ä¼æ§è¡åï¼\n     \n     ä¸ä¸å®çï¼å¨æäºæåµä¸ï¼finally ä¸­çä»£ç ä¸ä¼è¢«æ§è¡ã\n     \n     å°±æ¯å¦è¯´ finally ä¹åèææºè¢«ç»æ­¢è¿è¡çè¯ï¼finally ä¸­çä»£ç å°±ä¸ä¼è¢«æ§è¡ã\n     \n     å¦å¤ï¼å¨ä»¥ä¸ 2 ç§ç¹æ®æåµä¸ï¼finally åçä»£ç ä¹ä¸ä¼è¢«æ§è¡ï¼\n     \n     1. ç¨åºæå¨ççº¿ç¨æ­»äº¡ã\n     2. å³é­ cpuã\n\n\n 16. # åºåååååºååãâ­â­ã\n     \n     å¦ææä»¬éè¦æä¹å java å¯¹è±¡æ¯å¦å° java å¯¹è±¡ä¿å­å¨æä»¶ä¸­ï¼æèå¨ç½ç»ä¼ è¾ java å¯¹è±¡ï¼è¿äºåºæ¯é½éè¦ç¨å°åºååã\n     \n     ç®åæ¥è¯´ï¼\n     \n     * åºååï¼ å°æ°æ®ç»ææå¯¹è±¡è½¬æ¢æäºè¿å¶å­èæµçè¿ç¨\n     * ååºååï¼å°å¨åºååè¿ç¨ä¸­æçæçäºè¿å¶å­èæµè½¬æ¢ææ°æ®ç»ææèå¯¹è±¡çè¿ç¨\n     \n     å¯¹äº java è¿ç§é¢åå¯¹è±¡ç¼ç¨è¯­è¨æ¥è¯´ï¼æä»¬åºååçé½æ¯å¯¹è±¡ï¼objectï¼ä¹å°±æ¯å®ä¾ååçç±»(class)ï¼ä½æ¯å¨ c++è¿ç§åé¢åå¯¹è±¡çè¯­è¨ä¸­ï¼struct(ç»æä½)å®ä¹çæ¯æ°æ®ç»æç±»åï¼è class å¯¹åºçæ¯å¯¹è±¡ç±»åã\n     \n     # java åºååä¸­å¦ææäºå­æ®µä¸æ³è¿è¡åºååï¼æä¹åï¼\n     \n     å¯¹äºä¸æ³è¿è¡åºååçåéï¼ä½¿ç¨ transient å³é®å­ä¿®é¥°ã\n     \n     transient å³é®å­çä½ç¨æ¯ï¼é»æ­¢å®ä¾ä¸­é£äºç¨æ­¤å³é®å­ä¿®é¥°ççåéåºååï¼å½å¯¹è±¡è¢«ååºååæ¶ï¼è¢« transient ä¿®é¥°çåéå¼ä¸ä¼è¢«æä¹ååæ¢å¤ã\n     \n     å³äº transient è¿æå ç¹æ³¨æï¼\n     \n     * transient åªè½ä¿®é¥°åéï¼ä¸è½ä¿®é¥°ç±»åæ¹æ³ã\n     * transient ä¿®é¥°çåéï¼å¨ååºååååéå¼å°ä¼è¢«ç½®æç±»åçé»è®¤å¼ãä¾å¦ï¼å¦ææ¯ä¿®é¥° int ç±»åï¼é£ä¹ååºååç»æå°±æ¯ 0ã\n     * static åéå ä¸ºä¸å±äºä»»ä½å¯¹è±¡(object)ï¼æä»¥æ è®ºææ²¡æ transient å³é®å­ä¿®é¥°ï¼åä¸ä¼è¢«åºååã\n\n\n 17. # åå°ãâ­â­ãé¢è¯å®å¯è½ä¼é®ä½ ä»ä¹æ¯åå°ï¼å®çä¼ç¼ºç¹æ¯ä»ä¹ï¼æåªäºåºç¨åºæ¯ã\n     \n     éè¿åå°ä½ å¯ä»¥è·åä»»æä¸ä¸ªç±»çææå±æ§åæ¹æ³ï¼ä½ è¿å¯ä»¥è°ç¨è¿äºæ¹æ³åå±æ§ã\n     \n     åå°æºå¶ä¼ç¼ºç¹\n     \n     * ä¼ç¹ ï¼ å¯ä»¥è®©å±ä»¬çä»£ç æ´å çµæ´»ãä¸ºåç§æ¡æ¶æä¾å¼ç®±å³ç¨çåè½æä¾äºä¾¿å©\n     * ç¼ºç¹ ï¼è®©æä»¬å¨è¿è¡æ¶æäºåææä½ç±»çè½åï¼è¿åæ ·ä¹å¢å äºå®å¨é®é¢ãæ¯å¦å¯ä»¥æ è§æ³ååæ°çå®å¨æ£æ¥ï¼æ³ååæ°çå®å¨æ£æ¥åçå¨ç¼è¯æ¶ï¼ãå¦å¤ï¼åå°çæ§è½ä¹è¦ç¨å·®ç¹ï¼ä¸è¿ï¼å¯¹äºæ¡æ¶æ¥è¯´å®éæ¯å½±åä¸å¤§çã\n\n\n 18. # listãsetã map çåºå«ããâ­â­ã\n     \n     setç³»åéåï¼æ·»å çåç´ æ¯æ åºï¼ä¸éå¤ï¼æ ç´¢å¼çã\n     \n     * hashset:æ·»å çåç´ æ¯æ åºï¼ä¸éå¤ï¼æ ç´¢å¼çã\n       * linkedhashset:æ·»å çåç´ æ¯æåºï¼ä¸éå¤ï¼æ ç´¢å¼çã\n     * treeset:ä¸éå¤ï¼æ ç´¢å¼ï¼æç§å¤§å°é»è®¤ååºæåº!!\n     \n     listç³»åéåï¼æ·»å çåç´ æ¯æåºï¼å¯éå¤ï¼æç´¢å¼ã\n     \n     * arraylistï¼æ·»å çåç´ æ¯æåºï¼å¯éå¤ï¼æç´¢å¼ã\n     * linkedlistï¼æ·»å çåç´ æ¯æåºï¼å¯éå¤ï¼æç´¢å¼ã\n     \n     mapéåçç¹ç¹ï¼ 1.mapéåçç¹ç¹é½æ¯ç±é®å³å®çã 2.mapéåçé®æ¯æ åº,ä¸éå¤çï¼æ ç´¢å¼çã mapéååé¢éå¤çé®å¯¹åºçåç´ ä¼è¦çåé¢çæ´ä¸ªåç´ ï¼ 3.mapéåçå¼æ è¦æ±ã 4.mapéåçé®å¼å¯¹é½å¯ä»¥ä¸ºnullã\n\n\n 19. # arraylist å linkedlist çåºå«ããâ­â­â­â­ãï¼ç­æ¸æ¥æ¯ä¸ªåå«éç¨ä»ä¹æ°æ®ç»æï¼å¯¹æ¯ç¸åºçä¼ç¹åç¼ºç¹ã\n     \n     arraylist:ï¼åºå±åºäºæ°ç»å­å¨æ°æ®çï¼æ¥è¯¢å¿«ï¼å¢å æ¢ï¼ï¼\n     \n     linkedlistï¼åºå±æ¯åºäºåé¾è¡¨çï¼å¢å æ¯è¾å¿«ï¼æ¥è¯¢æ¢ï¼ï¼ linkedlistæ¯æ¯æåé¾è¡¨ï¼å®ä½ååçåç´ æ¯éå¸¸å¿«çï¼å¢å é¦å°¾çåç´ ä¹æ¯æå¿«ç\n\n\n 20. # æ¯è¾ hashsetãlinkedhashset å treeset ä¸èçå¼åããâ­â­â­ã\n     \n     å¦æå¸æåç´ å¯ä»¥éå¤ï¼åæç´¢å¼ï¼æ¥è¯¢è¦å¿«ç¨arraylistéåãï¼ç¨çæå¤ï¼ å¦æå¸æåç´ å¯ä»¥éå¤ï¼åæç´¢å¼ï¼å¢å è¦å¿«è¦ç¨linkedlistéåãï¼éåæ¥è¯¢åç´ æ¯è¾å°çæåµï¼ç»å¸¸è¦é¦å°¾æä½åç´ çæåµï¼ å¦æå¸æå¢å æ¹æ¥é½å¾å¿«ï¼ä½æ¯åç´ ä¸éå¤ä»¥åæ åºæ ç´¢å¼ï¼é£ä¹ç¨hashsetéåã å¦æå¸æå¢å æ¹æ¥é½å¾å¿«ä¸æåºï¼ä½æ¯åç´ ä¸éå¤ä»¥åæ ç´¢å¼ï¼é£ä¹ç¨linkedhashsetéåã\n     \n     # treeset\n     \n     åºå±åºäºtreemapå®ç°\n\n\n 21. # hashmap å¤çº¿ç¨æä½å¯¼è´æ­»å¾ªç¯é®é¢ããâ­â­â­ãjdk 1.8 åè§£å³äºè¿ä¸ªé®é¢ï¼ä½æ¯è¿æ¯ä¸å»ºè®®å¨å¤çº¿ç¨ä¸ä½¿ç¨ hashmap,å ä¸ºå¤çº¿ç¨ä¸ä½¿ç¨ hashmap è¿æ¯ä¼å­å¨å¶ä»é®é¢æ¯å¦æ°æ®ä¸¢å¤±ãå¹¶åç¯å¢ä¸æ¨èä½¿ç¨ concurrenthashmap ã\n\n\n 22. # hashmap çé¿åº¦ä¸ºä»ä¹æ¯ 2 çå¹æ¬¡æ¹ããâ­â­â­ãä¸»è¦æ¯èèå°äºå¯¹è¿ç®æççæåã\n\n\n 23. # hashmapãhashtableãä»¥å concurrenthashmap çåºå«ããâ­â­â­â­â­ã\n     \n     1. çº¿ç¨æ¯å¦å®å¨ï¼ hashmap æ¯éçº¿ç¨å®å¨çï¼hashtable æ¯çº¿ç¨å®å¨ç,å ä¸º hashtable åé¨çæ¹æ³åºæ¬é½ç»è¿synchronized ä¿®é¥°ãï¼å¦æä½ è¦ä¿è¯çº¿ç¨å®å¨çè¯å°±ä½¿ç¨ concurrenthashmap å§ï¼ï¼ï¼\n     2. æçï¼ å ä¸ºçº¿ç¨å®å¨çé®é¢ï¼hashmap è¦æ¯ hashtable æçé«ä¸ç¹ãå¦å¤ï¼hashtable åºæ¬è¢«æ·æ±°ï¼ä¸è¦å¨ä»£ç ä¸­ä½¿ç¨å®ï¼\n     3. å¯¹ null key å null value çæ¯æï¼ hashmap å¯ä»¥å­å¨ null ç key å valueï¼ä½ null ä½ä¸ºé®åªè½æä¸ä¸ªï¼null ä½ä¸ºå¼å¯ä»¥æå¤ä¸ªï¼hashtable ä¸åè®¸æ null é®å null å¼ï¼å¦åä¼æåº nullpointerexceptionã\n     4. åå§å®¹éå¤§å°åæ¯æ¬¡æ©åå®¹éå¤§å°çä¸å ï¼ â  åå»ºæ¶å¦æä¸æå®å®¹éåå§å¼ï¼hashtable é»è®¤çåå§å¤§å°ä¸º 11ï¼ä¹åæ¯æ¬¡æ©åï¼å®¹éåä¸ºåæ¥ç 2n+1ãhashmap é»è®¤çåå§åå¤§å°ä¸º 16ãä¹åæ¯æ¬¡æ©åï¼å®¹éåä¸ºåæ¥ç 2 åãâ¡ åå»ºæ¶å¦æç»å®äºå®¹éåå§å¼ï¼é£ä¹ hashtable ä¼ç´æ¥ä½¿ç¨ä½ ç»å®çå¤§å°ï¼è hashmap ä¼å°å¶æ©åä¸º 2 çå¹æ¬¡æ¹å¤§å°ï¼hashmap ä¸­çtablesizefor()æ¹æ³ä¿è¯ï¼ä¸é¢ç»åºäºæºä»£ç ï¼ãä¹å°±æ¯è¯´ hashmap æ»æ¯ä½¿ç¨ 2 çå¹ä½ä¸ºåå¸è¡¨çå¤§å°,åé¢ä¼ä»ç»å°ä¸ºä»ä¹æ¯ 2 çå¹æ¬¡æ¹ã\n     5. åºå±æ°æ®ç»æï¼ jdk1.8 ä»¥åç hashmap å¨è§£å³åå¸å²çªæ¶æäºè¾å¤§çååï¼å½é¾è¡¨é¿åº¦å¤§äºéå¼ï¼é»è®¤ä¸º 8ï¼ï¼å°é¾è¡¨è½¬æ¢æçº¢é»æ åä¼å¤æ­ï¼å¦æå½åæ°ç»çé¿åº¦å°äº 64ï¼é£ä¹ä¼éæ©åè¿è¡æ°ç»æ©å®¹ï¼èä¸æ¯è½¬æ¢ä¸ºçº¢é»æ ï¼æ¶ï¼å°é¾è¡¨è½¬åä¸ºçº¢é»æ ï¼ä»¥åå°æç´¢æ¶é´ãhashtable æ²¡æè¿æ ·çæºå¶ã\n     \n     concurrenthashmap å hashtable çåºå«ä¸»è¦ä½ç°å¨å®ç°çº¿ç¨å®å¨çæ¹å¼ä¸ä¸åã\n     \n     * åºå±æ°æ®ç»æï¼ jdk1.7 ç concurrenthashmap åºå±éç¨ åæ®µçæ°ç»+é¾è¡¨ å®ç°ï¼jdk1.8 éç¨çæ°æ®ç»æè· hashmap1.8 çç»æä¸æ ·ï¼æ°ç»+é¾è¡¨/çº¢é»äºåæ ãhashtable å jdk1.8 ä¹åç hashmap çåºå±æ°æ®ç»æç±»ä¼¼é½æ¯éç¨ æ°ç»+é¾è¡¨ çå½¢å¼ï¼æ°ç»æ¯ hashmap çä¸»ä½ï¼é¾è¡¨åæ¯ä¸»è¦ä¸ºäºè§£å³åå¸å²çªèå­å¨çï¼\n     * å®ç°çº¿ç¨å®å¨çæ¹å¼ï¼éè¦ï¼ï¼ â  å¨ jdk1.7 çæ¶åï¼concurrenthashmapï¼åæ®µéï¼ å¯¹æ´ä¸ªæ¡¶æ°ç»è¿è¡äºåå²åæ®µ(segment) ï¼æ¯ä¸æéåªéå®¹å¨å¶ä¸­ä¸é¨åæ°æ®ï¼å¤çº¿ç¨è®¿é®å®¹å¨éä¸åæ°æ®æ®µçæ°æ®ï¼å°±ä¸ä¼å­å¨éç«äºï¼æé«å¹¶åè®¿é®çã å°äº jdk1.8 çæ¶åå·²ç»æå¼äº segment çæ¦å¿µï¼èæ¯ç´æ¥ç¨ node æ°ç»+é¾è¡¨+çº¢é»æ çæ°æ®ç»ææ¥å®ç°ï¼å¹¶åæ§å¶ä½¿ç¨ synchronized å cas æ¥æä½ãï¼jdk1.6 ä»¥å å¯¹ synchronized éåäºå¾å¤ä¼åï¼ æ´ä¸ªçèµ·æ¥å°±åæ¯ä¼åè¿ä¸çº¿ç¨å®å¨ç hashmapï¼è½ç¶å¨ jdk1.8 ä¸­è¿è½çå° segment çæ°æ®ç»æï¼ä½æ¯å·²ç»ç®åäºå±æ§ï¼åªæ¯ä¸ºäºå¼å®¹æ§çæ¬ï¼â¡ hashtable(åä¸æé) : ä½¿ç¨ synchronized æ¥ä¿è¯çº¿ç¨å®å¨ï¼æçéå¸¸ä½ä¸ãå½ä¸ä¸ªçº¿ç¨è®¿é®åæ­¥æ¹æ³æ¶ï¼å¶ä»çº¿ç¨ä¹è®¿é®åæ­¥æ¹æ³ï¼å¯è½ä¼è¿å¥é»å¡æè½®è¯¢ç¶æï¼å¦ä½¿ç¨ put æ·»å åç´ ï¼å¦ä¸ä¸ªçº¿ç¨ä¸è½ä½¿ç¨ put æ·»å åç´ ï¼ä¹ä¸è½ä½¿ç¨ getï¼ç«äºä¼è¶æ¥è¶æ¿çæçè¶ä½ã\n\n\n 24. # queue ä¸ deque çåºå«\n     \n     queue æ¯åç«¯éåï¼åªè½ä»ä¸ç«¯æå¥åç´ ï¼å¦ä¸ç«¯å é¤åç´ ï¼å®ç°ä¸ä¸è¬éµå¾ª åè¿ååºï¼fifoï¼ è§åã\n     \n     queue æ©å±äº collection çæ¥å£ï¼æ ¹æ® å ä¸ºå®¹éé®é¢èå¯¼è´æä½å¤±è´¥åå¤çæ¹å¼çä¸å å¯ä»¥åä¸ºä¸¤ç±»æ¹æ³: ä¸ç§å¨æä½å¤±è´¥åä¼æåºå¼å¸¸ï¼å¦ä¸ç§åä¼è¿åç¹æ®å¼ã\n     \n     | queue æ¥å£ | æåºå¼å¸¸ | è¿åç¹æ®å¼ | | ------------ | --------- | ---------- | | æå¥éå°¾ | add(e e) | offer(e e) | | å é¤éé¦ | remove() | poll() | | æ¥è¯¢éé¦åç´  | element() | peek() |\n     \n     dequeå®ç°äºqueueæ¥å£æ¯åç«¯éåï¼å¨éåçä¸¤ç«¯åå¯ä»¥æå¥æå é¤åç´ ã\n     \n     deque æ©å±äº queue çæ¥å£, å¢å äºå¨éé¦åéå°¾è¿è¡æå¥åå é¤çæ¹æ³ï¼åæ ·æ ¹æ®å¤±è´¥åå¤çæ¹å¼çä¸ååä¸ºä¸¤ç±»ï¼\n     \n     | deque æ¥å£ | æåºå¼å¸¸ | è¿åç¹æ®å¼ | | ------------ | ------------- | --------------- | | æå¥éé¦ | addfirst(e e) | offerfirst(e e) | | æå¥éå°¾ | addlast(e e) | offerlast(e e) | | å é¤éé¦ | removefirst() | pollfirst() | | å é¤éå°¾ | removelast() | polllast() | | æ¥è¯¢éé¦åç´  | getfirst() | peekfirst() | | æ¥è¯¢éå°¾åç´  | getlast() | peeklast() |\n     \n     äºå®ä¸ï¼deque è¿æä¾æ push() å pop() ç­å¶ä»æ¹æ³ï¼å¯ç¨äºæ¨¡ææ ã",charsets:{cjk:!0},lastUpdated:"2022/04/07, 20:28:38",lastUpdatedTimestamp:1649334518e3},{title:"JVM",frontmatter:{title:"JVM",date:"2022-04-10T11:41:43.000Z",permalink:"/pages/649cb6/"},regularPath:"/01.%E5%9F%BA%E7%A1%80/01.%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/04.JVM.html",relativePath:"01.åºç¡/01.åºç¡ç¥è¯/04.JVM.md",key:"v-aa01d20a",path:"/pages/649cb6/",headers:[{level:2,title:"1 JVMåå­ç»æ",slug:"_1-jvmåå­ç»æ",normalizedTitle:"1 jvmåå­ç»æ",charIndex:2},{level:3,title:"1.1 è¿è¡æ¶æ°æ®åº",slug:"_1-1-è¿è¡æ¶æ°æ®åº",normalizedTitle:"1.1 è¿è¡æ¶æ°æ®åº",charIndex:425},{level:4,title:"çº¿ç¨å±äº«",slug:"çº¿ç¨å±äº«",normalizedTitle:"çº¿ç¨å±äº«",charIndex:555},{level:4,title:"çº¿ç¨éç¦»ï¼çº¿ç¨ç§æï¼",slug:"çº¿ç¨éç¦»-çº¿ç¨ç§æ",normalizedTitle:"çº¿ç¨éç¦»ï¼çº¿ç¨ç§æï¼",charIndex:2651},{level:3,title:"1.2 HotSpotèææºå¯¹è±¡æ¢ç§",slug:"_1-2-hotspotèææºå¯¹è±¡æ¢ç§",normalizedTitle:"1.2 hotspotèææºå¯¹è±¡æ¢ç§",charIndex:4633},{level:4,title:"å¯¹è±¡çåå»º",slug:"å¯¹è±¡çåå»º",normalizedTitle:"å¯¹è±¡çåå»º",charIndex:4655},{level:5,title:"Step1:ç±»å è½½æ£æ¥",slug:"step1-ç±»å è½½æ£æ¥",normalizedTitle:"step1:ç±»å è½½æ£æ¥",charIndex:4666},{level:5,title:"Step2:åéåå­",slug:"step2-åéåå­",normalizedTitle:"step2:åéåå­",charIndex:4782},{level:5,title:"Step3:åå§åé¶å¼",slug:"step3-åå§åé¶å¼",normalizedTitle:"step3:åå§åé¶å¼",charIndex:5438},{level:5,title:"Step4:è®¾ç½®å¯¹è±¡å¤´",slug:"step4-è®¾ç½®å¯¹è±¡å¤´",normalizedTitle:"step4:è®¾ç½®å¯¹è±¡å¤´",charIndex:5553},{level:5,title:"Step5:æ§è¡ init æ¹æ³",slug:"step5-æ§è¡-init-æ¹æ³",normalizedTitle:"step5:æ§è¡ init æ¹æ³",charIndex:5700},{level:4,title:"å¯¹è±¡çåå­å¸å±",slug:"å¯¹è±¡çåå­å¸å±",normalizedTitle:"å¯¹è±¡çåå­å¸å±",charIndex:5897},{level:5,title:"Header",slug:"header",normalizedTitle:"header",charIndex:5949},{level:5,title:"å®ä¾æ°æ®é¨å",slug:"å®ä¾æ°æ®é¨å",normalizedTitle:"å®ä¾æ°æ®é¨å",charIndex:6395},{level:5,title:"å¯¹é½å¡«å",slug:"å¯¹é½å¡«å",normalizedTitle:"å¯¹é½å¡«å",charIndex:5983},{level:4,title:"å¯¹è±¡çè®¿é®å®ä½",slug:"å¯¹è±¡çè®¿é®å®ä½",normalizedTitle:"å¯¹è±¡çè®¿é®å®ä½",charIndex:6779},{level:5,title:"å¥æè®¿é®",slug:"å¥æè®¿é®",normalizedTitle:"å¥æè®¿é®",charIndex:6951},{level:5,title:"ç´æ¥æéè®¿é®",slug:"ç´æ¥æéè®¿é®",normalizedTitle:"ç´æ¥æéè®¿é®",charIndex:7050},{level:2,title:"2 JVMåå¾åæ¶",slug:"_2-jvmåå¾åæ¶",normalizedTitle:"2 jvmåå¾åæ¶",charIndex:7304},{level:3,title:"2.1 åå¾åæ¶æºå¶",slug:"_2-1-åå¾åæ¶æºå¶",normalizedTitle:"2.1 åå¾åæ¶æºå¶",charIndex:7348},{level:3,title:"2.2 å¯¹è±¡æ¯å¦æ­»äº¡çå¤æ­",slug:"_2-2-å¯¹è±¡æ¯å¦æ­»äº¡çå¤æ­",normalizedTitle:"2.2 å¯¹è±¡æ¯å¦æ­»äº¡çå¤æ­",charIndex:7924},{level:4,title:"å¼ç¨è®¡æ°å¨",slug:"å¼ç¨è®¡æ°å¨",normalizedTitle:"å¼ç¨è®¡æ°å¨",charIndex:7998},{level:4,title:"å¯è¾¾æ§åæ",slug:"å¯è¾¾æ§åæ",normalizedTitle:"å¯è¾¾æ§åæ",charIndex:8149},{level:3,title:"2.3 å¼ç¨",slug:"_2-3-å¼ç¨",normalizedTitle:"2.3 å¼ç¨",charIndex:8703},{level:3,title:"2.4 åå¾æ¶éç®æ³",slug:"_2-4-åå¾æ¶éç®æ³",normalizedTitle:"2.4 åå¾æ¶éç®æ³",charIndex:9822},{level:4,title:"æ è®°-æ¸é¤ç®æ³",slug:"æ è®°-æ¸é¤ç®æ³",normalizedTitle:"æ è®°-æ¸é¤ç®æ³",charIndex:9836},{level:4,title:"æ è®°-å¤å¶ç®æ³",slug:"æ è®°-å¤å¶ç®æ³",normalizedTitle:"æ è®°-å¤å¶ç®æ³",charIndex:9989},{level:4,title:"æ è®°-æ´çç®æ³",slug:"æ è®°-æ´çç®æ³",normalizedTitle:"æ è®°-æ´çç®æ³",charIndex:10121},{level:4,title:"åä»£æ¶éç®æ³",slug:"åä»£æ¶éç®æ³",normalizedTitle:"åä»£æ¶éç®æ³",charIndex:2067},{level:3,title:"2.5 åå¾æ¶éå¨",slug:"_2-5-åå¾æ¶éå¨",normalizedTitle:"2.5 åå¾æ¶éå¨",charIndex:10469},{level:4,title:"Serial æ¶éå¨",slug:"serial-æ¶éå¨",normalizedTitle:"serial æ¶éå¨",charIndex:10616},{level:4,title:"ParNew æ¶éå¨",slug:"parnew-æ¶éå¨",normalizedTitle:"parnew æ¶éå¨",charIndex:10816},{level:4,title:"Parallel Scavenge æ¶éå¨",slug:"parallel-scavenge-æ¶éå¨",normalizedTitle:"parallel scavenge æ¶éå¨",charIndex:11001},{level:4,title:"CMS æ¶éå¨",slug:"cms-æ¶éå¨",normalizedTitle:"cms æ¶éå¨",charIndex:10965},{level:4,title:"G1 æ¶éå¨",slug:"g1-æ¶éå¨",normalizedTitle:"g1 æ¶éå¨",charIndex:11916},{level:4,title:"ZGC æ¶éå¨",slug:"zgc-æ¶éå¨",normalizedTitle:"zgc æ¶éå¨",charIndex:12654},{level:2,title:"3 ç±»å è½½çè¿ç¨",slug:"_3-ç±»å è½½çè¿ç¨",normalizedTitle:"3 ç±»å è½½çè¿ç¨",charIndex:12759},{level:3,title:"3.1 å è½½",slug:"_3-1-å è½½",normalizedTitle:"3.1 å è½½",charIndex:12860},{level:3,title:"3.2 è¿æ¥",slug:"_3-2-è¿æ¥",normalizedTitle:"3.2 è¿æ¥",charIndex:13098},{level:4,title:"éªè¯",slug:"éªè¯",normalizedTitle:"éªè¯",charIndex:12807},{level:4,title:"åå¤",slug:"åå¤",normalizedTitle:"åå¤",charIndex:9567},{level:4,title:"è§£æ",slug:"è§£æ",normalizedTitle:"è§£æ",charIndex:4750},{level:3,title:"3.3 åå§å",slug:"_3-3-åå§å",normalizedTitle:"3.3 åå§å",charIndex:14403},{level:3,title:"3.4 ç»æçå½å¨æ",slug:"_3-4-ç»æçå½å¨æ",normalizedTitle:"3.4 ç»æçå½å¨æ",charIndex:14629},{level:2,title:"4 ç±»å è½½å¨",slug:"_4-ç±»å è½½å¨",normalizedTitle:"4 ç±»å è½½å¨",charIndex:14758},{level:3,title:"4.1 å¯å¨ç±»/å¼å¯¼ç±»ï¼Bootstrap ClassLoader",slug:"_4-1-å¯å¨ç±»-å¼å¯¼ç±»-bootstrap-classloader",normalizedTitle:"4.1 å¯å¨ç±»/å¼å¯¼ç±»ï¼bootstrap classloader",charIndex:15167},{level:3,title:"4.2 æ©å±ç±»å è½½å¨ï¼Extension ClassLoader",slug:"_4-2-æ©å±ç±»å è½½å¨-extension-classloader",normalizedTitle:"4.2 æ©å±ç±»å è½½å¨ï¼extension classloader",charIndex:15472},{level:3,title:"4.3 åºç¨ç¨åºç±»å è½½å¨ï¼Application Classloader",slug:"_4-3-åºç¨ç¨åºç±»å è½½å¨-application-classloader",normalizedTitle:"4.3 åºç¨ç¨åºç±»å è½½å¨ï¼application classloader",charIndex:15714},{level:3,title:"4.4 èªå®ä¹å è½½å¨",slug:"_4-4-èªå®ä¹å è½½å¨",normalizedTitle:"4.4 èªå®ä¹å è½½å¨",charIndex:15994},{level:2,title:"5 å è½½æºå¶",slug:"_5-å è½½æºå¶",normalizedTitle:"5 å è½½æºå¶",charIndex:16128},{level:3,title:"5.1 åäº²å§æ´¾æ¨¡å",slug:"_5-1-åäº²å§æ´¾æ¨¡å",normalizedTitle:"5.1 åäº²å§æ´¾æ¨¡å",charIndex:16231},{level:3,title:"5.2 ååå§æ´¾æºå¶",slug:"_5-2-ååå§æ´¾æºå¶",normalizedTitle:"5.2 ååå§æ´¾æºå¶",charIndex:16800},{level:2,title:"6 JVMåæ°",slug:"_6-jvmåæ°",normalizedTitle:"6 jvmåæ°",charIndex:17370},{level:3,title:"6.1 å åå­ç¸å³",slug:"_6-1-å åå­ç¸å³",normalizedTitle:"6.1 å åå­ç¸å³",charIndex:17382},{level:4,title:"æ¾å¼æå®å åå­âXmså-Xmx",slug:"æ¾å¼æå®å åå­-xmså-xmx",normalizedTitle:"æ¾å¼æå®å åå­âxmså-xmx",charIndex:17492},{level:4,title:"æ¾å¼æ°çä»£åå­(Young Generation)",slug:"æ¾å¼æ°çä»£åå­-young-generation",normalizedTitle:"æ¾å¼æ°çä»£åå­(young generation)",charIndex:17803},{level:4,title:"æ¾å¼æå®æ°¸ä¹ä»£/åç©ºé´çå¤§å°",slug:"æ¾å¼æå®æ°¸ä¹ä»£-åç©ºé´çå¤§å°",normalizedTitle:"æ¾å¼æå®æ°¸ä¹ä»£/åç©ºé´çå¤§å°",charIndex:18604},{level:3,title:"6.2 åå¾æ¶éç¸å³",slug:"_6-2-åå¾æ¶éç¸å³",normalizedTitle:"6.2 åå¾æ¶éç¸å³",charIndex:19135},{level:4,title:"åå¾åæ¶å¨",slug:"åå¾åæ¶å¨",normalizedTitle:"åå¾åæ¶å¨",charIndex:8794},{level:4,title:"GCè®°å½",slug:"gcè®°å½",normalizedTitle:"gcè®°å½",charIndex:19306},{level:2,title:"7 é¢è¯é®é¢",slug:"_7-é¢è¯é®é¢",normalizedTitle:"7 é¢è¯é®é¢",charIndex:19541}],headersStr:"1 JVMåå­ç»æ 1.1 è¿è¡æ¶æ°æ®åº çº¿ç¨å±äº« çº¿ç¨éç¦»ï¼çº¿ç¨ç§æï¼ 1.2 HotSpotèææºå¯¹è±¡æ¢ç§ å¯¹è±¡çåå»º Step1:ç±»å è½½æ£æ¥ Step2:åéåå­ Step3:åå§åé¶å¼ Step4:è®¾ç½®å¯¹è±¡å¤´ Step5:æ§è¡ init æ¹æ³ å¯¹è±¡çåå­å¸å± Header å®ä¾æ°æ®é¨å å¯¹é½å¡«å å¯¹è±¡çè®¿é®å®ä½ å¥æè®¿é® ç´æ¥æéè®¿é® 2 JVMåå¾åæ¶ 2.1 åå¾åæ¶æºå¶ 2.2 å¯¹è±¡æ¯å¦æ­»äº¡çå¤æ­ å¼ç¨è®¡æ°å¨ å¯è¾¾æ§åæ 2.3 å¼ç¨ 2.4 åå¾æ¶éç®æ³ æ è®°-æ¸é¤ç®æ³ æ è®°-å¤å¶ç®æ³ æ è®°-æ´çç®æ³ åä»£æ¶éç®æ³ 2.5 åå¾æ¶éå¨ Serial æ¶éå¨ ParNew æ¶éå¨ Parallel Scavenge æ¶éå¨ CMS æ¶éå¨ G1 æ¶éå¨ ZGC æ¶éå¨ 3 ç±»å è½½çè¿ç¨ 3.1 å è½½ 3.2 è¿æ¥ éªè¯ åå¤ è§£æ 3.3 åå§å 3.4 ç»æçå½å¨æ 4 ç±»å è½½å¨ 4.1 å¯å¨ç±»/å¼å¯¼ç±»ï¼Bootstrap ClassLoader 4.2 æ©å±ç±»å è½½å¨ï¼Extension ClassLoader 4.3 åºç¨ç¨åºç±»å è½½å¨ï¼Application Classloader 4.4 èªå®ä¹å è½½å¨ 5 å è½½æºå¶ 5.1 åäº²å§æ´¾æ¨¡å 5.2 ååå§æ´¾æºå¶ 6 JVMåæ° 6.1 å åå­ç¸å³ æ¾å¼æå®å åå­âXmså-Xmx æ¾å¼æ°çä»£åå­(Young Generation) æ¾å¼æå®æ°¸ä¹ä»£/åç©ºé´çå¤§å° 6.2 åå¾æ¶éç¸å³ åå¾åæ¶å¨ GCè®°å½ 7 é¢è¯é®é¢",content:'# 1 JVMåå­ç»æ\n\nå¯¹äºä»äºCãC++ç¨åºå¼åçå¼åäººåæ¥è¯´ï¼å¨åå­ç®¡çé¢åï¼ä»ä»¬æ¢æ¯æ¥ææé«æåçâçå¸âï¼åæ¯ä»äºæåºç¡å·¥ä½çå³å¨äººæ°ââæ¢æ¥ææ¯ä¸ä¸ªå¯¹è±¡çâæææâï¼åæè´çæ¯ä¸ä¸ªå¯¹è±¡çå½ä»å¼å§å°ç»ç»çç»´æ¤è´£ä»»ã å¯¹äºJavaç¨åºåæ¥è¯´ï¼å¨èææºèªå¨åå­ç®¡çæºå¶çå¸®å©ä¸ï¼ä¸åéè¦ä¸ºæ¯ä¸ä¸ªnewæä½å»åéå¯¹çdelete/freeä»£ç ï¼ä¸å®¹æåºç°åå­æ³æ¼ååå­æº¢åºé®é¢ï¼çèµ·æ¥ç±èææºç®¡çåå­ä¸åé½å¾ç¾å¥½ãä¸è¿ï¼ä¹æ­£æ¯å ä¸ºJavaç¨åºåææ§å¶åå­çæåäº¤ç»äºJavaèææºï¼ä¸æ¦åºç°åå­æ³æ¼åæº¢åºæ¹é¢çé®é¢ï¼å¦æä¸äºè§£èææºæ¯ææ ·ä½¿ç¨åå­çï¼é£ææ¥éè¯¯ãä¿®æ­£é®é¢å°ä¼æä¸ºä¸é¡¹å¼å¸¸è°é¾çå·¥ä½ã\n\n\n\nJVMåå«ä¸¤ä¸ªå­ç³»ç»åä¸¤ä¸ªç»ä»¶ï¼å­ç³»ç»ä¸º Calss Loader(ç±»è£è½½)åExecution engine(æ§è¡å¼æ)ï¼ç»ä»¶ä¸ºRuntime data areaï¼è¿è¡æ¶æ°æ®åºï¼å Native Interface(æ¬å°æ¥å£)ã\n\n\n# 1.1 è¿è¡æ¶æ°æ®åº\n\nJavaèææºå¨æ§è¡Javaç¨åºçè¿ç¨ä¸­ä¼æå®æç®¡ççåå­ååä¸ºè¥å¹²ä¸ªä¸åçæ°æ®åºåã è¿äºåºåæåèªçç¨éï¼ ä»¥ååå»ºåéæ¯çæ¶é´ï¼ æçåºåéçèææºè¿ç¨çå¯å¨èä¸ç´å­å¨ï¼ æäºåºååæ¯ä¾èµç¨æ·çº¿ç¨çå¯å¨åç»æèå»ºç«åéæ¯ã\n\n# çº¿ç¨å±äº«\n\n * æ¹æ³åº\n   \n   æ¹æ³åºï¼Method Areaï¼ä¸Javaå ä¸æ ·ï¼æ¯åä¸ªçº¿ç¨å±äº«çåå­åºåï¼**å®ç¨äºå­å¨å·²è¢«èææºå è½½çç±»ä¿¡æ¯ãå¸¸éãéæåéãå³æ¶ç¼è¯å¨ç¼è¯åçä»£ç ç­æ°æ®ã**è½ç¶Javaèææºè§èææ¹æ³åºæè¿°ä¸ºå çä¸ä¸ªé»è¾é¨åï¼ä½æ¯å®å´æä¸ä¸ªå«åå«åNon-Heapï¼éå ï¼ï¼ç®çåºè¯¥æ¯ä¸Javaå åºåå¼æ¥ã\n   \n   å¯¹äºä¹ æ¯å¨HotSpotèææºä¸å¼ååé¨ç½²ç¨åºçå¼åèæ¥è¯´ï¼å¾å¤äººæ¿æææ¹æ³åºç§°ä¸º==âæ°¸ä¹ä»£â==ï¼Permanent Generationï¼ï¼æ¬è´¨ä¸ä¸¤èå¹¶ä¸ç­ä»·ï¼ä»ä»æ¯å ä¸ºHotSpotèææºçè®¾è®¡å¢ééæ©æGCåä»£æ¶éæ©å±è³æ¹æ³åºï¼æèè¯´ä½¿ç¨æ°¸ä¹ä»£æ¥å®ç°æ¹æ³åºèå·²ã\n   \n   Javaèææºè§èå¯¹è¿ä¸ªåºåçéå¶éå¸¸å®½æ¾ï¼é¤äºåJavaå ä¸æ ·ä¸éè¦è¿ç»­çåå­åå¯ä»¥éæ©åºå®å¤§å°æèå¯æ©å±å¤ï¼è¿å¯ä»¥éæ©ä¸å®ç°åå¾æ¶éãç¸å¯¹èè¨ï¼åå¾æ¶éè¡ä¸ºå¨è¿ä¸ªåºåæ¯æ¯è¾å°åºç°çï¼ä½å¹¶éæ°æ®è¿å¥äºæ¹æ³åºå°±å¦æ°¸ä¹ä»£çåå­ä¸æ ·âæ°¸ä¹âå­å¨äº==ãè¿ä¸ªåºåçåå­åæ¶ç®æ ä¸»è¦æ¯éå¯¹å¸¸éæ± çåæ¶åå¯¹ç±»åçå¸è½½ï¼==ä¸è¬æ¥è¯´è¿ä¸ªåºåçåæ¶âæç»©âæ¯è¾é¾ä»¥ä»¤äººæ»¡æï¼å°¤å¶æ¯ç±»åçå¸è½½ï¼æ¡ä»¶ç¸å½èå»ï¼ä½æ¯è¿é¨ååºåçåæ¶ç¡®å®æ¯æå¿è¦çã\n   \n   æ ¹æ®Javaèææºè§èçè§å®ï¼å½æ¹æ³åºæ æ³æ»¡è¶³åå­åééæ±æ¶ï¼å°æåºOutOfMemoryErrorå¼å¸¸ã\n   \n   æ¹æ³åºææ¶è¢«ç§°ä¸ºæä¹ä»£ï¼PermGenï¼ã\n   \n   > æ¹æ³åº -> å­æ¾å·²è¢«èææºå è½½çç±»ä¿¡æ¯ãå¸¸éãéæåéãå³æ¶ç¼è¯å¨ç¼è¯åçä»£ç ç­æ°æ®\n\n * è¿è¡æ¶å¸¸éæ± \n   \n   ==è¿è¡æ¶å¸¸éæ± æ¯æ¹æ³åºçä¸é¨å==ãClass æä»¶ä¸­é¤äºæç±»ççæ¬ãå­æ®µãæ¹æ³ãæ¥å£ç­æè¿°ä¿¡æ¯å¤ï¼è¿æå¸¸éæ± è¡¨ï¼ç¨äºå­æ¾ç¼è¯æçæçåç§å­é¢éåç¬¦å·å¼ç¨ï¼\n   \n   æ¢ç¶è¿è¡æ¶å¸¸éæ± æ¯æ¹æ³åºçä¸é¨åï¼èªç¶åå°æ¹æ³åºåå­çéå¶ï¼å½å¸¸éæ± æ æ³åç³è¯·å°åå­æ¶ä¼æåº OutOfMemoryError éè¯¯ã\n   \n   >  1. JDK1.7 ä¹åè¿è¡æ¶å¸¸éæ± é»è¾åå«å­ç¬¦ä¸²å¸¸éæ± å­æ¾å¨æ¹æ³åº, æ­¤æ¶ hotspot èææºå¯¹æ¹æ³åºçå®ç°ä¸ºæ°¸ä¹ä»£\n\n>  2. JDK1.7 å­ç¬¦ä¸²å¸¸éæ± è¢«ä»æ¹æ³åºæ¿å°äºå ä¸­, è¿éæ²¡ææå°è¿è¡æ¶å¸¸éæ± ,ä¹å°±æ¯è¯´å­ç¬¦ä¸²å¸¸éæ± è¢«åç¬æ¿å°å ,è¿è¡æ¶å¸¸éæ± å©ä¸çä¸è¥¿è¿å¨æ¹æ³åº, ä¹å°±æ¯ hotspot ä¸­çæ°¸ä¹ä»£ ã\n>  3. JDK1.8 hotspot ç§»é¤äºæ°¸ä¹ä»£ç¨åç©ºé´(Metaspace)åèä»£ä¹, è¿æ¶åå­ç¬¦ä¸²å¸¸éæ± è¿å¨å , è¿è¡æ¶å¸¸éæ± è¿å¨æ¹æ³åº, åªä¸è¿æ¹æ³åºçå®ç°ä»æ°¸ä¹ä»£åæäºåç©ºé´(Metaspace)\n\n * å \n   \n   å¯¹äºå¤§å¤æ°åºç¨æ¥è¯´ï¼Javaå ï¼Java Heapï¼æ¯Javaèææºæç®¡ççåå­ä¸­æå¤§çä¸åãJavaå æ¯è¢«ææçº¿ç¨å±äº«çä¸ååå­åºåï¼å¨èææºå¯å¨æ¶åå»ºãæ­¤åå­åºåçå¯ä¸ç®çå°±æ¯å­æ¾å¯¹è±¡å®ä¾ï¼å ä¹ææçå¯¹è±¡å®ä¾é½å¨è¿éåéåå­ã\n   \n   Java ä¸çä¸­âå ä¹âææçå¯¹è±¡é½å¨å ä¸­åéï¼ä½æ¯ï¼éç JIT ç¼è¯å¨çåå±ä¸éé¸åæææ¯éæ¸æçï¼æ ä¸åéãæ éæ¿æ¢ä¼åææ¯å°ä¼å¯¼è´ä¸äºå¾®å¦çååï¼ææçå¯¹è±¡é½åéå°å ä¸ä¹æ¸æ¸åå¾ä¸é£ä¹âç»å¯¹âäºãä» JDK 1.7 å¼å§å·²ç»é»è®¤å¼å¯éé¸åæï¼å¦ææäºæ¹æ³ä¸­çå¯¹è±¡å¼ç¨æ²¡æè¢«è¿åæèæªè¢«å¤é¢ä½¿ç¨ï¼ä¹å°±æ¯æªéé¸åºå»ï¼ï¼é£ä¹å¯¹è±¡å¯ä»¥ç´æ¥å¨æ ä¸åéåå­ã\n   \n   Javaå æ¯åå¾æ¶éå¨ç®¡ççä¸»è¦åºåï¼å æ­¤å¾å¤æ¶åä¹è¢«ç§°åâGCå âãå¦æä»åå­åæ¶çè§åº¦çï¼ç±äºç°å¨æ¶éå¨åºæ¬é½æ¯éç¨çåä»£æ¶éç®æ³ï¼æä»¥Javaå ä¸­è¿å¯ä»¥ç»åä¸ºï¼æ°çä»£åèå¹´ä»£ï¼åç»è´ä¸ç¹çæEdenç©ºé´ãFrom Survivorç©ºé´ãTo Survivorç©ºé´ç­ã\n   \n   å¨ JDK 7 çæ¬å JDK 7 çæ¬ä¹åï¼å åå­è¢«éå¸¸åä¸ºä¸é¢ä¸é¨åï¼\n   \n   1. æ°çä»£åå­(Young Generation)\n   2. èçä»£(Old Generation)\n   3. æ°¸ä¹ä»£(Permanent Generation)\n   \n   ä¸å¾æç¤ºç Eden åºãä¸¤ä¸ª Survivor åº S0 å S1 é½å±äºæ°çä»£ï¼ä¸­é´ä¸å±å±äºèå¹´ä»£ï¼æä¸é¢ä¸å±å±äºæ°¸ä¹ä»£ã\n   \n   \n   \n   JDK 8 çæ¬ä¹å PermGen å·²è¢« Metaspace(åç©ºé´) åä»£ï¼åç©ºé´ä½¿ç¨çæ¯ç´æ¥åå­\n   \n   æ ¹æ®Javaèææºè§èçè§å®ï¼Javaå å¯ä»¥å¤äºç©çä¸ä¸è¿ç»­çåå­ç©ºé´ä¸­ï¼åªè¦é»è¾ä¸æ¯è¿ç»­çå³å¯ï¼å°±åæä»¬çç£çç©ºé´ä¸æ ·ãå¨å®ç°æ¶ï¼æ¢å¯ä»¥å®ç°æåºå®å¤§å°çï¼ä¹å¯ä»¥æ¯å¯æ©å±çï¼ä¸è¿å½åä¸»æµçèææºé½æ¯æç§å¯æ©å±æ¥å®ç°çï¼éè¿-Xmxå-Xmsæ§å¶ï¼ã\n   \n   å¦æå¨å ä¸­æ²¡æåå­å®æå®ä¾åéï¼å¹¶ä¸å ä¹æ æ³åæ©å±æ¶ï¼å°ä¼æåºOutOfMemoryErrorå¼å¸¸ã\n   \n   > å (GCå ) -> å­æ¾å¯¹è±¡å®ä¾ -> åå¾æéå¨ç®¡ççåºå\n\n# çº¿ç¨éç¦»ï¼çº¿ç¨ç§æï¼\n\n * ç¨åºè®¡æ°å¨\n   \n   ç¨åºè®¡æ°å¨ï¼Program Counter Registerï¼æ¯ä¸åè¾å°çåå­ç©ºé´ï¼==å®çä½ç¨å¯ä»¥çåæ¯å½åçº¿ç¨ææ§è¡çå­èç çè¡å·æç¤ºå¨==ãå¨èææºçæ¦å¿µæ¨¡åéï¼ä»æ¯æ¦å¿µæ¨¡åï¼åç§èææºå¯è½ä¼éè¿ä¸äºæ´é«æçæ¹å¼å»å®ç°ï¼ï¼å­èç è§£éå¨å·¥ä½æ¶å°±æ¯éè¿æ¹åè¿ä¸ªè®¡æ°å¨çå¼æ¥éåä¸ä¸æ¡éè¦æ§è¡çå­èç æä»¤ï¼åæ¯ãå¾ªç¯ãè·³è½¬ãå¼å¸¸å¤çãçº¿ç¨æ¢å¤ç­åºç¡åè½é½éè¦ä¾èµè¿ä¸ªè®¡æ°å¨æ¥å®æã\n   \n   ç±äºJavaèææºçå¤çº¿ç¨æ¯éè¿çº¿ç¨è½®æµåæ¢å¹¶åéå¤çå¨æ§è¡æ¶é´çæ¹å¼æ¥å®ç°çï¼å¨ä»»ä½ä¸ä¸ªç¡®å®çæ¶å»ï¼ä¸ä¸ªå¤çå¨ï¼å¯¹äºå¤æ ¸å¤çå¨æ¥è¯´æ¯ä¸ä¸ªåæ ¸ï¼åªä¼æ§è¡ä¸æ¡çº¿ç¨ä¸­çæä»¤ãå æ­¤ï¼ä¸ºäºçº¿ç¨åæ¢åè½æ¢å¤å°æ­£ç¡®çæ§è¡ä½ç½®ï¼==æ¯æ¡çº¿ç¨é½éè¦æä¸ä¸ªç¬ç«çç¨åºè®¡æ°å¨ï¼åæ¡çº¿ç¨ä¹é´çè®¡æ°å¨äºä¸å½±åï¼ç¬ç«å­å¨ï¼æä»¬ç§°è¿ç±»åå­åºåä¸ºâçº¿ç¨ç§æâçåå­ã==\n   \n   å¦æçº¿ç¨æ­£å¨æ§è¡çæ¯ä¸ä¸ªJavaæ¹æ³ï¼è¿ä¸ªè®¡æ°å¨è®°å½çæ¯æ­£å¨æ§è¡çèææºå­èç æä»¤çå°åï¼å¦ææ­£å¨æ§è¡çæ¯Natvieæ¹æ³ï¼è¿ä¸ªè®¡æ°å¨å¼åä¸ºç©ºï¼Undefinedï¼ã\n   \n   æ­¤åå­åºåæ¯å¯ä¸ä¸ä¸ªå¨ãJavaèææºè§èãä¸­æ²¡æè§å®ä»»ä½OutOfMemoryErroræåµçåºåã\n   \n   > ç¨åºè®¡æ°å¨ -> ==å½åçº¿ç¨ææ§è¡çå­èç çè¡å·æç¤ºå¨==-> ä½ç¨ï¼\n   > \n   >  1. å­èç è§£éå¨éè¿æ¹åç¨åºè®¡æ°å¨æ¥ä¾æ¬¡è¯»åæä»¤ï¼ä»è==å®ç°ä»£ç çæµç¨æ§å¶==ï¼å¦ï¼é¡ºåºæ§è¡ãéæ©ãå¾ªç¯ãå¼å¸¸å¤çã\n   >  2. å¨å¤çº¿ç¨çæåµä¸ï¼ç¨åºè®¡æ°å¨ç¨äº==è®°å½å½åçº¿ç¨æ§è¡çä½ç½®==ï¼ä»èå½çº¿ç¨è¢«åæ¢åæ¥çæ¶åè½å¤ç¥éè¯¥çº¿ç¨ä¸æ¬¡è¿è¡å°åªå¿äºã\n\n * èææºæ \n   \n   **ä¸ç¨åºè®¡æ°å¨ä¸æ ·ï¼Java èææºæ ä¹æ¯çº¿ç¨ç§æçï¼å®ççå½å¨æåçº¿ç¨ç¸åï¼==æè¿°çæ¯ Java æ¹æ³æ§è¡çåå­æ¨¡å==ï¼æ¯æ¬¡æ¹æ³è°ç¨çæ°æ®é½æ¯éè¿æ ä¼ éçã**æ¯ä¸ªæ¹æ³è¢«æ§è¡çæ¶åï¼ Javaèææºé½ ä¼åæ­¥åå»ºä¸ä¸ªæ å¸§ï¼Stack Frameï¼ ç¨äºå­å¨å±é¨åéè¡¨ã æä½æ°æ ã å¨æè¿æ¥ã æ¹æ³åºå£ç­ä¿¡ æ¯ã æ¯ä¸ä¸ªæ¹æ³è¢«è°ç¨ç´è³æ§è¡å®æ¯çè¿ç¨ï¼ å°±å¯¹åºçä¸ä¸ªæ å¸§å¨èææºæ ä¸­ä»å¥æ å°åºæ çè¿ç¨ã\n   \n   Java åå­å¯ä»¥ç²ç³çåºåä¸ºå åå­ï¼Heapï¼åæ åå­ (Stack)ï¼å¶ä¸­æ å°±æ¯ç°å¨è¯´çèææºæ ï¼æèè¯´æ¯èææºæ ä¸­å±é¨åéè¡¨é¨åã ï¼å®éä¸ï¼Java èææºæ æ¯ç±ä¸ä¸ªä¸ªæ å¸§ç»æï¼èæ¯ä¸ªæ å¸§ä¸­é½æ¥æï¼å±é¨åéè¡¨ãæä½æ°æ ãå¨æé¾æ¥ãæ¹æ³åºå£ä¿¡æ¯ãï¼\n   \n   å±é¨åéè¡¨ä¸»è¦å­æ¾äºç¼è¯æå¯ç¥çåç§æ°æ®ç±»åï¼booleanãbyteãcharãshortãintãfloatãlongãdoubleï¼ãå¯¹è±¡å¼ç¨ï¼reference ç±»åï¼å®ä¸åäºå¯¹è±¡æ¬èº«ï¼å¯è½æ¯ä¸ä¸ªæåå¯¹è±¡èµ·å§å°åçå¼ç¨æéï¼ä¹å¯è½æ¯æåä¸ä¸ªä»£è¡¨å¯¹è±¡çå¥ææå¶ä»ä¸æ­¤å¯¹è±¡ç¸å³çä½ç½®ï¼ã\n   \n   Java èææºæ ä¼åºç°ä¸¤ç§éè¯¯ï¼StackOverFlowError å OutOfMemoryErrorã\n   \n   * StackOverFlowErrorï¼ è¥ Java èææºæ çåå­å¤§å°ä¸åè®¸å¨ææ©å±ï¼é£ä¹å½çº¿ç¨è¯·æ±æ çæ·±åº¦è¶è¿å½å Java èææºæ çæå¤§æ·±åº¦çæ¶åï¼å°±æåº StackOverFlowError éè¯¯ã\n   * OutOfMemoryErrorï¼ Java èææºæ çåå­å¤§å°å¯ä»¥å¨ææ©å±ï¼ å¦æèææºå¨å¨ææ©å±æ æ¶æ æ³ç³è¯·å°è¶³å¤çåå­ç©ºé´ï¼åæåºOutOfMemoryErrorå¼å¸¸ã\n   \n   > èææºæ  -> ==ç±ä¸ä¸ªä¸ªæ å¸§ç»æ== -> ä½ç¨ï¼==æè¿°Javaæ¹æ³æ§è¡çåå­æ¨¡å==\n   > \n   >  * æ¯ä¸ªæ¹æ³è¢«æ§è¡çæ¶åï¼ Javaèææºé½ä¼åæ­¥åå»ºä¸ä¸ªæ å¸§ï¼Stack Frameï¼ ç¨äºå­å¨å±é¨åéè¡¨ã æä½æ°æ ã å¨æé¾æ¥ã æ¹æ³åºå£ç­ä¿¡æ¯ã æ¯ä¸ä¸ªæ¹æ³è¢«è°ç¨ç´è³æ§è¡å®æ¯çè¿ç¨ï¼ å°±å¯¹åºçä¸ä¸ªæ å¸§å¨èææºæ ä¸­ä»å¥æ å°åºæ çè¿ç¨ã\n\n * æ¬å°æ¹æ³æ \n   \n   åèææºæ æåæ¥çä½ç¨éå¸¸ç¸ä¼¼ï¼åºå«æ¯ï¼ èææºæ ä¸ºèææºæ§è¡ Java æ¹æ³ ï¼ä¹å°±æ¯å­èç ï¼æå¡ï¼èæ¬å°æ¹æ³æ åä¸ºèææºä½¿ç¨å°ç Native æ¹æ³æå¡ã å¨ HotSpot èææºä¸­å Java èææºæ åäºä¸ºä¸ã\n   \n   æ¬å°æ¹æ³è¢«æ§è¡çæ¶åï¼å¨æ¬å°æ¹æ³æ ä¹ä¼åå»ºä¸ä¸ªæ å¸§ï¼ç¨äºå­æ¾è¯¥æ¬å°æ¹æ³çå±é¨åéè¡¨ãæä½æ°æ ãå¨æé¾æ¥ãåºå£ä¿¡æ¯ã\n   \n   æ¹æ³æ§è¡å®æ¯åç¸åºçæ å¸§ä¹ä¼åºæ å¹¶éæ¾åå­ç©ºé´ï¼ä¹ä¼åºç° StackOverFlowError å OutOfMemoryError ä¸¤ç§éè¯¯ã\n\n\n# 1.2 HotSpotèææºå¯¹è±¡æ¢ç§\n\n# å¯¹è±¡çåå»º\n\n\n\n# Step1:ç±»å è½½æ£æ¥\n\nèææºéå°ä¸æ¡ new æä»¤æ¶ï¼é¦åå°å»æ£æ¥è¿ä¸ªæä»¤çåæ°æ¯å¦è½å¨å¸¸éæ± ä¸­å®ä½å°è¿ä¸ªç±»çç¬¦å·å¼ç¨ï¼å¹¶ä¸æ£æ¥è¿ä¸ªç¬¦å·å¼ç¨ä»£è¡¨çç±»æ¯å¦å·²è¢«å è½½è¿ãè§£æååå§åè¿ãå¦ææ²¡æï¼é£å¿é¡»åæ§è¡ç¸åºçç±»å è½½è¿ç¨ã\n\n# Step2:åéåå­\n\nå¨ç±»å è½½æ£æ¥éè¿åï¼æ¥ä¸æ¥èææºå°ä¸ºæ°çå¯¹è±¡åéåå­ãå¯¹è±¡æéçåå­å¤§å°å¨ç±»å è½½å®æåä¾¿å¯ç¡®å®ï¼ä¸ºå¯¹è±¡åéç©ºé´çä»»å¡ç­åäºæä¸åç¡®å®å¤§å°çåå­ä» Java å ä¸­åååºæ¥ãåéæ¹å¼æ âæéç¢°æâ å âç©ºé²åè¡¨â ä¸¤ç§ï¼éæ©åªç§åéæ¹å¼ç± Java å æ¯å¦è§æ´å³å®ï¼è Java å æ¯å¦è§æ´åç±æéç¨çåå¾æ¶éå¨æ¯å¦å¸¦æåç¼©æ´çåè½å³å®ã\n\n\n\nåå­åéçä¸¤ç§æ¹å¼ï¼ï¼è¡¥ååå®¹ï¼éè¦ææ¡ï¼\n\néæ©ä»¥ä¸ä¸¤ç§æ¹å¼ä¸­çåªä¸ç§ï¼åå³äº Java å åå­æ¯å¦è§æ´ãè Java å åå­æ¯å¦è§æ´ï¼åå³äº GC æ¶éå¨çç®æ³æ¯"æ è®°-æ¸é¤"ï¼è¿æ¯"æ è®°-æ´ç"ï¼ä¹ç§°ä½"æ è®°-åç¼©"ï¼ï¼å¼å¾æ³¨æçæ¯ï¼å¤å¶ç®æ³åå­ä¹æ¯è§æ´ç\n\nåå­åéå¹¶åé®é¢ï¼è¡¥ååå®¹ï¼éè¦ææ¡ï¼\n\nå¨åå»ºå¯¹è±¡çæ¶åæä¸ä¸ªå¾éè¦çé®é¢ï¼å°±æ¯çº¿ç¨å®å¨ï¼å ä¸ºå¨å®éå¼åè¿ç¨ä¸­ï¼åå»ºå¯¹è±¡æ¯å¾é¢ç¹çäºæï¼ä½ä¸ºèææºæ¥è¯´ï¼å¿é¡»è¦ä¿è¯çº¿ç¨æ¯å®å¨çï¼éå¸¸æ¥è®²ï¼èææºéç¨ä¸¤ç§æ¹å¼æ¥ä¿è¯çº¿ç¨å®å¨ï¼\n\n * CAS+å¤±è´¥éè¯ï¼ CAS æ¯ä¹è§éçä¸ç§å®ç°æ¹å¼ãæè°ä¹è§éå°±æ¯ï¼æ¯æ¬¡ä¸å éèæ¯åè®¾æ²¡æå²çªèå»å®ææé¡¹æä½ï¼å¦æå ä¸ºå²çªå¤±è´¥å°±éè¯ï¼ç´å°æåä¸ºæ­¢ãèææºéç¨ CAS éä¸å¤±è´¥éè¯çæ¹å¼ä¿è¯æ´æ°æä½çåå­æ§ã\n * TLABï¼ ä¸ºæ¯ä¸ä¸ªçº¿ç¨é¢åå¨ Eden åºåéä¸åå¿åå­ï¼JVM å¨ç»çº¿ç¨ä¸­çå¯¹è±¡åéåå­æ¶ï¼é¦åå¨ TLAB åéï¼å½å¯¹è±¡å¤§äº TLAB ä¸­çå©ä½åå­æ TLAB çåå­å·²ç¨å°½æ¶ï¼åéç¨ä¸è¿°ç CAS è¿è¡åå­åé\n\n# Step3:åå§åé¶å¼\n\nåå­åéå®æåï¼èææºéè¦å°åéå°çåå­ç©ºé´é½åå§åä¸ºé¶å¼ï¼ä¸åæ¬å¯¹è±¡å¤´ï¼ï¼è¿ä¸æ­¥æä½ä¿è¯äºå¯¹è±¡çå®ä¾å­æ®µå¨ Java ä»£ç ä¸­å¯ä»¥ä¸èµåå§å¼å°±ç´æ¥ä½¿ç¨ï¼ç¨åºè½è®¿é®å°è¿äºå­æ®µçæ°æ®ç±»åæå¯¹åºçé¶å¼ã\n\n# Step4:è®¾ç½®å¯¹è±¡å¤´\n\nåå§åé¶å¼å®æä¹åï¼èææºè¦å¯¹å¯¹è±¡è¿è¡å¿è¦çè®¾ç½®ï¼ä¾å¦è¿ä¸ªå¯¹è±¡æ¯åªä¸ªç±»çå®ä¾ãå¦ä½æè½æ¾å°ç±»çåæ°æ®ä¿¡æ¯ãå¯¹è±¡çåå¸ç ãå¯¹è±¡ç GC åä»£å¹´é¾ç­ä¿¡æ¯ã è¿äºä¿¡æ¯å­æ¾å¨å¯¹è±¡å¤´ä¸­ã å¦å¤ï¼æ ¹æ®èææºå½åè¿è¡ç¶æçä¸åï¼å¦æ¯å¦å¯ç¨ååéç­ï¼å¯¹è±¡å¤´ä¼æä¸åçè®¾ç½®æ¹å¼ã\n\n# Step5:æ§è¡ init æ¹æ³\n\nå¨ä¸é¢å·¥ä½é½å®æä¹åï¼ä»èææºçè§è§æ¥çï¼ä¸ä¸ªæ°çå¯¹è±¡å·²ç»äº§çäºï¼ä½ä» Java ç¨åºçè§è§æ¥çï¼å¯¹è±¡åå»ºæåå¼å§ï¼<init> æ¹æ³è¿æ²¡ææ§è¡ï¼ææçå­æ®µé½è¿ä¸ºé¶ãæä»¥ä¸è¬æ¥è¯´ï¼æ§è¡ new æä»¤ä¹åä¼æ¥çæ§è¡ <init> æ¹æ³ï¼æå¯¹è±¡æç§ç¨åºåçææ¿è¿è¡åå§åï¼è¿æ ·ä¸ä¸ªçæ­£å¯ç¨çå¯¹è±¡æç®å®å¨äº§çåºæ¥ã\n\n> ==å¯¹è±¡çåå»º -> äºä¸ªæ­¥éª¤==\n\n# å¯¹è±¡çåå­å¸å±\n\nå¨HotSpotèææºéï¼ å¯¹è±¡å¨å åå­ä¸­çå­å¨å¸å±å¯ä»¥ååä¸ºä¸ä¸ªé¨å**ï¼ å¯¹è±¡å¤´ï¼Headerï¼ ã å®ä¾** æ°æ®ï¼Instance Dataï¼ åå¯¹é½å¡«åï¼Paddingï¼ ã\n\n# Header\n\nåæ¬ä¸¤ç±»ä¿¡æ¯ï¼\n\n * ==ç¨äºå­å¨å¯¹è±¡èªèº«çè¿è¡æ¶æ°æ®==ï¼ å¦åå¸ç ï¼HashCodeï¼ ã GCåä»£å¹´é¾ã éç¶ææ å¿ã çº¿ç¨ææçéã ååçº¿ç¨IDã ååæ¶é´æ³ç­ï¼è¿é¨åæ°æ®çé¿åº¦å¨32ä½å64ä½çèææºï¼æªå¼å¯åç¼©æéï¼ ä¸­åå«ä¸º32ä¸ªæ¯ç¹å64ä¸ªæ¯ç¹ï¼ å®æ¹ç§°å®ä¸ºâMark Wordâã å¯¹è±¡éè¦å­å¨çè¿è¡æ¶æ°æ®å¾å¤ï¼ å¶å®å·²ç»è¶åºäº32ã 64ä½Bitmapç»ææè½è®°å½çæå¤§éåº¦ï¼ ä½å¯¹è±¡å¤´éçä¿¡æ¯æ¯ä¸å¯¹è±¡èªèº«å®ä¹çæ°æ®æ å³çé¢å¤å­å¨ææ¬ï¼ èèå°èææºçç©ºé´æçï¼ Mark Wordè¢«è®¾è®¡æä¸ä¸ªæçå¨æå®ä¹çæ°æ®ç»æï¼ ä»¥ä¾¿å¨æå°çç©ºé´åå­å¨å°½éå¤çæ°æ®ï¼ æ ¹æ®å¯¹è±¡çç¶æå¤ç¨èªå·±çå­å¨ç©ºé´ã\n * å¯¹è±¡å¤´çå¦å¤ä¸é¨åæ¯==ç±»åæé==ï¼ ==å³å¯¹è±¡æåå®çç±»ååæ°æ®çæé==ï¼ Javaèææºéè¿è¿ä¸ªæé æ¥ç¡®å®è¯¥å¯¹è±¡æ¯åªä¸ªç±»çå®ä¾ã\n\n# å®ä¾æ°æ®é¨å\n\nå®ä¾æ°æ®é¨åæ¯==å¯¹è±¡çæ­£å­å¨çææä¿¡æ¯==ï¼ å³æä»¬å¨ç¨åºä»£ç éé¢æ==å®ä¹çåç§ç±»åçå­æ®µåå®¹==ï¼ æ è®ºæ¯ä»ç¶ç±»ç»§æ¿ä¸æ¥çï¼ è¿æ¯å¨å­ç±»ä¸­å®ä¹çå­æ®µé½å¿é¡»è®°å½èµ·æ¥ã è¿é¨åçå­å¨é¡ºåºä¼åå°èææºåéç­ç¥åæ°ï¼-XXï¼ FieldsAllocationStyleåæ°ï¼ åå­æ®µå¨Javaæºç ä¸­å®ä¹é¡ºåºçå½±åã\n\n# å¯¹é½å¡«å\n\nè¿å¹¶ä¸æ¯å¿ç¶å­å¨çï¼ ä¹æ²¡æç¹å«çå«ä¹ï¼ å®ä»ä»èµ·çå ä½ç¬¦çä½ç¨ã ç±äºHotSpotèææºçèªå¨åå­ç®¡çç³»ç»è¦æ±å¯¹è±¡èµ·å§å°åå¿é¡»æ¯8å­èçæ´æ°åï¼ æ¢å¥è¯è¯´å°±æ¯ä»»ä½å¯¹è±¡çå¤§å°é½å¿é¡»æ¯8å­èçæ´æ°åã å¯¹è±¡å¤´é¨åå·²ç»è¢«ç²¾å¿è®¾è®¡ææ­£å¥½æ¯8å­èçåæ°ï¼1åæè2åï¼ï¼å æ­¤ï¼ å¦æå¯¹è±¡å®ä¾æ°æ®é¨åæ²¡æå¯¹é½çè¯ï¼ å°±éè¦éè¿å¯¹é½å¡«åæ¥è¡¥å¨ã\n\n> ==å¯¹è±¡çåå­å¸å± -> ååä¸ºä¸ä¸ªé¨å -> æ¯ä¸ªé¨åå¯¹åºçä½ç¨==\n\n# å¯¹è±¡çè®¿é®å®ä½\n\nJavaç¨åºä¼éè¿æ ä¸çreferenceæ°æ®æ¥æä½å ä¸çå·ä½å¯¹è±¡ã ç±äºreferenceç±»åå¨ãJavaèææºè§èã éé¢åªè§å®äºå®æ¯ä¸ä¸ªæåå¯¹è±¡çå¼ç¨ï¼ å¹¶æ²¡æå®ä¹è¿ä¸ªå¼ç¨åºè¯¥éè¿ä»ä¹æ¹å¼å»å®ä½ã è®¿é®å°å ä¸­å¯¹è±¡çå·ä½ä½ç½®ï¼æä»¥ å¯¹è±¡è®¿é®æ¹å¼ä¹æ¯ç±èææºå®ç°èå®çï¼ ä¸»æµçè®¿é®æ¹å¼ä¸»è¦æä½¿ç¨å¥æåç´æ¥æéä¸¤ç§ï¼\n\n# å¥æè®¿é®\n\nå¦æä½¿ç¨å¥æçè¯ï¼é£ä¹ Java å ä¸­å°ä¼åååºä¸ååå­æ¥ä½ä¸ºå¥ææ± ï¼reference ä¸­å­å¨çå°±æ¯å¯¹è±¡çå¥æå°åï¼èå¥æä¸­åå«äºå¯¹è±¡å®ä¾æ°æ®ä¸ç±»åæ°æ®åèªçå·ä½å°åä¿¡æ¯ï¼\n\n\n\n# ç´æ¥æéè®¿é®\n\nä½¿ç¨ç´æ¥æéæ¥è®¿é®æå¤§çå¥½å¤å°±æ¯éåº¦æ´å¿«ï¼ å®èçäºä¸æ¬¡æéå®ä½çæ¶é´å¼éï¼ ç±äºå¯¹è±¡è®¿ é®å¨Javaä¸­éå¸¸é¢ç¹ï¼ å æ­¤è¿ç±»å¼éç§¯å°æå¤ä¹æ¯ä¸é¡¹æä¸ºå¯è§çæ§è¡ææ¬ï¼\n\n\n\n> ==å¯¹è±¡çè®¿é® -> ä¸¤ç§æ¹å¼==\n> \n> è¿ä¸¤ç§å¯¹è±¡è®¿é®æ¹å¼åæä¼å¿ãä½¿ç¨å¥ææ¥è®¿é®çæå¤§å¥½å¤æ¯ reference ä¸­å­å¨çæ¯ç¨³å®çå¥æå°åï¼å¨å¯¹è±¡è¢«ç§»å¨æ¶åªä¼æ¹åå¥æä¸­çå®ä¾æ°æ®æéï¼è reference æ¬èº«ä¸éè¦ä¿®æ¹ãä½¿ç¨ç´æ¥æéè®¿é®æ¹å¼æå¤§çå¥½å¤å°±æ¯éåº¦å¿«ï¼å®èçäºä¸æ¬¡æéå®ä½çæ¶é´å¼éã\n\n\n# 2 JVMåå¾åæ¶\n\nJavaå æ¯åå¾æ¶éå¨ç®¡ççä¸»è¦åºåï¼å çåºæ¬ç»æï¼\n\n\n\n\n# 2.1 åå¾åæ¶æºå¶\n\nç®åä¸»æµçåå¾æ¶éå¨é½ä¼éç¨åä»£åæ¶ç®æ³ï¼å æ­¤éè¦å°å åå­åä¸ºæ°çä»£åèå¹´ä»£ï¼è¿æ ·æä»¬å°±å¯ä»¥æ ¹æ®åä¸ªå¹´ä»£çç¹ç¹éæ©åéçåå¾æ¶éç®æ³ã\n\nå¤§å¤æ°æåµä¸ï¼å¯¹è±¡å¨æ°çä»£ä¸­ eden åºåéãå½ eden åºæ²¡æè¶³å¤ç©ºé´è¿è¡åéæ¶ï¼èææºå°åèµ·ä¸æ¬¡ Minor GC.\n\nå¤§å¯¹è±¡å°±æ¯éè¦å¤§éè¿ç»­åå­ç©ºé´çå¯¹è±¡ï¼æ¯å¦ï¼å­ç¬¦ä¸²ãæ°ç»ï¼ãå¤§å¯¹è±¡ç´æ¥è¿å¥èå¹´ä»£ï¼ä¸ºäºé¿åä¸ºå¤§å¯¹è±¡åéåå­æ¶ç±äºåéæä¿æºå¶å¸¦æ¥çå¤å¶èéä½æçã\n\næ¢ç¶èææºéç¨äºåä»£æ¶éçææ³æ¥ç®¡çåå­ï¼é£ä¹åå­åæ¶æ¶å°±å¿é¡»è½è¯å«åªäºå¯¹è±¡åºæ¾å¨æ°çä»£ï¼åªäºå¯¹è±¡åºæ¾å¨èå¹´ä»£ä¸­ãä¸ºäºåå°è¿ä¸ç¹ï¼èææºç»æ¯ä¸ªå¯¹è±¡ä¸ä¸ªå¯¹è±¡å¹´é¾ï¼Ageï¼è®¡æ°å¨ã\n\nå¦æå¯¹è±¡å¨ Eden åºçå¹¶ç»è¿ç¬¬ä¸æ¬¡ Minor GC åä»ç¶è½å¤å­æ´»ï¼å¹¶ä¸è½è¢« Survivor å®¹çº³çè¯ï¼å°è¢«ç§»å¨å° Survivor ç©ºé´ä¸­ï¼å¹¶å°å¯¹è±¡å¹´é¾è®¾ä¸º 1.å¯¹è±¡å¨ Survivor ä¸­æ¯ç¬è¿ä¸æ¬¡ MinorGC,å¹´é¾å°±å¢å  1 å²ï¼å½å®çå¹´é¾å¢å å°ä¸å®ç¨åº¦ï¼é»è®¤ä¸º 15 å²ï¼ï¼å°±ä¼è¢«æåå°èå¹´ä»£ä¸­ãå¯¹è±¡æåå°èå¹´ä»£çå¹´é¾éå¼ï¼å¯ä»¥éè¿åæ° -XX:MaxTenuringThreshold æ¥è®¾ç½®ã\n\n> å¯¹è±¡ä¼åå¨edenåºåé -> edenåºæ²¡æç©ºé´ï¼è¿è¡MinorGC -> å¤§å¯¹è±¡ç´æ¥è¿å¥èå¹´ä»£\n\n\n# 2.2 å¯¹è±¡æ¯å¦æ­»äº¡çå¤æ­\n\nå ä¸­å ä¹æ¾çææçå¯¹è±¡å®ä¾ï¼å¯¹å åå¾åæ¶åçç¬¬ä¸æ­¥å°±æ¯è¦å¤æ­åªäºå¯¹è±¡å·²ç»æ­»äº¡ï¼å³ä¸è½åè¢«ä»»ä½éå¾ä½¿ç¨çå¯¹è±¡ï¼ã\n\n# å¼ç¨è®¡æ°å¨\n\nç»å¯¹è±¡ä¸­æ·»å ä¸ä¸ªå¼ç¨è®¡æ°å¨ï¼æ¯å½æä¸ä¸ªå°æ¹å¼ç¨å®ï¼è®¡æ°å¨å°±å  1ï¼å½å¼ç¨å¤±æï¼è®¡æ°å¨å°±å 1ï¼ä»»ä½æ¶åè®¡æ°å¨ä¸º 0 çå¯¹è±¡å°±æ¯ä¸å¯è½åè¢«ä½¿ç¨çã\n\nè¿ä¸ªæ¹æ³å®ç°ç®åï¼æçé«ï¼ä½æ¯ç®åä¸»æµçèææºä¸­å¹¶æ²¡æéæ©è¿ä¸ªç®æ³æ¥ç®¡çåå­ï¼å¶æä¸»è¦çåå æ¯å®å¾é¾è§£å³å¯¹è±¡ä¹é´ç¸äºå¾ªç¯å¼ç¨çé®é¢ã\n\n# å¯è¾¾æ§åæ\n\nè¿ä¸ªç®æ³çåºæ¬ææ³å°±æ¯éè¿ä¸ç³»åçç§°ä¸º âGC Rootsâ çå¯¹è±¡ä½ä¸ºèµ·ç¹ï¼ä»è¿äºèç¹å¼å§åä¸æç´¢ï¼èç¹æèµ°è¿çè·¯å¾ç§°ä¸ºå¼ç¨é¾ï¼å½ä¸ä¸ªå¯¹è±¡å° GC Roots æ²¡æä»»ä½å¼ç¨é¾ç¸è¿çè¯ï¼åè¯ææ­¤å¯¹è±¡æ¯ä¸å¯ç¨çï¼éè¦è¢«åæ¶ã\n\nåªäºå¯¹è±¡å¯ä»¥ä½ä¸º GC Roots å¢ï¼\n\n * èææºæ (æ å¸§ä¸­çæ¬å°åéè¡¨)ä¸­å¼ç¨çå¯¹è±¡\n * æ¬å°æ¹æ³æ (Native æ¹æ³)ä¸­å¼ç¨çå¯¹è±¡\n * æ¹æ³åºä¸­ç±»éæå±æ§å¼ç¨çå¯¹è±¡\n * æ¹æ³åºä¸­å¸¸éå¼ç¨çå¯¹è±¡\n * ææè¢«åæ­¥éææçå¯¹è±¡\n\nå¯¹è±¡å¯ä»¥è¢«åæ¶ï¼å°±ä»£è¡¨ä¸å®ä¼è¢«åæ¶åï¼\n\nå³ä½¿å¨å¯è¾¾æ§åææ³ä¸­ä¸å¯è¾¾çå¯¹è±¡ï¼ä¹å¹¶éæ¯âéæ­»ä¸å¯âçï¼è¿æ¶åå®ä»¬ææ¶å¤äºâç¼åé¶æ®µâï¼è¦çæ­£å®£åä¸ä¸ªå¯¹è±¡æ­»äº¡ï¼è³å°è¦ç»åä¸¤æ¬¡æ è®°è¿ç¨ï¼å¯è¾¾æ§åææ³ä¸­ä¸å¯è¾¾çå¯¹è±¡è¢«ç¬¬ä¸æ¬¡æ è®°å¹¶ä¸è¿è¡ä¸æ¬¡ç­éï¼ç­éçæ¡ä»¶æ¯æ­¤å¯¹è±¡æ¯å¦æå¿è¦æ§è¡ finalize æ¹æ³ãå½å¯¹è±¡æ²¡æè¦ç finalize æ¹æ³ï¼æ finalize æ¹æ³å·²ç»è¢«èææºè°ç¨è¿æ¶ï¼èææºå°è¿ä¸¤ç§æåµè§ä¸ºæ²¡æå¿è¦æ§è¡ã\n\nè¢«å¤å®ä¸ºéè¦æ§è¡çå¯¹è±¡å°ä¼è¢«æ¾å¨ä¸ä¸ªéåä¸­è¿è¡ç¬¬äºæ¬¡æ è®°ï¼é¤éè¿ä¸ªå¯¹è±¡ä¸å¼ç¨é¾ä¸çä»»ä½ä¸ä¸ªå¯¹è±¡å»ºç«å³èï¼å¦åå°±ä¼è¢«ççåæ¶ã\n\n> å¯¹è±¡æ¯å¦æ­»äº¡çå¤æ­æ¹æ³ -> å¼ç¨è®¡æ°å¨ã==å¯è¾¾æ§åæ==\n\n\n# 2.3 å¼ç¨\n\n1ï¼å¼ºå¼ç¨ï¼StrongReferenceï¼\n\nä»¥åæä»¬ä½¿ç¨çå¤§é¨åå¼ç¨å®éä¸é½æ¯å¼ºå¼ç¨ï¼è¿æ¯ä½¿ç¨ææ®éçå¼ç¨ãå¦æä¸ä¸ªå¯¹è±¡å·æå¼ºå¼ç¨ï¼é£å°±ç±»ä¼¼äºå¿ä¸å¯å°ççæ´»ç¨åï¼åå¾åæ¶å¨ç»ä¸ä¼åæ¶å®ãå½åå­ç©ºé´ä¸è¶³ï¼Java èææºå®æ¿æåº OutOfMemoryError éè¯¯ï¼ä½¿ç¨åºå¼å¸¸ç»æ­¢ï¼ä¹ä¸ä¼é éæåæ¶å·æå¼ºå¼ç¨çå¯¹è±¡æ¥è§£å³åå­ä¸è¶³é®é¢ã\n\n2ï¼è½¯å¼ç¨ï¼SoftReferenceï¼\n\nå¦æä¸ä¸ªå¯¹è±¡åªå·æè½¯å¼ç¨ï¼é£å°±ç±»ä¼¼äºå¯æå¯æ ççæ´»ç¨åãå¦æåå­ç©ºé´è¶³å¤ï¼åå¾åæ¶å¨å°±ä¸ä¼åæ¶å®ï¼å¦æåå­ç©ºé´ä¸è¶³äºï¼å°±ä¼åæ¶è¿äºå¯¹è±¡çåå­ãåªè¦åå¾åæ¶å¨æ²¡æåæ¶å®ï¼è¯¥å¯¹è±¡å°±å¯ä»¥è¢«ç¨åºä½¿ç¨ãè½¯å¼ç¨å¯ç¨æ¥å®ç°åå­ææçé«éç¼å­ã\n\nè½¯å¼ç¨å¯ä»¥åä¸ä¸ªå¼ç¨éåï¼ReferenceQueueï¼èåä½¿ç¨ï¼å¦æè½¯å¼ç¨æå¼ç¨çå¯¹è±¡è¢«åå¾åæ¶ï¼JAVA èææºå°±ä¼æè¿ä¸ªè½¯å¼ç¨å å¥å°ä¸ä¹å³èçå¼ç¨éåä¸­ã\n\n3ï¼å¼±å¼ç¨ï¼WeakReferenceï¼\n\nå¦æä¸ä¸ªå¯¹è±¡åªå·æå¼±å¼ç¨ï¼é£å°±ç±»ä¼¼äºå¯æå¯æ ççæ´»ç¨åãå¼±å¼ç¨ä¸è½¯å¼ç¨çåºå«å¨äºï¼åªå·æå¼±å¼ç¨çå¯¹è±¡æ¥ææ´ç­æççå½å¨æãå¨åå¾åæ¶å¨çº¿ç¨æ«æå®æç®¡è¾çåå­åºåçè¿ç¨ä¸­ï¼ä¸æ¦åç°äºåªå·æå¼±å¼ç¨çå¯¹è±¡ï¼ä¸ç®¡å½ååå­ç©ºé´è¶³å¤ä¸å¦ï¼é½ä¼åæ¶å®çåå­ãä¸è¿ï¼ç±äºåå¾åæ¶å¨æ¯ä¸ä¸ªä¼åçº§å¾ä½ççº¿ç¨ï¼ å æ­¤ä¸ä¸å®ä¼å¾å¿«åç°é£äºåªå·æå¼±å¼ç¨çå¯¹è±¡ã\n\nå¼±å¼ç¨å¯ä»¥åä¸ä¸ªå¼ç¨éåï¼ReferenceQueueï¼èåä½¿ç¨ï¼å¦æå¼±å¼ç¨æå¼ç¨çå¯¹è±¡è¢«åå¾åæ¶ï¼Java èææºå°±ä¼æè¿ä¸ªå¼±å¼ç¨å å¥å°ä¸ä¹å³èçå¼ç¨éåä¸­ã\n\n4ï¼èå¼ç¨ï¼PhantomReferenceï¼\n\n"èå¼ç¨"é¡¾åæä¹ï¼å°±æ¯å½¢åèè®¾ï¼ä¸å¶ä»å ç§å¼ç¨é½ä¸åï¼èå¼ç¨å¹¶ä¸ä¼å³å®å¯¹è±¡ççå½å¨æãå¦æä¸ä¸ªå¯¹è±¡ä»ææèå¼ç¨ï¼é£ä¹å®å°±åæ²¡æä»»ä½å¼ç¨ä¸æ ·ï¼å¨ä»»ä½æ¶åé½å¯è½è¢«åå¾åæ¶ã\n\nèå¼ç¨ä¸»è¦ç¨æ¥è·è¸ªå¯¹è±¡è¢«åå¾åæ¶çæ´»å¨ã\n\nèå¼ç¨ä¸è½¯å¼ç¨åå¼±å¼ç¨çä¸ä¸ªåºå«å¨äºï¼ èå¼ç¨å¿é¡»åå¼ç¨éåï¼ReferenceQueueï¼èåä½¿ç¨ãå½åå¾åæ¶å¨åå¤åæ¶ä¸ä¸ªå¯¹è±¡æ¶ï¼å¦æåç°å®è¿æèå¼ç¨ï¼å°±ä¼å¨åæ¶å¯¹è±¡çåå­ä¹åï¼æè¿ä¸ªèå¼ç¨å å¥å°ä¸ä¹å³èçå¼ç¨éåä¸­ãç¨åºå¯ä»¥éè¿å¤æ­å¼ç¨éåä¸­æ¯å¦å·²ç»å å¥äºèå¼ç¨ï¼æ¥äºè§£è¢«å¼ç¨çå¯¹è±¡æ¯å¦å°è¦è¢«åå¾åæ¶ãç¨åºå¦æåç°æä¸ªèå¼ç¨å·²ç»è¢«å å¥å°å¼ç¨éåï¼é£ä¹å°±å¯ä»¥å¨æå¼ç¨çå¯¹è±¡çåå­è¢«åæ¶ä¹åéåå¿è¦çè¡å¨ã\n\nç¹å«æ³¨æï¼å¨ç¨åºè®¾è®¡ä¸­ä¸è¬å¾å°ä½¿ç¨å¼±å¼ç¨ä¸èå¼ç¨ï¼ä½¿ç¨è½¯å¼ç¨çæåµè¾å¤ï¼è¿æ¯å ä¸ºè½¯å¼ç¨å¯ä»¥å é JVM å¯¹åå¾åå­çåæ¶éåº¦ï¼å¯ä»¥ç»´æ¤ç³»ç»çè¿è¡å®å¨ï¼é²æ­¢åå­æº¢åºï¼OutOfMemoryï¼ç­é®é¢çäº§çã\n\n\n# 2.4 åå¾æ¶éç®æ³\n\n# æ è®°-æ¸é¤ç®æ³\n\nè¯¥ç®æ³åä¸ºâæ è®°âåâæ¸é¤âé¶æ®µï¼é¦åæ è®°åºææä¸éè¦åæ¶çå¯¹è±¡ï¼å¨æ è®°å®æåç»ä¸åæ¶ææææ²¡æè¢«æ è®°çå¯¹è±¡ãå®æ¯æåºç¡çæ¶éç®æ³ï¼åç»­çç®æ³é½æ¯å¯¹å¶ä¸è¶³è¿è¡æ¹è¿å¾å°ãè¿ç§åå¾æ¶éç®æ³ä¼å¸¦æ¥ä¸¤ä¸ªææ¾çé®é¢ï¼\n\n 1. æçé®é¢\n 2. ç©ºé´é®é¢ï¼æ è®°æ¸é¤åä¼äº§çå¤§éä¸è¿ç»­çç¢çï¼\n\n# æ è®°-å¤å¶ç®æ³\n\nä¸ºäºè§£å³æçé®é¢ï¼âæ è®°-å¤å¶âæ¶éç®æ³åºç°äºãå®å¯ä»¥å°åå­åä¸ºå¤§å°ç¸åçä¸¤åï¼æ¯æ¬¡ä½¿ç¨å¶ä¸­çä¸åãå½è¿ä¸åçåå­ä½¿ç¨å®åï¼å°±å°è¿å­æ´»çå¯¹è±¡å¤å¶å°å¦ä¸åå»ï¼ç¶ååæä½¿ç¨çç©ºé´ä¸æ¬¡æ¸çæãè¿æ ·å°±ä½¿æ¯æ¬¡çåå­åæ¶é½æ¯å¯¹åå­åºé´çä¸åè¿è¡åæ¶ã\n\n# æ è®°-æ´çç®æ³\n\næ ¹æ®èå¹´ä»£çç¹ç¹æåºçä¸ç§æ è®°ç®æ³ï¼æ è®°è¿ç¨ä»ç¶ä¸âæ è®°-æ¸é¤âç®æ³ä¸æ ·ï¼ä½åç»­æ­¥éª¤ä¸æ¯ç´æ¥å¯¹å¯åæ¶å¯¹è±¡åæ¶ï¼èæ¯è®©ææå­æ´»çå¯¹è±¡åä¸ç«¯ç§»å¨ï¼ç¶åç´æ¥æ¸çæç«¯è¾¹çä»¥å¤çåå­ã\n\n# åä»£æ¶éç®æ³\n\nå½åèææºçåå¾æ¶éé½éç¨åä»£æ¶éç®æ³ï¼è¿ç§ç®æ³æ²¡æä»ä¹æ°çææ³ï¼åªæ¯æ ¹æ®å¯¹è±¡å­æ´»å¨æçä¸åå°åå­åä¸ºå åãä¸è¬å° java å åä¸ºæ°çä»£åèå¹´ä»£ï¼è¿æ ·æä»¬å°±å¯ä»¥æ ¹æ®åä¸ªå¹´ä»£çç¹ç¹éæ©åéçåå¾æ¶éç®æ³ã\n\næ¯å¦å¨æ°çä»£ä¸­ï¼æ¯æ¬¡æ¶éé½ä¼æå¤§éå¯¹è±¡æ­»å»ï¼æä»¥å¯ä»¥éæ©âæ è®°-å¤å¶âç®æ³ï¼åªéè¦ä»åºå°éå¯¹è±¡çå¤å¶ææ¬å°±å¯ä»¥å®ææ¯æ¬¡åå¾æ¶éãèèå¹´ä»£çå¯¹è±¡å­æ´»å çæ¯æ¯è¾é«çï¼èä¸æ²¡æé¢å¤çç©ºé´å¯¹å®è¿è¡åéæä¿ï¼æä»¥æä»¬å¿é¡»éæ©âæ è®°-æ¸é¤âæâæ è®°-æ´çâç®æ³è¿è¡åå¾æ¶éã\n\n\n# 2.5 åå¾æ¶éå¨\n\nå¦æè¯´æ¶éç®æ³æ¯åå­åæ¶çæ¹æ³è®ºï¼é£ä¹åå¾æ¶éå¨å°±æ¯åå­åæ¶çå·ä½å®ç°ã\n\nè½ç¶æä»¬å¯¹åä¸ªæ¶éå¨è¿è¡æ¯è¾ï¼ä½å¹¶éè¦æéåºä¸ä¸ªæå¥½çæ¶éå¨ãå ä¸ºç´å°ç°å¨ä¸ºæ­¢è¿æ²¡ææå¥½çåå¾æ¶éå¨åºç°ï¼æ´å æ²¡æä¸è½çåå¾æ¶éå¨ï¼æä»¬è½åçå°±æ¯æ ¹æ®å·ä½åºç¨åºæ¯éæ©éåèªå·±çåå¾æ¶éå¨ã\n\n# Serial æ¶éå¨\n\nSerialï¼ä¸²è¡ï¼æ¶éå¨æ¯æåºæ¬ãåå²ææ ä¹çåå¾æ¶éå¨äºãå¤§å®¶çåå­å°±ç¥éè¿ä¸ªæ¶éå¨æ¯ä¸ä¸ªåçº¿ç¨æ¶éå¨äºãå®ç âåçº¿ç¨â çæä¹ä¸ä»ä»æå³çå®åªä¼ä½¿ç¨ä¸æ¡åå¾æ¶éçº¿ç¨å»å®æåå¾æ¶éå·¥ä½ï¼æ´éè¦çæ¯å®å¨è¿è¡åå¾æ¶éå·¥ä½çæ¶åå¿é¡»æåå¶ä»ææçå·¥ä½çº¿ç¨ï¼ "Stop The World" ï¼ï¼ç´å°å®æ¶éç»æã\n\næ°çä»£éç¨æ è®°-å¤å¶ç®æ³ï¼èå¹´ä»£éç¨æ è®°-æ´çç®æ³ã\n\n# ParNew æ¶éå¨\n\nParNew æ¶éå¨å¶å®å°±æ¯ Serial æ¶éå¨çå¤çº¿ç¨çæ¬ï¼é¤äºä½¿ç¨å¤çº¿ç¨è¿è¡åå¾æ¶éå¤ï¼å¶ä½è¡ä¸ºï¼æ§å¶åæ°ãæ¶éç®æ³ãåæ¶ç­ç¥ç­ç­ï¼å Serial æ¶éå¨å®å¨ä¸æ ·ã\n\nå®æ¯è®¸å¤è¿è¡å¨ Server æ¨¡å¼ä¸çèææºçé¦è¦éæ©ï¼é¤äº Serial æ¶éå¨å¤ï¼åªæå®è½ä¸ CMS æ¶éå¨ï¼çæ­£æä¹ä¸çå¹¶åæ¶éå¨ï¼åé¢ä¼ä»ç»å°ï¼éåå·¥ä½ã\n\n# Parallel Scavenge æ¶éå¨\n\nParallel Scavenge æ¶éå¨ä¹æ¯ä½¿ç¨æ è®°-å¤å¶ç®æ³çå¤çº¿ç¨æ¶éå¨ï¼å®çä¸å»å ä¹å ParNew é½ä¸æ ·ã é£ä¹å®æä»ä¹ç¹å«ä¹å¤å¢ï¼\n\nParallel Scavenge æ¶éå¨å³æ³¨ç¹æ¯ååéï¼é«æççå©ç¨ CPUï¼ãCMS ç­åå¾æ¶éå¨çå³æ³¨ç¹æ´å¤çæ¯ç¨æ·çº¿ç¨çåé¡¿æ¶é´ï¼æé«ç¨æ·ä½éªï¼ãæè°ååéå°±æ¯ CPU ä¸­ç¨äºè¿è¡ç¨æ·ä»£ç çæ¶é´ä¸ CPU æ»æ¶èæ¶é´çæ¯å¼ã\n\n# CMS æ¶éå¨\n\nCMSï¼Concurrent Mark Sweepï¼æ¶éå¨æ¯ä¸ç§ä»¥è·åæç­åæ¶åé¡¿æ¶é´ä¸ºç®æ çæ¶éå¨ãå®éå¸¸ç¬¦åå¨æ³¨éç¨æ·ä½éªçåºç¨ä¸ä½¿ç¨ã\n\nCMSï¼Concurrent Mark Sweepï¼æ¶éå¨æ¯ HotSpot èææºç¬¬ä¸æ¬¾çæ­£æä¹ä¸çå¹¶åæ¶éå¨ï¼å®ç¬¬ä¸æ¬¡å®ç°äºè®©åå¾æ¶éçº¿ç¨ä¸ç¨æ·çº¿ç¨ï¼åºæ¬ä¸ï¼åæ¶å·¥ä½ã\n\nä»åå­ä¸­çMark Sweepè¿ä¸¤ä¸ªè¯å¯ä»¥çåºï¼CMS æ¶éå¨æ¯ä¸ç§ âæ è®°-æ¸é¤âç®æ³å®ç°çï¼å®çè¿ä½è¿ç¨ç¸æ¯äºåé¢å ç§åå¾æ¶éå¨æ¥è¯´æ´å å¤æä¸äºãæ´ä¸ªè¿ç¨åä¸ºåä¸ªæ­¥éª¤ï¼\n\n * åå§æ è®°ï¼ æåææçå¶ä»çº¿ç¨ï¼å¹¶è®°å½ä¸ç´æ¥ä¸ root ç¸è¿çå¯¹è±¡ï¼éåº¦å¾å¿« ï¼\n * å¹¶åæ è®°ï¼ åæ¶å¼å¯ GC åç¨æ·çº¿ç¨ï¼ç¨ä¸ä¸ªé­åç»æå»è®°å½å¯è¾¾å¯¹è±¡ãä½å¨è¿ä¸ªé¶æ®µç»æï¼è¿ä¸ªé­åç»æå¹¶ä¸è½ä¿è¯åå«å½åææçå¯è¾¾å¯¹è±¡ãå ä¸ºç¨æ·çº¿ç¨å¯è½ä¼ä¸æ­çæ´æ°å¼ç¨åï¼æä»¥ GC çº¿ç¨æ æ³ä¿è¯å¯è¾¾æ§åæçå®æ¶æ§ãæä»¥è¿ä¸ªç®æ³éä¼è·è¸ªè®°å½è¿äºåçå¼ç¨æ´æ°çå°æ¹ã\n * éæ°æ è®°ï¼ éæ°æ è®°é¶æ®µå°±æ¯ä¸ºäºä¿®æ­£å¹¶åæ è®°æé´å ä¸ºç¨æ·ç¨åºç»§ç»­è¿è¡èå¯¼è´æ è®°äº§çåå¨çé£ä¸é¨åå¯¹è±¡çæ è®°è®°å½ï¼è¿ä¸ªé¶æ®µçåé¡¿æ¶é´ä¸è¬ä¼æ¯åå§æ è®°é¶æ®µçæ¶é´ç¨é¿ï¼è¿è¿æ¯å¹¶åæ è®°é¶æ®µæ¶é´ç­\n * å¹¶åæ¸é¤ï¼ å¼å¯ç¨æ·çº¿ç¨ï¼åæ¶ GC çº¿ç¨å¼å§å¯¹æªæ è®°çåºååæ¸æ«ã\n\nä»å®çåå­å°±å¯ä»¥çåºå®æ¯ä¸æ¬¾ä¼ç§çåå¾æ¶éå¨ï¼ä¸»è¦ä¼ç¹ï¼å¹¶åæ¶éãä½åé¡¿ãä½æ¯å®æä¸é¢ä¸ä¸ªææ¾çç¼ºç¹ï¼\n\n * å¯¹ CPU èµæºææï¼\n * æ æ³å¤çæµ®å¨åå¾ï¼\n * å®ä½¿ç¨çåæ¶ç®æ³-âæ è®°-æ¸é¤âç®æ³ä¼å¯¼è´æ¶éç»ææ¶ä¼æå¤§éç©ºé´ç¢çäº§çã\n\n# G1 æ¶éå¨\n\nG1 (Garbage-First) æ¯ä¸æ¬¾é¢åæå¡å¨çåå¾æ¶éå¨,ä¸»è¦éå¯¹éå¤å¤é¢å¤çå¨åå¤§å®¹éåå­çæºå¨. ä»¥æé«æ¦çæ»¡è¶³ GC åé¡¿æ¶é´è¦æ±çåæ¶,è¿å·å¤é«ååéæ§è½ç¹å¾.\n\nè¢«è§ä¸º JDK1.7 ä¸­ HotSpot èææºçä¸ä¸ªéè¦è¿åç¹å¾ãå®å·å¤ä»¥ä¸ç¹ç¹ï¼\n\n * å¹¶è¡ä¸å¹¶åï¼G1 è½ååå©ç¨ CPUãå¤æ ¸ç¯å¢ä¸çç¡¬ä»¶ä¼å¿ï¼ä½¿ç¨å¤ä¸ª CPUï¼CPU æè CPU æ ¸å¿ï¼æ¥ç¼©ç­ Stop-The-World åé¡¿æ¶é´ãé¨åå¶ä»æ¶éå¨åæ¬éè¦åé¡¿ Java çº¿ç¨æ§è¡ç GC å¨ä½ï¼G1 æ¶éå¨ä»ç¶å¯ä»¥éè¿å¹¶åçæ¹å¼è®© java ç¨åºç»§ç»­æ§è¡ã\n * åä»£æ¶éï¼è½ç¶ G1 å¯ä»¥ä¸éè¦å¶ä»æ¶éå¨éåå°±è½ç¬ç«ç®¡çæ´ä¸ª GC å ï¼ä½æ¯è¿æ¯ä¿çäºåä»£çæ¦å¿µã\n * ç©ºé´æ´åï¼ä¸ CMS çâæ è®°-æ¸çâç®æ³ä¸åï¼G1 ä»æ´ä½æ¥çæ¯åºäºâæ è®°-æ´çâç®æ³å®ç°çæ¶éå¨ï¼ä»å±é¨ä¸æ¥çæ¯åºäºâæ è®°-å¤å¶âç®æ³å®ç°çã\n * å¯é¢æµçåé¡¿ï¼è¿æ¯ G1 ç¸å¯¹äº CMS çå¦ä¸ä¸ªå¤§ä¼å¿ï¼éä½åé¡¿æ¶é´æ¯ G1 å CMS å±åçå³æ³¨ç¹ï¼ä½ G1 é¤äºè¿½æ±ä½åé¡¿å¤ï¼è¿è½å»ºç«å¯é¢æµçåé¡¿æ¶é´æ¨¡åï¼è½è®©ä½¿ç¨èæç¡®æå®å¨ä¸ä¸ªé¿åº¦ä¸º M æ¯«ç§çæ¶é´çæ®µåã\n\nG1 æ¶éå¨çè¿ä½å¤§è´åä¸ºä»¥ä¸å ä¸ªæ­¥éª¤ï¼\n\n * åå§æ è®°\n * å¹¶åæ è®°\n * æç»æ è®°\n * ç­éåæ¶\n\nG1 æ¶éå¨å¨åå°ç»´æ¤äºä¸ä¸ªä¼ååè¡¨ï¼æ¯æ¬¡æ ¹æ®åè®¸çæ¶éæ¶é´ï¼ä¼åéæ©åæ¶ä»·å¼æå¤§ç Region(è¿ä¹å°±æ¯å®çåå­ Garbage-First çç±æ¥) ãè¿ç§ä½¿ç¨ Region åååå­ç©ºé´ä»¥åæä¼åçº§çåºååæ¶æ¹å¼ï¼ä¿è¯äº G1 æ¶éå¨å¨æéæ¶é´åå¯ä»¥å°½å¯è½é«çæ¶éæçï¼æåå­åæ´ä¸ºé¶ï¼ã\n\n# ZGC æ¶éå¨\n\nä¸ CMS ä¸­ç ParNew å G1 ç±»ä¼¼ï¼ZGC ä¹éç¨æ è®°-å¤å¶ç®æ³ï¼ä¸è¿ ZGC å¯¹è¯¥ç®æ³åäºéå¤§æ¹è¿ã\n\nå¨ ZGC ä¸­åºç° Stop The World çæåµä¼æ´å°ï¼\n\n\n# 3 ç±»å è½½çè¿ç¨\n\nç±»ä»è¢«å è½½å°èææºåå­ä¸­å¼å§ï¼å°å¸è½½åºåå­ä¸ºæ­¢ï¼å®çæ´ä¸ªçå½å¨æåæ¬ï¼å è½½ï¼éªè¯ï¼åå¤ï¼è§£æï¼åå§å,ä½¿ç¨,å¸è½½è¿7ä¸ªé¶æ®µ.å¶ä¸­å¶ä¸­éªè¯ãåå¤ãè§£æ3ä¸ªé¨åç»ç§°ä¸ºè¿æ¥.\n\n\n\n\n# 3.1 å è½½\n\n * éè¿ä¸ä¸ªç±»çå¨éå®åæ¥è·åå¶å®ä¹çäºè¿å¶å­èæµã\n * å°è¿ä¸ªå­èæµæä»£è¡¨çéæå­å¨ç»æè½¬åä¸ºæ¹æ³åºçè¿è¡æ¶æ°æ®ç»æã\n * å¨Javaå ä¸­çæä¸ä¸ªä»£è¡¨è¿ä¸ªç±»ç java.lang.Classå¯¹è±¡ï¼ä½ä¸ºå¯¹æ¹æ³åºä¸­è¿äºæ°æ®çè®¿é®å¥å£ã\n\n> ç¸å¯¹äºç±»å è½½çå¶ä»é¶æ®µèè¨ï¼å è½½é¶æ®µï¼åç¡®å°è¯´ï¼æ¯å è½½é¶æ®µè·åç±»çäºè¿å¶å­èæµçå¨ä½ï¼æ¯å¯æ§æ§æå¼ºçé¶æ®µï¼å ä¸º==å¼åäººåæ¢å¯ä»¥ä½¿ç¨ç³»ç»æä¾çç±»å è½½å¨æ¥å®æå è½½ï¼ä¹å¯ä»¥èªå®ä¹èªå·±çç±»å è½½å¨æ¥å®æå è½½==ã\n\n\n# 3.2 è¿æ¥\n\n# éªè¯\n\n==ç¡®ä¿è¢«å è½½ç±»çæ­£ç¡®æ§==\n\néªè¯æ¯è¿æ¥é¶æ®µçç¬¬ä¸æ­¥ï¼è¿ä¸é¶æ®µçç®çæ¯ä¸ºäºç¡®ä¿Classæä»¶çå­èæµä¸­åå«çä¿¡æ¯ç¬¦åå½åèææºçè¦æ±ï¼å¹¶ä¸ä¸ä¼å±å®³èææºèªèº«çå®å¨ãéªè¯é¶æ®µå¤§è´ä¼å®æ4ä¸ªé¶æ®µçæ£éªå¨ä½ï¼\n\n * æä»¶æ ¼å¼éªè¯ï¼éªè¯å­èæµæ¯å¦ç¬¦åClassæä»¶æ ¼å¼çè§èï¼ä¾å¦ï¼æ¯å¦ä»¥ 0xCAFEBABEå¼å¤´ãä¸»æ¬¡çæ¬å·æ¯å¦å¨å½åèææºçå¤çèå´ä¹åãå¸¸éæ± ä¸­çå¸¸éæ¯å¦æä¸è¢«æ¯æçç±»åã\n * åæ°æ®éªè¯ï¼å¯¹å­èç æè¿°çä¿¡æ¯è¿è¡è¯­ä¹åæï¼æ³¨æï¼å¯¹æ¯javacç¼è¯é¶æ®µçè¯­ä¹åæï¼ï¼ä»¥ä¿è¯å¶æè¿°çä¿¡æ¯ç¬¦åJavaè¯­è¨è§èçè¦æ±ï¼ä¾å¦ï¼è¿ä¸ªç±»æ¯å¦æç¶ç±»ï¼é¤äº java.lang.Objectä¹å¤ã\n * å­èç éªè¯ï¼éè¿æ°æ®æµåæ§å¶æµåæï¼ç¡®å®ç¨åºè¯­ä¹æ¯åæ³çãç¬¦åé»è¾çã\n * ç¬¦å·å¼ç¨éªè¯ï¼ç¡®ä¿è§£æå¨ä½è½æ­£ç¡®æ§è¡ã\n\n> éªè¯é¶æ®µæ¯éå¸¸éè¦çï¼ä½ä¸æ¯å¿é¡»çï¼å®å¯¹ç¨åºè¿è¡ææ²¡æå½±åï¼å¦ææå¼ç¨çç±»ç»è¿åå¤éªè¯ï¼é£ä¹å¯ä»¥èèéç¨ -Xverifynoneåæ°æ¥å³é­å¤§é¨åçç±»éªè¯æªæ½ï¼ä»¥ç¼©ç­èææºç±»å è½½çæ¶é´ã\n\n# åå¤\n\nä¸ºç±»ç éæåéåéåå­ï¼å¹¶å°å¶åå§åä¸ºé»è®¤å¼\n\néè¦æ³¨æçå ç¹ï¼\n\n * 1ãè¿æ¶åè¿è¡åå­åéçä»åæ¬ç±»åéï¼staticï¼ï¼èä¸åæ¬å®ä¾åéï¼å®ä¾åéä¼å¨å¯¹è±¡å®ä¾åæ¶éçå¯¹è±¡ä¸ååéå¨Javaå ä¸­ã\n * 2ãè¿éæè®¾ç½®çåå§å¼éå¸¸æåµä¸æ¯æ°æ®ç±»åé»è®¤çé¶å¼ï¼å¦0ã0Lãnullãfalseç­ï¼ï¼èä¸æ¯è¢«å¨Javaä»£ç ä¸­è¢«æ¾å¼å°èµäºçå¼ã\n\n> è¿éè¿éè¦æ³¨æå¦ä¸å ç¹ï¼\n> \n> 1ãå¯¹åºæ¬æ°æ®ç±»åæ¥è¯´ï¼å¯¹äºç±»åéï¼staticï¼åå¨å±åéï¼å¦æä¸æ¾å¼å°å¯¹å¶èµå¼èç´æ¥ä½¿ç¨ï¼åç³»ç»ä¼ä¸ºå¶èµäºé»è®¤çé¶å¼ï¼èå¯¹äºå±é¨åéæ¥è¯´ï¼å¨ä½¿ç¨åå¿é¡»æ¾å¼å°ä¸ºå¶èµå¼ï¼å¦åç¼è¯æ¶ä¸éè¿ã\n> \n> 2ãå¯¹äºåæ¶è¢«staticåfinalä¿®é¥°çå¸¸éï¼å¿é¡»å¨å£°æçæ¶åå°±ä¸ºå¶æ¾å¼å°èµå¼ï¼å¦åç¼è¯æ¶ä¸éè¿ï¼èåªè¢«finalä¿®é¥°çå¸¸éåæ¢å¯ä»¥å¨å£°ææ¶æ¾å¼å°ä¸ºå¶èµå¼ï¼ä¹å¯ä»¥å¨ç±»åå§åæ¶æ¾å¼å°ä¸ºå¶èµå¼ï¼æ»ä¹ï¼å¨ä½¿ç¨åå¿é¡»ä¸ºå¶æ¾å¼å°èµå¼ï¼ç³»ç»ä¸ä¼ä¸ºå¶èµäºé»è®¤é¶å¼ã\n> \n> 3ãå¯¹äºå¼ç¨æ°æ®ç±»åreferenceæ¥è¯´ï¼å¦æ°ç»å¼ç¨ãå¯¹è±¡å¼ç¨ç­ï¼å¦ææ²¡æå¯¹å¶è¿è¡æ¾å¼å°èµå¼èç´æ¥ä½¿ç¨ï¼ç³»ç»é½ä¼ä¸ºå¶èµäºé»è®¤çé¶å¼ï¼å³nullã\n> \n> 4ãå¦æå¨æ°ç»åå§åæ¶æ²¡æå¯¹æ°ç»ä¸­çååç´ èµå¼ï¼é£ä¹å¶ä¸­çåç´ å°æ ¹æ®å¯¹åºçæ°æ®ç±»åèè¢«èµäºé»è®¤çé¶å¼ã\n\n * 3ãå¦æç±»å­æ®µçå­æ®µå±æ§è¡¨ä¸­å­å¨ ConstantValueå±æ§ï¼å³åæ¶è¢«finalåstaticä¿®é¥°ï¼é£ä¹å¨åå¤é¶æ®µåévalueå°±ä¼è¢«åå§åä¸ºConstValueå±æ§ææå®çå¼ã\n\n# è§£æ\n\næç±»ä¸­çç¬¦å·å¼ç¨è½¬æ¢ä¸ºç´æ¥å¼ç¨\n\nè§£æé¶æ®µæ¯èææºå°å¸¸éæ± åçç¬¦å·å¼ç¨æ¿æ¢ä¸ºç´æ¥å¼ç¨çè¿ç¨ï¼è§£æå¨ä½ä¸»è¦éå¯¹ç±»ææ¥å£ãå­æ®µãç±»æ¹æ³ãæ¥å£æ¹æ³ãæ¹æ³ç±»åãæ¹æ³å¥æåè°ç¨ç¹éå®ç¬¦7ç±»ç¬¦å·å¼ç¨è¿è¡ãç¬¦å·å¼ç¨å°±æ¯ä¸ç»ç¬¦å·æ¥æè¿°ç®æ ï¼å¯ä»¥æ¯ä»»ä½å­é¢éã\n\nç´æ¥å¼ç¨å°±æ¯ç´æ¥æåç®æ çæéãç¸å¯¹åç§»éæä¸ä¸ªé´æ¥å®ä½å°ç®æ çå¥æã\n\n\n# 3.3 åå§å\n\n==ä¸ºç±»çéæåéèµäºæ­£ç¡®çåå§å¼==ï¼JVMè´è´£å¯¹ç±»è¿è¡åå§åï¼ä¸»è¦å¯¹ç±»åéè¿è¡åå§åãå¨Javaä¸­å¯¹ç±»åéè¿è¡åå§å¼è®¾å®æä¸¤ç§æ¹å¼ï¼\n\n * å£°æç±»åéæ¯æå®åå§å¼\n * ä½¿ç¨éæä»£ç åä¸ºç±»åéæå®åå§å¼\n\nJVM åå§åæ­¥éª¤\n\n * 1ãåå¦è¿ä¸ªç±»è¿æ²¡æè¢«å è½½åè¿æ¥ï¼åç¨åºåå è½½å¹¶è¿æ¥è¯¥ç±»\n * 2ãåå¦è¯¥ç±»çç´æ¥ç¶ç±»è¿æ²¡æè¢«åå§åï¼åååå§åå¶ç´æ¥ç¶ç±»\n * 3ãåå¦ç±»ä¸­æåå§åè¯­å¥ï¼åç³»ç»ä¾æ¬¡æ§è¡è¿äºåå§åè¯­å¥\n\n\n# 3.4 ç»æçå½å¨æ\n\nå¨å¦ä¸å ç§æåµä¸ï¼Javaèææºå°ç»æçå½å¨æ\n\n * æ§è¡äº System.exit()æ¹æ³\n * ç¨åºæ­£å¸¸æ§è¡ç»æ\n * ç¨åºå¨æ§è¡è¿ç¨ä¸­éå°äºå¼å¸¸æéè¯¯èå¼å¸¸ç»æ­¢\n * ç±äºæä½ç³»ç»åºç°éè¯¯èå¯¼è´Javaèææºè¿ç¨ç»æ­¢\n\n\n# 4 ç±»å è½½å¨\n\nJVM ä¸­åç½®äºä¸ä¸ªéè¦ç ClassLoaderï¼é¤äº BootstrapClassLoader å¶ä»ç±»å è½½å¨åç± Java å®ç°ä¸å¨é¨ç»§æ¿èªjava.lang.ClassLoaderï¼\n\n 1. BootstrapClassLoader(å¯å¨ç±»å è½½å¨) ï¼æé¡¶å±çå è½½ç±»ï¼ç± C++å®ç°ï¼è´è´£å è½½ %JAVA_HOME%/libç®å½ä¸ç jar ååç±»æèè¢« -Xbootclasspathåæ°æå®çè·¯å¾ä¸­çææç±»ã\n 2. ExtensionClassLoader(æ©å±ç±»å è½½å¨) ï¼ä¸»è¦è´è´£å è½½ %JRE_HOME%/lib/ext ç®å½ä¸ç jar ååç±»ï¼æè¢« java.ext.dirs ç³»ç»åéææå®çè·¯å¾ä¸ç jar åã\n 3. AppClassLoader(åºç¨ç¨åºç±»å è½½å¨) ï¼é¢åæä»¬ç¨æ·çå è½½å¨ï¼è´è´£å è½½å½ååºç¨ classpath ä¸çææ jar ååç±»ã\n\n\n\n\n# 4.1 å¯å¨ç±»/å¼å¯¼ç±»ï¼Bootstrap ClassLoader\n\n> è¿ä¸ªç±»å è½½å¨ä½¿ç¨C/C++è¯­è¨å®ç°çï¼åµå¥å¨JVMåé¨ï¼javaç¨åºæ æ³ç´æ¥æä½è¿ä¸ªç±»ã\n> \n> å®ç¨æ¥å è½½Javaæ ¸å¿ç±»åºï¼å¦ï¼JAVA_HOME/jre/lib/rt.jarãresources.jarãsun.boot.class.pathè·¯å¾ä¸çåï¼ç¨äºæä¾jvmè¿è¡æéçåã\n> \n> å¹¶ä¸æ¯ç»§æ¿èªjava.lang.ClassLoaderï¼å®æ²¡æç¶ç±»å è½½å¨\n> \n> å®å è½½æ©å±ç±»å è½½å¨ååºç¨ç¨åºç±»å è½½å¨ï¼å¹¶æä¸ºä»ä»¬çç¶ç±»å è½½å¨\n> \n> åºäºå®å¨èèï¼å¯å¨ç±»åªå è½½ååä¸ºï¼javaãjavaxãsunå¼å¤´çç±»\n\n\n# 4.2 æ©å±ç±»å è½½å¨ï¼Extension ClassLoader\n\n> Javaè¯­è¨ç¼åï¼ç±sun.misc.Launcher$ExtClassLoaderå®ç°ï¼æä»¬å¯ä»¥ç¨Javaç¨åºæä½è¿ä¸ªå è½½å¨\n> \n> æ´¾çç»§æ¿èªjava.lang.ClassLoaderï¼ç¶ç±»å è½½å¨ä¸ºå¯å¨ç±»å è½½å¨\n> \n> ä»ç³»ç»å±æ§ï¼java.ext.dirsç®å½ä¸­å è½½ç±»åºï¼æèä»JDKå®è£ç®å½ï¼jre/lib/extç®å½ä¸å è½½ç±»åºãæä»¬å°±å¯ä»¥å°æä»¬èªå·±çåæ¾å¨ä»¥ä¸ç®å½ä¸ï¼å°±ä¼èªå¨å è½½è¿æ¥äºã\n\n\n# 4.3 åºç¨ç¨åºç±»å è½½å¨ï¼Application Classloader\n\n> Javaè¯­è¨ç¼åï¼ç±sun.misc.Launcher$AppClassLoaderå®ç°ã\n> \n> æ´¾çç»§æ¿èªjava.lang.ClassLoaderï¼ç¶ç±»å è½½å¨ä¸ºå¯å¨ç±»å è½½å¨\n> \n> å®è´è´£å è½½ç¯å¢åéclasspathæèç³»ç»å±æ§java.class.pathæå®è·¯å¾ä¸çç±»åºï¼å®æ¯ç¨åºä¸­é»è®¤çç±»å è½½å¨ï¼æä»¬Javaç¨åºä¸­çç±»ï¼é½æ¯ç±å®å è½½å®æçã\n> \n> æä»¬å¯ä»¥éè¿ClassLoader#getSystemClassLoader()è·åå¹¶æä½è¿ä¸ªå è½½å¨\n\n\n# 4.4 èªå®ä¹å è½½å¨\n\n> ä¸è¬æåµä¸ï¼ä»¥ä¸3ç§å è½½å¨è½æ»¡è¶³æä»¬æ¥å¸¸çå¼åå·¥ä½ï¼ä¸æ»¡è¶³æ¶ï¼æä»¬è¿å¯ä»¥==èªå®ä¹å è½½å¨==\n> \n> æ¯å¦ç¨ç½ç»å è½½Javaç±»ï¼ä¸ºäºä¿è¯ä¼ è¾ä¸­çå®å¨æ§ï¼éç¨äºå å¯æä½ï¼é£ä¹ä»¥ä¸3ç§å è½½å¨å°±æ æ³å è½½è¿ä¸ªç±»ï¼è¿æ¶åå°±éè¦èªå®ä¹å è½½å¨\n\n\n# 5 å è½½æºå¶\n\nJava èææºææè¿°ç±»çæ°æ®ä» Class æä»¶å è½½å°åå­ä¸­ï¼å¹¶å¯¹æ°æ®è¿è¡æ ¡éªãè½¬åè§£æååå§åï¼æç»å½¢æå¯ä»¥è¢«èææºç´æ¥ä½¿ç¨ç Javaç±»åï¼è¿ä¸ªè¿ç¨è¢«ç§°ä½èææºçç±»å è½½æºå¶ã\n\n\n# 5.1 åäº²å§æ´¾æ¨¡å\n\njvmå¯¹classæä»¶éç¨çæ¯æéå è½½çæ¹å¼ï¼å½éè¦ä½¿ç¨è¯¥ç±»æ¶ï¼jvmæä¼å°å®çclassæä»¶å è½½å°åå­ä¸­äº§çclasså¯¹è±¡ã\n\nå¨å è½½ç±»çæ¶åï¼æ¯éç¨çåäº²å§æ´¾æºå¶ï¼å³æè¯·æ±äº¤ç»ç¶ç±»å¤ççä¸ç§ä»»å¡å§æ´¾æ¨¡å¼ã\n\n\n\n * å·¥ä½åç\n   \n   1. å¦æä¸ä¸ªç±»å è½½å¨æ¥æ¶å°äºç±»å è½½çè¯·æ±ï¼å®èªå·±ä¸ä¼åå»å è½½ï¼ä¼æè¿ä¸ªè¯·æ±å§æç»ç¶ç±»å è½½å¨å»æ§è¡ã\n   2. å¦æç¶ç±»è¿å­å¨ç¶ç±»å è½½å¨ï¼åç»§ç»­åä¸å§æï¼ä¸ç´å§æå°å¯å¨ç±»å è½½å¨ï¼Bootstrap ClassLoader\n   3. å¦æç¶ç±»å è½½å¨å¯ä»¥å®æå è½½ä»»å¡ï¼å°±è¿åæåç»æï¼å¦æç¶ç±»å è½½å¤±è´¥ï¼å°±ç±å­ç±»èªå·±å»å°è¯å è½½ï¼å¦æå­ç±»å è½½å¤±è´¥å°±ä¼æåºClassNotFoundExceptionå¼å¸¸ï¼è¿å°±æ¯åäº²å§æ´¾æ¨¡å¼\n\n * ä¼ç¹ï¼\n   \n   åäº²å§æ´¾æ¨¡åä¿è¯äº Java ç¨åºçç¨³å®è¿è¡ï¼å¯ä»¥é¿åç±»çéå¤å è½½ï¼JVM åºåä¸åç±»çæ¹å¼ä¸ä»ä»æ ¹æ®ç±»åï¼ç¸åçç±»æä»¶è¢«ä¸åçç±»å è½½å¨å è½½äº§ççæ¯ä¸¤ä¸ªä¸åçç±»ï¼ï¼ä¹ä¿è¯äº Java çæ ¸å¿ API ä¸è¢«ç¯¡æ¹ãå¦ææ²¡æä½¿ç¨åäº²å§æ´¾æ¨¡åï¼èæ¯æ¯ä¸ªç±»å è½½å¨å è½½èªå·±çè¯å°±ä¼åºç°ä¸äºé®é¢ï¼æ¯å¦æä»¬ç¼åä¸ä¸ªç§°ä¸º java.lang.Object ç±»çè¯ï¼é£ä¹ç¨åºè¿è¡çæ¶åï¼ç³»ç»å°±ä¼åºç°å¤ä¸ªä¸åç Object ç±»ã\n\n\n# 5.2 ååå§æ´¾æºå¶\n\nå¨Javaåºç¨ä¸­å­å¨çå¾å¤æå¡æä¾èæ¥å£ï¼Service Provider Interfaceï¼SPIï¼ï¼è¿äºæ¥å£åè®¸ç¬¬ä¸æ¹ä¸ºå®ä»¬æä¾å®ç°ï¼å¦å¸¸è§ç SPI æ JDBCãJNDIç­ï¼è¿äº SPI çæ¥å£å±äº Java æ ¸å¿åºï¼ä¸è¬å­å¨rt.jaråä¸­ï¼ç±Bootstrapç±»å è½½å¨å è½½ãèBootstrapç±»å è½½å¨æ æ³ç´æ¥å è½½SPIçå®ç°ç±»ï¼åæ¶ç±äºåäº²å§æ´¾æ¨¡å¼çå­å¨ï¼Bootstrapç±»å è½½å¨ä¹æ æ³ååå§æAppClassLoaderå è½½å¨SPIçå®ç°ç±»ãå¨è¿ç§æåµä¸ï¼æä»¬å°±éè¦ä¸ç§ç¹æ®çç±»å è½½å¨æ¥å è½½ç¬¬ä¸æ¹çç±»åºï¼èçº¿ç¨ä¸ä¸æç±»å è½½å¨ï¼åäº²å§æ´¾æ¨¡åçç ´åèï¼å°±æ¯å¾å¥½çéæ©ã\n\nä»å¾å¯ç¥rt.jaræ ¸å¿åæ¯æBootstrapç±»å è½½å¨å è½½çï¼å¶ååå«SPIæ ¸å¿æ¥å£ç±»ï¼ç±äºSPIä¸­çç±»ç»å¸¸éè¦è°ç¨å¤é¨å®ç°ç±»çæ¹æ³ï¼èjdbc.jaråå«å¤é¨å®ç°ç±»(jdbc.jarå­å¨äºclasspathè·¯å¾)æ æ³éè¿Bootstrapç±»å è½½å¨å è½½ï¼å æ­¤åªè½å§æ´¾çº¿ç¨ä¸ä¸æç±»å è½½å¨æjdbc.jarä¸­çå®ç°ç±»å è½½å°åå­ä»¥ä¾¿SPIç¸å³ç±»ä½¿ç¨ãæ¾ç¶è¿ç§çº¿ç¨ä¸ä¸æç±»å è½½å¨çå è½½æ¹å¼ç ´åäºâåäº²å§æ´¾æ¨¡åâï¼å®å¨æ§è¡è¿ç¨ä¸­æå¼åäº²å§æ´¾å è½½é¾æ¨¡å¼ï¼ä½¿ç¨åºå¯ä»¥éåä½¿ç¨ç±»å è½½å¨ï¼å½ç¶è¿ä¹ä½¿å¾Javaç±»å è½½å¨åå¾æ´å çµæ´»ã\n\n\n\n\n# 6 JVMåæ°\n\n\n# 6.1 å åå­ç¸å³\n\n> Java èææºæç®¡ççåå­ä¸­æå¤§çä¸åï¼Java å æ¯ææçº¿ç¨å±äº«çä¸ååå­åºåï¼å¨èææºå¯å¨æ¶åå»ºãæ­¤åå­åºåçå¯ä¸ç®çå°±æ¯å­æ¾å¯¹è±¡å®ä¾ï¼å ä¹ææçå¯¹è±¡å®ä¾ä»¥åæ°ç»é½å¨è¿éåéåå­ã\n\n# æ¾å¼æå®å åå­âXmså-Xmx\n\nä¸æ§è½æå³çæå¸¸è§å®è·µä¹ä¸æ¯æ ¹æ®åºç¨ç¨åºè¦æ±åå§åå åå­ãå¦ææä»¬éè¦æå®æå°åæå¤§å å¤§å°ï¼æ¨èæ¾ç¤ºæå®å¤§å°ï¼ï¼ä»¥ä¸åæ°å¯ä»¥å¸®å©ä½ å®ç°ï¼\n\n-Xms&lt;heap size>[unit] \n-Xmx&lt;heap size>[unit]\n\n\n * heap size è¡¨ç¤ºè¦åå§ååå­çå·ä½å¤§å°ã\n * unit è¡¨ç¤ºè¦åå§ååå­çåä½ãåä½ä¸º***â gâ*** (GB) ã***â mâ***ï¼MBï¼ã***â kâ***ï¼KBï¼ã\n\nä¸¾ä¸ªæ å­ð°ï¼å¦ææä»¬è¦ä¸ºJVMåéæå°2 GBåæå¤§5 GBçå åå­å¤§å°ï¼æä»¬çåæ°åºè¯¥è¿æ ·æ¥åï¼\n\n-Xms2G -Xmx5G\n\n\n# æ¾å¼æ°çä»£åå­(Young Generation)\n\næ ¹æ®Oracleå®æ¹ææ¡£open in new windowï¼å¨å æ»å¯ç¨åå­éç½®å®æä¹åï¼ç¬¬äºå¤§å½±åå ç´ æ¯ä¸º Young Generation å¨å åå­æå çæ¯ä¾ãé»è®¤æåµä¸ï¼YG çæå°å¤§å°ä¸º 1310 MBï¼æå¤§å¤§å°ä¸ºæ éå¶ã\n\nä¸å±æä¸¤ç§æå® æ°çä»£åå­(Young Ceneration)å¤§å°çæ¹æ³ï¼\n\n1.éè¿-XX:NewSizeå-XX:MaxNewSizeæå®\n\n-XX:NewSize=&lt;young size>[unit] \n-XX:MaxNewSize=&lt;young size>[unit]\n\n\nä¸¾ä¸ªæ å­ð°ï¼å¦ææä»¬è¦ä¸º æ°çä»£åé æå°256m çåå­ï¼æå¤§ 1024mçåå­æä»¬çåæ°åºè¯¥è¿æ ·æ¥åï¼\n\n-XX:NewSize=256m\n-XX:MaxNewSize=1024m\n\n\n2.éè¿-Xmn<young size>[unit]æå®\n\nä¸¾ä¸ªæ å­ð°ï¼å¦ææä»¬è¦ä¸º æ°çä»£åé256mçåå­ï¼NewSizeä¸MaxNewSizeè®¾ä¸ºä¸è´ï¼ï¼æä»¬çåæ°åºè¯¥è¿æ ·æ¥åï¼\n\n-Xmn256m \n\n\nGC è°ä¼ç­ç¥ä¸­å¾éè¦çä¸æ¡ç»éªæ»ç»æ¯è¿æ ·è¯´çï¼\n\n> å°æ°å¯¹è±¡é¢çå¨æ°çä»£ï¼ç±äº Full GC çææ¬è¿é«äº Minor GCï¼å æ­¤å°½å¯è½å°å¯¹è±¡åéå¨æ°çä»£æ¯ææºçåæ³ï¼å®éé¡¹ç®ä¸­æ ¹æ® GC æ¥å¿åææ°çä»£ç©ºé´å¤§å°åéæ¯å¦åçï¼éå½éè¿â-Xmnâå½ä»¤è°èæ°çä»£å¤§å°ï¼æå¤§éåº¦éä½æ°å¯¹è±¡ç´æ¥è¿å¥èå¹´ä»£çæåµã\n\nå¦å¤ï¼ä½ è¿å¯ä»¥éè¿**-XX:NewRatio=<int>**æ¥è®¾ç½®æ°çä»£åèå¹´ä»£åå­çæ¯å¼ã\n\næ¯å¦ä¸é¢çåæ°å°±æ¯è®¾ç½®æ°çä»£ï¼åæ¬Edenåä¸¤ä¸ªSurvivoråºï¼ä¸èå¹´ä»£çæ¯å¼ä¸º1ãä¹å°±æ¯è¯´ï¼æ°çä»£ä¸èå¹´ä»£æå æ¯å¼ä¸º1ï¼1ï¼æ°çä»£å æ´ä¸ªå æ ç 1/2ã\n\n-XX:NewRatio=1\n\n\n# æ¾å¼æå®æ°¸ä¹ä»£/åç©ºé´çå¤§å°\n\nä»Java 8å¼å§ï¼å¦ææä»¬æ²¡ææå® Metaspace çå¤§å°ï¼éçæ´å¤ç±»çåå»ºï¼èææºä¼èå°½ææå¯ç¨çç³»ç»åå­ï¼æ°¸ä¹ä»£å¹¶ä¸ä¼åºç°è¿ç§æåµï¼ã\n\nJDK 1.8 ä¹åæ°¸ä¹ä»£è¿æ²¡è¢«å½»åºç§»é¤çæ¶åéå¸¸éè¿ä¸é¢è¿äºåæ°æ¥è°èæ¹æ³åºå¤§å°\n\n-XX:PermSize=N //æ¹æ³åº (æ°¸ä¹ä»£) åå§å¤§å°\n-XX:MaxPermSize=N //æ¹æ³åº (æ°¸ä¹ä»£) æå¤§å¤§å°,è¶è¿è¿ä¸ªå¼å°ä¼æåº OutOfMemoryError å¼å¸¸:java.lang.OutOfMemoryError: PermGen\n\n\nç¸å¯¹èè¨ï¼åå¾æ¶éè¡ä¸ºå¨è¿ä¸ªåºåæ¯æ¯è¾å°åºç°çï¼ä½å¹¶éæ°æ®è¿å¥æ¹æ³åºåå°±âæ°¸ä¹å­å¨âäºã\n\nJDK 1.8 çæ¶åï¼æ¹æ³åºï¼HotSpot çæ°¸ä¹ä»£ï¼è¢«å½»åºç§»é¤äºï¼JDK1.7 å°±å·²ç»å¼å§äºï¼ï¼åèä»£ä¹æ¯åç©ºé´ï¼åç©ºé´ä½¿ç¨çæ¯æ¬å°åå­ã\n\nä¸é¢æ¯ä¸äºå¸¸ç¨åæ°ï¼\n\n-XX:MetaspaceSize=N //è®¾ç½® Metaspace çåå§ï¼åæå°å¤§å°ï¼\n-XX:MaxMetaspaceSize=N //è®¾ç½® Metaspace çæå¤§å¤§å°ï¼å¦æä¸æå®å¤§å°çè¯ï¼éçæ´å¤ç±»çåå»ºï¼èææºä¼èå°½ææå¯ç¨çç³»ç»åå­ã\n\n\n\n# 6.2 åå¾æ¶éç¸å³\n\n# åå¾åæ¶å¨\n\nJVMå·æåç§ç±»åçGCå®ç°ï¼\n\n * ä¸²è¡åå¾æ¶éå¨\n * å¹¶è¡åå¾æ¶éå¨\n * CMSåå¾æ¶éå¨\n * G1åå¾æ¶éå¨\n\nå¯ä»¥ä½¿ç¨ä»¥ä¸åæ°å£°æè¿äºå®ç°ï¼\n\n-XX:+UseSerialGC\n-XX:+UseParallelGC\n-XX:+UseParNewGC\n-XX:+UseG1GC\n\n\n# GCè®°å½\n\nä¸ºäºä¸¥æ ¼çæ§åºç¨ç¨åºçè¿è¡ç¶åµï¼æä»¬åºè¯¥å§ç»æ£æ¥JVMçåå¾åæ¶æ§è½ãæç®åçæ¹æ³æ¯ä»¥äººç±»å¯è¯»çæ ¼å¼è®°å½GCæ´»å¨ã\n\nä½¿ç¨ä»¥ä¸åæ°ï¼æä»¬å¯ä»¥è®°å½GCæ´»å¨ï¼\n\n-XX:+UseGCLogFileRotation \n-XX:NumberOfGCLogFiles=&lt; number of log files > \n-XX:GCLogFileSize=&lt; file size >[ unit ]\n-Xloggc:/path/to/gc.log\n\n\n\n# 7 é¢è¯é®é¢\n\n 1.  è¿è¡æ¶æ°æ®åºä¸­åå«åªäºåºåï¼åªäºçº¿ç¨å±äº«ï¼åªäºçº¿ç¨ç¬äº«ï¼ãâ­â­â­â­â­ã\n 2.  è¯´ä¸ä¸æ¹æ³åºåæ°¸ä¹ä»£çå³ç³»ããâ­â­â­ã\n 3.  è®²ä¸ä¸ Java åå»ºä¸ä¸ªå¯¹è±¡çè¿ç¨ããâ­â­â­â­ã\n 4.  å¯¹è±¡çè®¿é®å®ä½çä¸¤ç§æ¹å¼ï¼å¥æåç´æ¥æéä¸¤ç§æ¹å¼ï¼ããâ­â­â­â­â­ã\n 5.  ä½ äºè§£åä»£çè®ºåï¼è®²ä¸ä¸ Minor GCãè¿æ Full GCããâ­â­â­â­â­ã\n 6.  Java ç¨ä»ä¹æ¹æ³ç¡®å®åªäºå¯¹è±¡è¯¥è¢«æ¸çï¼ è®²ä¸ä¸å¯è¾¾æ§åæç®æ³çæµç¨ããâ­â­â­â­ã\n 7.  JDK ä¸­æå ç§å¼ç¨ç±»åï¼åå«çç¹ç¹æ¯ä»ä¹ï¼ãâ­â­ã\n 8.  å¦ä½åæ¶æ¹æ³åºï¼ãâ­â­â­ã\n 9.  æ è®°æ¸æ¥ãæ è®°å¤å¶ãæ è®°æ´çåå«æ¯ææ ·æ¸çåå¾çï¼åæä»ä¹ä¼ç¼ºç¹ï¼ãâ­â­â­â­â­ã\n 10. JVM ä¸­çå®å¨ç¹åå®å¨åºåä»£è¡¨ä»ä¹ï¼åå±éä½ äºè§£åï¼ãâ­â­â­â­ã\n 11. å¹¶åæ è®°è¦è§£å³ä»ä¹é®é¢ï¼å¹¶åæ è®°å¸¦æ¥äºä»ä¹é®é¢ï¼å¦ä½è§£å³å¹¶åæ«ææ¶å¯¹è±¡æ¶å¤±é®é¢ï¼ãâ­â­â­â­ãç¸å³éè¯»ï¼é¢è¯å®:ä½ è¯´ä½ çæ jvm?é£ä½ è®²ä¸ä¸å¹¶åçå¯è¾¾æ§åæ ã\n 12. å¯¹äº JVM çåå¾æ¶éå¨ä½ æä»ä¹äºè§£çï¼ãâ­â­â­â­ãææ¶åé¢è¯å®ä¼é®åºè¿ç§ååå¼æ¾æ§çé®é¢ï¼ä½ éè¦èå­éè¿ä¸ä¸ä½ å¯¹è¿ä¸ªå¤§é®é¢ä¸çåªäºç¥è¯çæåªäºä¸çæï¼ä¸çæçç¹ä¸ä¸å°±è¿ï¼çæçå±å¼è®²ãå¨åå¤æ ¡ææ¶ï¼æçä¸ä¸ªæ¯é¿é P7 çå­¦å§ï¼ç»æåè¿ä¸æ¬¡æ¨¡æé¢è¯ï¼é®åºè¿ä¸ªé®é¢æ¶è®©ææç¹æµï¼é£ä¹å¤ä¸è¥¿æä¸ç¥éä»åªå¼å§åç­åï¼å°±ç­å¾å¾åä¹±ãæ¨¡æé¢è¯å®æé®å¥¹è¿ç§é®é¢åºè¯¥ä»åªå¼å§åç­ï¼ å¥¹è¯´å¥¹å ä¸ºä¸ç¥éæçææ¡æåµï¼æä»¥å°±åé®ä¸ä¸ªå¤§é®é¢ï¼æ ¹æ®æçåç­åè¿½é®ï¼ä»¥åéå°è¿ç§é®é¢ä¸»è¦ä»èªå·±çæå¾æ¹é¢åå¥å°±å¯ä»¥äºãåæ¥çé¢è¯è¿çéå°è¿å¥½å æ¬¡è¿ç§æåµï¼æå°±ç­ï¼åå¾æ¶éå¨çç§ç±»æä»¥ä¸å ç§ Serialï¼ParNew...ç°å¨ç¨çå¤çè¿æ¯ CMS å G1ï¼CMS çåå¾æ¶éæµç¨æ¯ xxxï¼G1 çåå¾æ¶éæµç¨æ¯ xxxï¼ä»ä»¬ç¹ç¹æ¯...å°±è¿æ ·æè¯é¢å¼å° CMS å G1 äºï¼åª CMS å G1 è¿é¨ååé¢è¯å®è®¨è®ºåå åéå®å¨æ²¡é®é¢ã\n 13. æ°çä»£åå¾æ¶éå¨æåªäºï¼èå¹´ä»£åå¾æ¶éå¨æåªäºï¼åªäºæ¯åçº¿ç¨åå¾æ¶éå¨ï¼åªäºæ¯å¤çº¿ç¨åå¾æ¶éå¨ï¼åæä»ä¹ç¹ç¹ï¼ååºäºåªä¸ç§åå¾æ¶éç®æ³ï¼ãâ­â­â­â­ã\n 14. è®²ä¸ä¸ CMS åå¾æ¶éå¨çåä¸ªæ­¥éª¤ãCMS æä»ä¹ç¼ºç¹ï¼ãâ­â­â­â­ã\n 15. G1 åå¾æ¶éå¨çæ­¥éª¤ãæä»ä¹ç¼ºç¹ï¼ãâ­â­â­â­ã\n 16. è®²ä¸ä¸åå­åéç­ç¥ï¼ãâ­â­â­â­ã\n 17. èææºåºç¡æéå¤çå·¥å·æåªäºï¼ãâ­â­â­ã\n 18. ä»ä¹æ¯å­èç ï¼ç±»æä»¶ç»æçç»æäºè§£åï¼ãâ­â­â­â­ã\n 19. ç±»ççå½å¨æï¼ç±»å è½½çè¿ç¨äºè§£ä¹ï¼å è½½è¿ä¸æ­¥ä¸»è¦åäºä»ä¹äºæï¼åå§åé¶æ®µä¸­åªå ç§æåµå¿é¡»å¯¹ç±»åå§åï¼ãâ­â­â­â­â­ã\n 20. è®²ä¸ä¸åäº²å§æ´¾æ¨¡åããâ­â­â­â­â­ã',normalizedContent:'# 1 jvmåå­ç»æ\n\nå¯¹äºä»äºcãc++ç¨åºå¼åçå¼åäººåæ¥è¯´ï¼å¨åå­ç®¡çé¢åï¼ä»ä»¬æ¢æ¯æ¥ææé«æåçâçå¸âï¼åæ¯ä»äºæåºç¡å·¥ä½çå³å¨äººæ°ââæ¢æ¥ææ¯ä¸ä¸ªå¯¹è±¡çâæææâï¼åæè´çæ¯ä¸ä¸ªå¯¹è±¡çå½ä»å¼å§å°ç»ç»çç»´æ¤è´£ä»»ã å¯¹äºjavaç¨åºåæ¥è¯´ï¼å¨èææºèªå¨åå­ç®¡çæºå¶çå¸®å©ä¸ï¼ä¸åéè¦ä¸ºæ¯ä¸ä¸ªnewæä½å»åéå¯¹çdelete/freeä»£ç ï¼ä¸å®¹æåºç°åå­æ³æ¼ååå­æº¢åºé®é¢ï¼çèµ·æ¥ç±èææºç®¡çåå­ä¸åé½å¾ç¾å¥½ãä¸è¿ï¼ä¹æ­£æ¯å ä¸ºjavaç¨åºåææ§å¶åå­çæåäº¤ç»äºjavaèææºï¼ä¸æ¦åºç°åå­æ³æ¼åæº¢åºæ¹é¢çé®é¢ï¼å¦æä¸äºè§£èææºæ¯ææ ·ä½¿ç¨åå­çï¼é£ææ¥éè¯¯ãä¿®æ­£é®é¢å°ä¼æä¸ºä¸é¡¹å¼å¸¸è°é¾çå·¥ä½ã\n\n\n\njvmåå«ä¸¤ä¸ªå­ç³»ç»åä¸¤ä¸ªç»ä»¶ï¼å­ç³»ç»ä¸º calss loader(ç±»è£è½½)åexecution engine(æ§è¡å¼æ)ï¼ç»ä»¶ä¸ºruntime data areaï¼è¿è¡æ¶æ°æ®åºï¼å native interface(æ¬å°æ¥å£)ã\n\n\n# 1.1 è¿è¡æ¶æ°æ®åº\n\njavaèææºå¨æ§è¡javaç¨åºçè¿ç¨ä¸­ä¼æå®æç®¡ççåå­ååä¸ºè¥å¹²ä¸ªä¸åçæ°æ®åºåã è¿äºåºåæåèªçç¨éï¼ ä»¥ååå»ºåéæ¯çæ¶é´ï¼ æçåºåéçèææºè¿ç¨çå¯å¨èä¸ç´å­å¨ï¼ æäºåºååæ¯ä¾èµç¨æ·çº¿ç¨çå¯å¨åç»æèå»ºç«åéæ¯ã\n\n# çº¿ç¨å±äº«\n\n * æ¹æ³åº\n   \n   æ¹æ³åºï¼method areaï¼ä¸javaå ä¸æ ·ï¼æ¯åä¸ªçº¿ç¨å±äº«çåå­åºåï¼**å®ç¨äºå­å¨å·²è¢«èææºå è½½çç±»ä¿¡æ¯ãå¸¸éãéæåéãå³æ¶ç¼è¯å¨ç¼è¯åçä»£ç ç­æ°æ®ã**è½ç¶javaèææºè§èææ¹æ³åºæè¿°ä¸ºå çä¸ä¸ªé»è¾é¨åï¼ä½æ¯å®å´æä¸ä¸ªå«åå«ånon-heapï¼éå ï¼ï¼ç®çåºè¯¥æ¯ä¸javaå åºåå¼æ¥ã\n   \n   å¯¹äºä¹ æ¯å¨hotspotèææºä¸å¼ååé¨ç½²ç¨åºçå¼åèæ¥è¯´ï¼å¾å¤äººæ¿æææ¹æ³åºç§°ä¸º==âæ°¸ä¹ä»£â==ï¼permanent generationï¼ï¼æ¬è´¨ä¸ä¸¤èå¹¶ä¸ç­ä»·ï¼ä»ä»æ¯å ä¸ºhotspotèææºçè®¾è®¡å¢ééæ©ægcåä»£æ¶éæ©å±è³æ¹æ³åºï¼æèè¯´ä½¿ç¨æ°¸ä¹ä»£æ¥å®ç°æ¹æ³åºèå·²ã\n   \n   javaèææºè§èå¯¹è¿ä¸ªåºåçéå¶éå¸¸å®½æ¾ï¼é¤äºåjavaå ä¸æ ·ä¸éè¦è¿ç»­çåå­åå¯ä»¥éæ©åºå®å¤§å°æèå¯æ©å±å¤ï¼è¿å¯ä»¥éæ©ä¸å®ç°åå¾æ¶éãç¸å¯¹èè¨ï¼åå¾æ¶éè¡ä¸ºå¨è¿ä¸ªåºåæ¯æ¯è¾å°åºç°çï¼ä½å¹¶éæ°æ®è¿å¥äºæ¹æ³åºå°±å¦æ°¸ä¹ä»£çåå­ä¸æ ·âæ°¸ä¹âå­å¨äº==ãè¿ä¸ªåºåçåå­åæ¶ç®æ ä¸»è¦æ¯éå¯¹å¸¸éæ± çåæ¶åå¯¹ç±»åçå¸è½½ï¼==ä¸è¬æ¥è¯´è¿ä¸ªåºåçåæ¶âæç»©âæ¯è¾é¾ä»¥ä»¤äººæ»¡æï¼å°¤å¶æ¯ç±»åçå¸è½½ï¼æ¡ä»¶ç¸å½èå»ï¼ä½æ¯è¿é¨ååºåçåæ¶ç¡®å®æ¯æå¿è¦çã\n   \n   æ ¹æ®javaèææºè§èçè§å®ï¼å½æ¹æ³åºæ æ³æ»¡è¶³åå­åééæ±æ¶ï¼å°æåºoutofmemoryerrorå¼å¸¸ã\n   \n   æ¹æ³åºææ¶è¢«ç§°ä¸ºæä¹ä»£ï¼permgenï¼ã\n   \n   > æ¹æ³åº -> å­æ¾å·²è¢«èææºå è½½çç±»ä¿¡æ¯ãå¸¸éãéæåéãå³æ¶ç¼è¯å¨ç¼è¯åçä»£ç ç­æ°æ®\n\n * è¿è¡æ¶å¸¸éæ± \n   \n   ==è¿è¡æ¶å¸¸éæ± æ¯æ¹æ³åºçä¸é¨å==ãclass æä»¶ä¸­é¤äºæç±»ççæ¬ãå­æ®µãæ¹æ³ãæ¥å£ç­æè¿°ä¿¡æ¯å¤ï¼è¿æå¸¸éæ± è¡¨ï¼ç¨äºå­æ¾ç¼è¯æçæçåç§å­é¢éåç¬¦å·å¼ç¨ï¼\n   \n   æ¢ç¶è¿è¡æ¶å¸¸éæ± æ¯æ¹æ³åºçä¸é¨åï¼èªç¶åå°æ¹æ³åºåå­çéå¶ï¼å½å¸¸éæ± æ æ³åç³è¯·å°åå­æ¶ä¼æåº outofmemoryerror éè¯¯ã\n   \n   >  1. jdk1.7 ä¹åè¿è¡æ¶å¸¸éæ± é»è¾åå«å­ç¬¦ä¸²å¸¸éæ± å­æ¾å¨æ¹æ³åº, æ­¤æ¶ hotspot èææºå¯¹æ¹æ³åºçå®ç°ä¸ºæ°¸ä¹ä»£\n\n>  2. jdk1.7 å­ç¬¦ä¸²å¸¸éæ± è¢«ä»æ¹æ³åºæ¿å°äºå ä¸­, è¿éæ²¡ææå°è¿è¡æ¶å¸¸éæ± ,ä¹å°±æ¯è¯´å­ç¬¦ä¸²å¸¸éæ± è¢«åç¬æ¿å°å ,è¿è¡æ¶å¸¸éæ± å©ä¸çä¸è¥¿è¿å¨æ¹æ³åº, ä¹å°±æ¯ hotspot ä¸­çæ°¸ä¹ä»£ ã\n>  3. jdk1.8 hotspot ç§»é¤äºæ°¸ä¹ä»£ç¨åç©ºé´(metaspace)åèä»£ä¹, è¿æ¶åå­ç¬¦ä¸²å¸¸éæ± è¿å¨å , è¿è¡æ¶å¸¸éæ± è¿å¨æ¹æ³åº, åªä¸è¿æ¹æ³åºçå®ç°ä»æ°¸ä¹ä»£åæäºåç©ºé´(metaspace)\n\n * å \n   \n   å¯¹äºå¤§å¤æ°åºç¨æ¥è¯´ï¼javaå ï¼java heapï¼æ¯javaèææºæç®¡ççåå­ä¸­æå¤§çä¸åãjavaå æ¯è¢«ææçº¿ç¨å±äº«çä¸ååå­åºåï¼å¨èææºå¯å¨æ¶åå»ºãæ­¤åå­åºåçå¯ä¸ç®çå°±æ¯å­æ¾å¯¹è±¡å®ä¾ï¼å ä¹ææçå¯¹è±¡å®ä¾é½å¨è¿éåéåå­ã\n   \n   java ä¸çä¸­âå ä¹âææçå¯¹è±¡é½å¨å ä¸­åéï¼ä½æ¯ï¼éç jit ç¼è¯å¨çåå±ä¸éé¸åæææ¯éæ¸æçï¼æ ä¸åéãæ éæ¿æ¢ä¼åææ¯å°ä¼å¯¼è´ä¸äºå¾®å¦çååï¼ææçå¯¹è±¡é½åéå°å ä¸ä¹æ¸æ¸åå¾ä¸é£ä¹âç»å¯¹âäºãä» jdk 1.7 å¼å§å·²ç»é»è®¤å¼å¯éé¸åæï¼å¦ææäºæ¹æ³ä¸­çå¯¹è±¡å¼ç¨æ²¡æè¢«è¿åæèæªè¢«å¤é¢ä½¿ç¨ï¼ä¹å°±æ¯æªéé¸åºå»ï¼ï¼é£ä¹å¯¹è±¡å¯ä»¥ç´æ¥å¨æ ä¸åéåå­ã\n   \n   javaå æ¯åå¾æ¶éå¨ç®¡ççä¸»è¦åºåï¼å æ­¤å¾å¤æ¶åä¹è¢«ç§°åâgcå âãå¦æä»åå­åæ¶çè§åº¦çï¼ç±äºç°å¨æ¶éå¨åºæ¬é½æ¯éç¨çåä»£æ¶éç®æ³ï¼æä»¥javaå ä¸­è¿å¯ä»¥ç»åä¸ºï¼æ°çä»£åèå¹´ä»£ï¼åç»è´ä¸ç¹çæedenç©ºé´ãfrom survivorç©ºé´ãto survivorç©ºé´ç­ã\n   \n   å¨ jdk 7 çæ¬å jdk 7 çæ¬ä¹åï¼å åå­è¢«éå¸¸åä¸ºä¸é¢ä¸é¨åï¼\n   \n   1. æ°çä»£åå­(young generation)\n   2. èçä»£(old generation)\n   3. æ°¸ä¹ä»£(permanent generation)\n   \n   ä¸å¾æç¤ºç eden åºãä¸¤ä¸ª survivor åº s0 å s1 é½å±äºæ°çä»£ï¼ä¸­é´ä¸å±å±äºèå¹´ä»£ï¼æä¸é¢ä¸å±å±äºæ°¸ä¹ä»£ã\n   \n   \n   \n   jdk 8 çæ¬ä¹å permgen å·²è¢« metaspace(åç©ºé´) åä»£ï¼åç©ºé´ä½¿ç¨çæ¯ç´æ¥åå­\n   \n   æ ¹æ®javaèææºè§èçè§å®ï¼javaå å¯ä»¥å¤äºç©çä¸ä¸è¿ç»­çåå­ç©ºé´ä¸­ï¼åªè¦é»è¾ä¸æ¯è¿ç»­çå³å¯ï¼å°±åæä»¬çç£çç©ºé´ä¸æ ·ãå¨å®ç°æ¶ï¼æ¢å¯ä»¥å®ç°æåºå®å¤§å°çï¼ä¹å¯ä»¥æ¯å¯æ©å±çï¼ä¸è¿å½åä¸»æµçèææºé½æ¯æç§å¯æ©å±æ¥å®ç°çï¼éè¿-xmxå-xmsæ§å¶ï¼ã\n   \n   å¦æå¨å ä¸­æ²¡æåå­å®æå®ä¾åéï¼å¹¶ä¸å ä¹æ æ³åæ©å±æ¶ï¼å°ä¼æåºoutofmemoryerrorå¼å¸¸ã\n   \n   > å (gcå ) -> å­æ¾å¯¹è±¡å®ä¾ -> åå¾æéå¨ç®¡ççåºå\n\n# çº¿ç¨éç¦»ï¼çº¿ç¨ç§æï¼\n\n * ç¨åºè®¡æ°å¨\n   \n   ç¨åºè®¡æ°å¨ï¼program counter registerï¼æ¯ä¸åè¾å°çåå­ç©ºé´ï¼==å®çä½ç¨å¯ä»¥çåæ¯å½åçº¿ç¨ææ§è¡çå­èç çè¡å·æç¤ºå¨==ãå¨èææºçæ¦å¿µæ¨¡åéï¼ä»æ¯æ¦å¿µæ¨¡åï¼åç§èææºå¯è½ä¼éè¿ä¸äºæ´é«æçæ¹å¼å»å®ç°ï¼ï¼å­èç è§£éå¨å·¥ä½æ¶å°±æ¯éè¿æ¹åè¿ä¸ªè®¡æ°å¨çå¼æ¥éåä¸ä¸æ¡éè¦æ§è¡çå­èç æä»¤ï¼åæ¯ãå¾ªç¯ãè·³è½¬ãå¼å¸¸å¤çãçº¿ç¨æ¢å¤ç­åºç¡åè½é½éè¦ä¾èµè¿ä¸ªè®¡æ°å¨æ¥å®æã\n   \n   ç±äºjavaèææºçå¤çº¿ç¨æ¯éè¿çº¿ç¨è½®æµåæ¢å¹¶åéå¤çå¨æ§è¡æ¶é´çæ¹å¼æ¥å®ç°çï¼å¨ä»»ä½ä¸ä¸ªç¡®å®çæ¶å»ï¼ä¸ä¸ªå¤çå¨ï¼å¯¹äºå¤æ ¸å¤çå¨æ¥è¯´æ¯ä¸ä¸ªåæ ¸ï¼åªä¼æ§è¡ä¸æ¡çº¿ç¨ä¸­çæä»¤ãå æ­¤ï¼ä¸ºäºçº¿ç¨åæ¢åè½æ¢å¤å°æ­£ç¡®çæ§è¡ä½ç½®ï¼==æ¯æ¡çº¿ç¨é½éè¦æä¸ä¸ªç¬ç«çç¨åºè®¡æ°å¨ï¼åæ¡çº¿ç¨ä¹é´çè®¡æ°å¨äºä¸å½±åï¼ç¬ç«å­å¨ï¼æä»¬ç§°è¿ç±»åå­åºåä¸ºâçº¿ç¨ç§æâçåå­ã==\n   \n   å¦æçº¿ç¨æ­£å¨æ§è¡çæ¯ä¸ä¸ªjavaæ¹æ³ï¼è¿ä¸ªè®¡æ°å¨è®°å½çæ¯æ­£å¨æ§è¡çèææºå­èç æä»¤çå°åï¼å¦ææ­£å¨æ§è¡çæ¯natvieæ¹æ³ï¼è¿ä¸ªè®¡æ°å¨å¼åä¸ºç©ºï¼undefinedï¼ã\n   \n   æ­¤åå­åºåæ¯å¯ä¸ä¸ä¸ªå¨ãjavaèææºè§èãä¸­æ²¡æè§å®ä»»ä½outofmemoryerroræåµçåºåã\n   \n   > ç¨åºè®¡æ°å¨ -> ==å½åçº¿ç¨ææ§è¡çå­èç çè¡å·æç¤ºå¨==-> ä½ç¨ï¼\n   > \n   >  1. å­èç è§£éå¨éè¿æ¹åç¨åºè®¡æ°å¨æ¥ä¾æ¬¡è¯»åæä»¤ï¼ä»è==å®ç°ä»£ç çæµç¨æ§å¶==ï¼å¦ï¼é¡ºåºæ§è¡ãéæ©ãå¾ªç¯ãå¼å¸¸å¤çã\n   >  2. å¨å¤çº¿ç¨çæåµä¸ï¼ç¨åºè®¡æ°å¨ç¨äº==è®°å½å½åçº¿ç¨æ§è¡çä½ç½®==ï¼ä»èå½çº¿ç¨è¢«åæ¢åæ¥çæ¶åè½å¤ç¥éè¯¥çº¿ç¨ä¸æ¬¡è¿è¡å°åªå¿äºã\n\n * èææºæ \n   \n   **ä¸ç¨åºè®¡æ°å¨ä¸æ ·ï¼java èææºæ ä¹æ¯çº¿ç¨ç§æçï¼å®ççå½å¨æåçº¿ç¨ç¸åï¼==æè¿°çæ¯ java æ¹æ³æ§è¡çåå­æ¨¡å==ï¼æ¯æ¬¡æ¹æ³è°ç¨çæ°æ®é½æ¯éè¿æ ä¼ éçã**æ¯ä¸ªæ¹æ³è¢«æ§è¡çæ¶åï¼ javaèææºé½ ä¼åæ­¥åå»ºä¸ä¸ªæ å¸§ï¼stack frameï¼ ç¨äºå­å¨å±é¨åéè¡¨ã æä½æ°æ ã å¨æè¿æ¥ã æ¹æ³åºå£ç­ä¿¡ æ¯ã æ¯ä¸ä¸ªæ¹æ³è¢«è°ç¨ç´è³æ§è¡å®æ¯çè¿ç¨ï¼ å°±å¯¹åºçä¸ä¸ªæ å¸§å¨èææºæ ä¸­ä»å¥æ å°åºæ çè¿ç¨ã\n   \n   java åå­å¯ä»¥ç²ç³çåºåä¸ºå åå­ï¼heapï¼åæ åå­ (stack)ï¼å¶ä¸­æ å°±æ¯ç°å¨è¯´çèææºæ ï¼æèè¯´æ¯èææºæ ä¸­å±é¨åéè¡¨é¨åã ï¼å®éä¸ï¼java èææºæ æ¯ç±ä¸ä¸ªä¸ªæ å¸§ç»æï¼èæ¯ä¸ªæ å¸§ä¸­é½æ¥æï¼å±é¨åéè¡¨ãæä½æ°æ ãå¨æé¾æ¥ãæ¹æ³åºå£ä¿¡æ¯ãï¼\n   \n   å±é¨åéè¡¨ä¸»è¦å­æ¾äºç¼è¯æå¯ç¥çåç§æ°æ®ç±»åï¼booleanãbyteãcharãshortãintãfloatãlongãdoubleï¼ãå¯¹è±¡å¼ç¨ï¼reference ç±»åï¼å®ä¸åäºå¯¹è±¡æ¬èº«ï¼å¯è½æ¯ä¸ä¸ªæåå¯¹è±¡èµ·å§å°åçå¼ç¨æéï¼ä¹å¯è½æ¯æåä¸ä¸ªä»£è¡¨å¯¹è±¡çå¥ææå¶ä»ä¸æ­¤å¯¹è±¡ç¸å³çä½ç½®ï¼ã\n   \n   java èææºæ ä¼åºç°ä¸¤ç§éè¯¯ï¼stackoverflowerror å outofmemoryerrorã\n   \n   * stackoverflowerrorï¼ è¥ java èææºæ çåå­å¤§å°ä¸åè®¸å¨ææ©å±ï¼é£ä¹å½çº¿ç¨è¯·æ±æ çæ·±åº¦è¶è¿å½å java èææºæ çæå¤§æ·±åº¦çæ¶åï¼å°±æåº stackoverflowerror éè¯¯ã\n   * outofmemoryerrorï¼ java èææºæ çåå­å¤§å°å¯ä»¥å¨ææ©å±ï¼ å¦æèææºå¨å¨ææ©å±æ æ¶æ æ³ç³è¯·å°è¶³å¤çåå­ç©ºé´ï¼åæåºoutofmemoryerrorå¼å¸¸ã\n   \n   > èææºæ  -> ==ç±ä¸ä¸ªä¸ªæ å¸§ç»æ== -> ä½ç¨ï¼==æè¿°javaæ¹æ³æ§è¡çåå­æ¨¡å==\n   > \n   >  * æ¯ä¸ªæ¹æ³è¢«æ§è¡çæ¶åï¼ javaèææºé½ä¼åæ­¥åå»ºä¸ä¸ªæ å¸§ï¼stack frameï¼ ç¨äºå­å¨å±é¨åéè¡¨ã æä½æ°æ ã å¨æé¾æ¥ã æ¹æ³åºå£ç­ä¿¡æ¯ã æ¯ä¸ä¸ªæ¹æ³è¢«è°ç¨ç´è³æ§è¡å®æ¯çè¿ç¨ï¼ å°±å¯¹åºçä¸ä¸ªæ å¸§å¨èææºæ ä¸­ä»å¥æ å°åºæ çè¿ç¨ã\n\n * æ¬å°æ¹æ³æ \n   \n   åèææºæ æåæ¥çä½ç¨éå¸¸ç¸ä¼¼ï¼åºå«æ¯ï¼ èææºæ ä¸ºèææºæ§è¡ java æ¹æ³ ï¼ä¹å°±æ¯å­èç ï¼æå¡ï¼èæ¬å°æ¹æ³æ åä¸ºèææºä½¿ç¨å°ç native æ¹æ³æå¡ã å¨ hotspot èææºä¸­å java èææºæ åäºä¸ºä¸ã\n   \n   æ¬å°æ¹æ³è¢«æ§è¡çæ¶åï¼å¨æ¬å°æ¹æ³æ ä¹ä¼åå»ºä¸ä¸ªæ å¸§ï¼ç¨äºå­æ¾è¯¥æ¬å°æ¹æ³çå±é¨åéè¡¨ãæä½æ°æ ãå¨æé¾æ¥ãåºå£ä¿¡æ¯ã\n   \n   æ¹æ³æ§è¡å®æ¯åç¸åºçæ å¸§ä¹ä¼åºæ å¹¶éæ¾åå­ç©ºé´ï¼ä¹ä¼åºç° stackoverflowerror å outofmemoryerror ä¸¤ç§éè¯¯ã\n\n\n# 1.2 hotspotèææºå¯¹è±¡æ¢ç§\n\n# å¯¹è±¡çåå»º\n\n\n\n# step1:ç±»å è½½æ£æ¥\n\nèææºéå°ä¸æ¡ new æä»¤æ¶ï¼é¦åå°å»æ£æ¥è¿ä¸ªæä»¤çåæ°æ¯å¦è½å¨å¸¸éæ± ä¸­å®ä½å°è¿ä¸ªç±»çç¬¦å·å¼ç¨ï¼å¹¶ä¸æ£æ¥è¿ä¸ªç¬¦å·å¼ç¨ä»£è¡¨çç±»æ¯å¦å·²è¢«å è½½è¿ãè§£æååå§åè¿ãå¦ææ²¡æï¼é£å¿é¡»åæ§è¡ç¸åºçç±»å è½½è¿ç¨ã\n\n# step2:åéåå­\n\nå¨ç±»å è½½æ£æ¥éè¿åï¼æ¥ä¸æ¥èææºå°ä¸ºæ°çå¯¹è±¡åéåå­ãå¯¹è±¡æéçåå­å¤§å°å¨ç±»å è½½å®æåä¾¿å¯ç¡®å®ï¼ä¸ºå¯¹è±¡åéç©ºé´çä»»å¡ç­åäºæä¸åç¡®å®å¤§å°çåå­ä» java å ä¸­åååºæ¥ãåéæ¹å¼æ âæéç¢°æâ å âç©ºé²åè¡¨â ä¸¤ç§ï¼éæ©åªç§åéæ¹å¼ç± java å æ¯å¦è§æ´å³å®ï¼è java å æ¯å¦è§æ´åç±æéç¨çåå¾æ¶éå¨æ¯å¦å¸¦æåç¼©æ´çåè½å³å®ã\n\n\n\nåå­åéçä¸¤ç§æ¹å¼ï¼ï¼è¡¥ååå®¹ï¼éè¦ææ¡ï¼\n\néæ©ä»¥ä¸ä¸¤ç§æ¹å¼ä¸­çåªä¸ç§ï¼åå³äº java å åå­æ¯å¦è§æ´ãè java å åå­æ¯å¦è§æ´ï¼åå³äº gc æ¶éå¨çç®æ³æ¯"æ è®°-æ¸é¤"ï¼è¿æ¯"æ è®°-æ´ç"ï¼ä¹ç§°ä½"æ è®°-åç¼©"ï¼ï¼å¼å¾æ³¨æçæ¯ï¼å¤å¶ç®æ³åå­ä¹æ¯è§æ´ç\n\nåå­åéå¹¶åé®é¢ï¼è¡¥ååå®¹ï¼éè¦ææ¡ï¼\n\nå¨åå»ºå¯¹è±¡çæ¶åæä¸ä¸ªå¾éè¦çé®é¢ï¼å°±æ¯çº¿ç¨å®å¨ï¼å ä¸ºå¨å®éå¼åè¿ç¨ä¸­ï¼åå»ºå¯¹è±¡æ¯å¾é¢ç¹çäºæï¼ä½ä¸ºèææºæ¥è¯´ï¼å¿é¡»è¦ä¿è¯çº¿ç¨æ¯å®å¨çï¼éå¸¸æ¥è®²ï¼èææºéç¨ä¸¤ç§æ¹å¼æ¥ä¿è¯çº¿ç¨å®å¨ï¼\n\n * cas+å¤±è´¥éè¯ï¼ cas æ¯ä¹è§éçä¸ç§å®ç°æ¹å¼ãæè°ä¹è§éå°±æ¯ï¼æ¯æ¬¡ä¸å éèæ¯åè®¾æ²¡æå²çªèå»å®ææé¡¹æä½ï¼å¦æå ä¸ºå²çªå¤±è´¥å°±éè¯ï¼ç´å°æåä¸ºæ­¢ãèææºéç¨ cas éä¸å¤±è´¥éè¯çæ¹å¼ä¿è¯æ´æ°æä½çåå­æ§ã\n * tlabï¼ ä¸ºæ¯ä¸ä¸ªçº¿ç¨é¢åå¨ eden åºåéä¸åå¿åå­ï¼jvm å¨ç»çº¿ç¨ä¸­çå¯¹è±¡åéåå­æ¶ï¼é¦åå¨ tlab åéï¼å½å¯¹è±¡å¤§äº tlab ä¸­çå©ä½åå­æ tlab çåå­å·²ç¨å°½æ¶ï¼åéç¨ä¸è¿°ç cas è¿è¡åå­åé\n\n# step3:åå§åé¶å¼\n\nåå­åéå®æåï¼èææºéè¦å°åéå°çåå­ç©ºé´é½åå§åä¸ºé¶å¼ï¼ä¸åæ¬å¯¹è±¡å¤´ï¼ï¼è¿ä¸æ­¥æä½ä¿è¯äºå¯¹è±¡çå®ä¾å­æ®µå¨ java ä»£ç ä¸­å¯ä»¥ä¸èµåå§å¼å°±ç´æ¥ä½¿ç¨ï¼ç¨åºè½è®¿é®å°è¿äºå­æ®µçæ°æ®ç±»åæå¯¹åºçé¶å¼ã\n\n# step4:è®¾ç½®å¯¹è±¡å¤´\n\nåå§åé¶å¼å®æä¹åï¼èææºè¦å¯¹å¯¹è±¡è¿è¡å¿è¦çè®¾ç½®ï¼ä¾å¦è¿ä¸ªå¯¹è±¡æ¯åªä¸ªç±»çå®ä¾ãå¦ä½æè½æ¾å°ç±»çåæ°æ®ä¿¡æ¯ãå¯¹è±¡çåå¸ç ãå¯¹è±¡ç gc åä»£å¹´é¾ç­ä¿¡æ¯ã è¿äºä¿¡æ¯å­æ¾å¨å¯¹è±¡å¤´ä¸­ã å¦å¤ï¼æ ¹æ®èææºå½åè¿è¡ç¶æçä¸åï¼å¦æ¯å¦å¯ç¨ååéç­ï¼å¯¹è±¡å¤´ä¼æä¸åçè®¾ç½®æ¹å¼ã\n\n# step5:æ§è¡ init æ¹æ³\n\nå¨ä¸é¢å·¥ä½é½å®æä¹åï¼ä»èææºçè§è§æ¥çï¼ä¸ä¸ªæ°çå¯¹è±¡å·²ç»äº§çäºï¼ä½ä» java ç¨åºçè§è§æ¥çï¼å¯¹è±¡åå»ºæåå¼å§ï¼<init> æ¹æ³è¿æ²¡ææ§è¡ï¼ææçå­æ®µé½è¿ä¸ºé¶ãæä»¥ä¸è¬æ¥è¯´ï¼æ§è¡ new æä»¤ä¹åä¼æ¥çæ§è¡ <init> æ¹æ³ï¼æå¯¹è±¡æç§ç¨åºåçææ¿è¿è¡åå§åï¼è¿æ ·ä¸ä¸ªçæ­£å¯ç¨çå¯¹è±¡æç®å®å¨äº§çåºæ¥ã\n\n> ==å¯¹è±¡çåå»º -> äºä¸ªæ­¥éª¤==\n\n# å¯¹è±¡çåå­å¸å±\n\nå¨hotspotèææºéï¼ å¯¹è±¡å¨å åå­ä¸­çå­å¨å¸å±å¯ä»¥ååä¸ºä¸ä¸ªé¨å**ï¼ å¯¹è±¡å¤´ï¼headerï¼ ã å®ä¾** æ°æ®ï¼instance dataï¼ åå¯¹é½å¡«åï¼paddingï¼ ã\n\n# header\n\nåæ¬ä¸¤ç±»ä¿¡æ¯ï¼\n\n * ==ç¨äºå­å¨å¯¹è±¡èªèº«çè¿è¡æ¶æ°æ®==ï¼ å¦åå¸ç ï¼hashcodeï¼ ã gcåä»£å¹´é¾ã éç¶ææ å¿ã çº¿ç¨ææçéã ååçº¿ç¨idã ååæ¶é´æ³ç­ï¼è¿é¨åæ°æ®çé¿åº¦å¨32ä½å64ä½çèææºï¼æªå¼å¯åç¼©æéï¼ ä¸­åå«ä¸º32ä¸ªæ¯ç¹å64ä¸ªæ¯ç¹ï¼ å®æ¹ç§°å®ä¸ºâmark wordâã å¯¹è±¡éè¦å­å¨çè¿è¡æ¶æ°æ®å¾å¤ï¼ å¶å®å·²ç»è¶åºäº32ã 64ä½bitmapç»ææè½è®°å½çæå¤§éåº¦ï¼ ä½å¯¹è±¡å¤´éçä¿¡æ¯æ¯ä¸å¯¹è±¡èªèº«å®ä¹çæ°æ®æ å³çé¢å¤å­å¨ææ¬ï¼ èèå°èææºçç©ºé´æçï¼ mark wordè¢«è®¾è®¡æä¸ä¸ªæçå¨æå®ä¹çæ°æ®ç»æï¼ ä»¥ä¾¿å¨æå°çç©ºé´åå­å¨å°½éå¤çæ°æ®ï¼ æ ¹æ®å¯¹è±¡çç¶æå¤ç¨èªå·±çå­å¨ç©ºé´ã\n * å¯¹è±¡å¤´çå¦å¤ä¸é¨åæ¯==ç±»åæé==ï¼ ==å³å¯¹è±¡æåå®çç±»ååæ°æ®çæé==ï¼ javaèææºéè¿è¿ä¸ªæé æ¥ç¡®å®è¯¥å¯¹è±¡æ¯åªä¸ªç±»çå®ä¾ã\n\n# å®ä¾æ°æ®é¨å\n\nå®ä¾æ°æ®é¨åæ¯==å¯¹è±¡çæ­£å­å¨çææä¿¡æ¯==ï¼ å³æä»¬å¨ç¨åºä»£ç éé¢æ==å®ä¹çåç§ç±»åçå­æ®µåå®¹==ï¼ æ è®ºæ¯ä»ç¶ç±»ç»§æ¿ä¸æ¥çï¼ è¿æ¯å¨å­ç±»ä¸­å®ä¹çå­æ®µé½å¿é¡»è®°å½èµ·æ¥ã è¿é¨åçå­å¨é¡ºåºä¼åå°èææºåéç­ç¥åæ°ï¼-xxï¼ fieldsallocationstyleåæ°ï¼ åå­æ®µå¨javaæºç ä¸­å®ä¹é¡ºåºçå½±åã\n\n# å¯¹é½å¡«å\n\nè¿å¹¶ä¸æ¯å¿ç¶å­å¨çï¼ ä¹æ²¡æç¹å«çå«ä¹ï¼ å®ä»ä»èµ·çå ä½ç¬¦çä½ç¨ã ç±äºhotspotèææºçèªå¨åå­ç®¡çç³»ç»è¦æ±å¯¹è±¡èµ·å§å°åå¿é¡»æ¯8å­èçæ´æ°åï¼ æ¢å¥è¯è¯´å°±æ¯ä»»ä½å¯¹è±¡çå¤§å°é½å¿é¡»æ¯8å­èçæ´æ°åã å¯¹è±¡å¤´é¨åå·²ç»è¢«ç²¾å¿è®¾è®¡ææ­£å¥½æ¯8å­èçåæ°ï¼1åæè2åï¼ï¼å æ­¤ï¼ å¦æå¯¹è±¡å®ä¾æ°æ®é¨åæ²¡æå¯¹é½çè¯ï¼ å°±éè¦éè¿å¯¹é½å¡«åæ¥è¡¥å¨ã\n\n> ==å¯¹è±¡çåå­å¸å± -> ååä¸ºä¸ä¸ªé¨å -> æ¯ä¸ªé¨åå¯¹åºçä½ç¨==\n\n# å¯¹è±¡çè®¿é®å®ä½\n\njavaç¨åºä¼éè¿æ ä¸çreferenceæ°æ®æ¥æä½å ä¸çå·ä½å¯¹è±¡ã ç±äºreferenceç±»åå¨ãjavaèææºè§èã éé¢åªè§å®äºå®æ¯ä¸ä¸ªæåå¯¹è±¡çå¼ç¨ï¼ å¹¶æ²¡æå®ä¹è¿ä¸ªå¼ç¨åºè¯¥éè¿ä»ä¹æ¹å¼å»å®ä½ã è®¿é®å°å ä¸­å¯¹è±¡çå·ä½ä½ç½®ï¼æä»¥ å¯¹è±¡è®¿é®æ¹å¼ä¹æ¯ç±èææºå®ç°èå®çï¼ ä¸»æµçè®¿é®æ¹å¼ä¸»è¦æä½¿ç¨å¥æåç´æ¥æéä¸¤ç§ï¼\n\n# å¥æè®¿é®\n\nå¦æä½¿ç¨å¥æçè¯ï¼é£ä¹ java å ä¸­å°ä¼åååºä¸ååå­æ¥ä½ä¸ºå¥ææ± ï¼reference ä¸­å­å¨çå°±æ¯å¯¹è±¡çå¥æå°åï¼èå¥æä¸­åå«äºå¯¹è±¡å®ä¾æ°æ®ä¸ç±»åæ°æ®åèªçå·ä½å°åä¿¡æ¯ï¼\n\n\n\n# ç´æ¥æéè®¿é®\n\nä½¿ç¨ç´æ¥æéæ¥è®¿é®æå¤§çå¥½å¤å°±æ¯éåº¦æ´å¿«ï¼ å®èçäºä¸æ¬¡æéå®ä½çæ¶é´å¼éï¼ ç±äºå¯¹è±¡è®¿ é®å¨javaä¸­éå¸¸é¢ç¹ï¼ å æ­¤è¿ç±»å¼éç§¯å°æå¤ä¹æ¯ä¸é¡¹æä¸ºå¯è§çæ§è¡ææ¬ï¼\n\n\n\n> ==å¯¹è±¡çè®¿é® -> ä¸¤ç§æ¹å¼==\n> \n> è¿ä¸¤ç§å¯¹è±¡è®¿é®æ¹å¼åæä¼å¿ãä½¿ç¨å¥ææ¥è®¿é®çæå¤§å¥½å¤æ¯ reference ä¸­å­å¨çæ¯ç¨³å®çå¥æå°åï¼å¨å¯¹è±¡è¢«ç§»å¨æ¶åªä¼æ¹åå¥æä¸­çå®ä¾æ°æ®æéï¼è reference æ¬èº«ä¸éè¦ä¿®æ¹ãä½¿ç¨ç´æ¥æéè®¿é®æ¹å¼æå¤§çå¥½å¤å°±æ¯éåº¦å¿«ï¼å®èçäºä¸æ¬¡æéå®ä½çæ¶é´å¼éã\n\n\n# 2 jvmåå¾åæ¶\n\njavaå æ¯åå¾æ¶éå¨ç®¡ççä¸»è¦åºåï¼å çåºæ¬ç»æï¼\n\n\n\n\n# 2.1 åå¾åæ¶æºå¶\n\nç®åä¸»æµçåå¾æ¶éå¨é½ä¼éç¨åä»£åæ¶ç®æ³ï¼å æ­¤éè¦å°å åå­åä¸ºæ°çä»£åèå¹´ä»£ï¼è¿æ ·æä»¬å°±å¯ä»¥æ ¹æ®åä¸ªå¹´ä»£çç¹ç¹éæ©åéçåå¾æ¶éç®æ³ã\n\nå¤§å¤æ°æåµä¸ï¼å¯¹è±¡å¨æ°çä»£ä¸­ eden åºåéãå½ eden åºæ²¡æè¶³å¤ç©ºé´è¿è¡åéæ¶ï¼èææºå°åèµ·ä¸æ¬¡ minor gc.\n\nå¤§å¯¹è±¡å°±æ¯éè¦å¤§éè¿ç»­åå­ç©ºé´çå¯¹è±¡ï¼æ¯å¦ï¼å­ç¬¦ä¸²ãæ°ç»ï¼ãå¤§å¯¹è±¡ç´æ¥è¿å¥èå¹´ä»£ï¼ä¸ºäºé¿åä¸ºå¤§å¯¹è±¡åéåå­æ¶ç±äºåéæä¿æºå¶å¸¦æ¥çå¤å¶èéä½æçã\n\næ¢ç¶èææºéç¨äºåä»£æ¶éçææ³æ¥ç®¡çåå­ï¼é£ä¹åå­åæ¶æ¶å°±å¿é¡»è½è¯å«åªäºå¯¹è±¡åºæ¾å¨æ°çä»£ï¼åªäºå¯¹è±¡åºæ¾å¨èå¹´ä»£ä¸­ãä¸ºäºåå°è¿ä¸ç¹ï¼èææºç»æ¯ä¸ªå¯¹è±¡ä¸ä¸ªå¯¹è±¡å¹´é¾ï¼ageï¼è®¡æ°å¨ã\n\nå¦æå¯¹è±¡å¨ eden åºçå¹¶ç»è¿ç¬¬ä¸æ¬¡ minor gc åä»ç¶è½å¤å­æ´»ï¼å¹¶ä¸è½è¢« survivor å®¹çº³çè¯ï¼å°è¢«ç§»å¨å° survivor ç©ºé´ä¸­ï¼å¹¶å°å¯¹è±¡å¹´é¾è®¾ä¸º 1.å¯¹è±¡å¨ survivor ä¸­æ¯ç¬è¿ä¸æ¬¡ minorgc,å¹´é¾å°±å¢å  1 å²ï¼å½å®çå¹´é¾å¢å å°ä¸å®ç¨åº¦ï¼é»è®¤ä¸º 15 å²ï¼ï¼å°±ä¼è¢«æåå°èå¹´ä»£ä¸­ãå¯¹è±¡æåå°èå¹´ä»£çå¹´é¾éå¼ï¼å¯ä»¥éè¿åæ° -xx:maxtenuringthreshold æ¥è®¾ç½®ã\n\n> å¯¹è±¡ä¼åå¨edenåºåé -> edenåºæ²¡æç©ºé´ï¼è¿è¡minorgc -> å¤§å¯¹è±¡ç´æ¥è¿å¥èå¹´ä»£\n\n\n# 2.2 å¯¹è±¡æ¯å¦æ­»äº¡çå¤æ­\n\nå ä¸­å ä¹æ¾çææçå¯¹è±¡å®ä¾ï¼å¯¹å åå¾åæ¶åçç¬¬ä¸æ­¥å°±æ¯è¦å¤æ­åªäºå¯¹è±¡å·²ç»æ­»äº¡ï¼å³ä¸è½åè¢«ä»»ä½éå¾ä½¿ç¨çå¯¹è±¡ï¼ã\n\n# å¼ç¨è®¡æ°å¨\n\nç»å¯¹è±¡ä¸­æ·»å ä¸ä¸ªå¼ç¨è®¡æ°å¨ï¼æ¯å½æä¸ä¸ªå°æ¹å¼ç¨å®ï¼è®¡æ°å¨å°±å  1ï¼å½å¼ç¨å¤±æï¼è®¡æ°å¨å°±å 1ï¼ä»»ä½æ¶åè®¡æ°å¨ä¸º 0 çå¯¹è±¡å°±æ¯ä¸å¯è½åè¢«ä½¿ç¨çã\n\nè¿ä¸ªæ¹æ³å®ç°ç®åï¼æçé«ï¼ä½æ¯ç®åä¸»æµçèææºä¸­å¹¶æ²¡æéæ©è¿ä¸ªç®æ³æ¥ç®¡çåå­ï¼å¶æä¸»è¦çåå æ¯å®å¾é¾è§£å³å¯¹è±¡ä¹é´ç¸äºå¾ªç¯å¼ç¨çé®é¢ã\n\n# å¯è¾¾æ§åæ\n\nè¿ä¸ªç®æ³çåºæ¬ææ³å°±æ¯éè¿ä¸ç³»åçç§°ä¸º âgc rootsâ çå¯¹è±¡ä½ä¸ºèµ·ç¹ï¼ä»è¿äºèç¹å¼å§åä¸æç´¢ï¼èç¹æèµ°è¿çè·¯å¾ç§°ä¸ºå¼ç¨é¾ï¼å½ä¸ä¸ªå¯¹è±¡å° gc roots æ²¡æä»»ä½å¼ç¨é¾ç¸è¿çè¯ï¼åè¯ææ­¤å¯¹è±¡æ¯ä¸å¯ç¨çï¼éè¦è¢«åæ¶ã\n\nåªäºå¯¹è±¡å¯ä»¥ä½ä¸º gc roots å¢ï¼\n\n * èææºæ (æ å¸§ä¸­çæ¬å°åéè¡¨)ä¸­å¼ç¨çå¯¹è±¡\n * æ¬å°æ¹æ³æ (native æ¹æ³)ä¸­å¼ç¨çå¯¹è±¡\n * æ¹æ³åºä¸­ç±»éæå±æ§å¼ç¨çå¯¹è±¡\n * æ¹æ³åºä¸­å¸¸éå¼ç¨çå¯¹è±¡\n * ææè¢«åæ­¥éææçå¯¹è±¡\n\nå¯¹è±¡å¯ä»¥è¢«åæ¶ï¼å°±ä»£è¡¨ä¸å®ä¼è¢«åæ¶åï¼\n\nå³ä½¿å¨å¯è¾¾æ§åææ³ä¸­ä¸å¯è¾¾çå¯¹è±¡ï¼ä¹å¹¶éæ¯âéæ­»ä¸å¯âçï¼è¿æ¶åå®ä»¬ææ¶å¤äºâç¼åé¶æ®µâï¼è¦çæ­£å®£åä¸ä¸ªå¯¹è±¡æ­»äº¡ï¼è³å°è¦ç»åä¸¤æ¬¡æ è®°è¿ç¨ï¼å¯è¾¾æ§åææ³ä¸­ä¸å¯è¾¾çå¯¹è±¡è¢«ç¬¬ä¸æ¬¡æ è®°å¹¶ä¸è¿è¡ä¸æ¬¡ç­éï¼ç­éçæ¡ä»¶æ¯æ­¤å¯¹è±¡æ¯å¦æå¿è¦æ§è¡ finalize æ¹æ³ãå½å¯¹è±¡æ²¡æè¦ç finalize æ¹æ³ï¼æ finalize æ¹æ³å·²ç»è¢«èææºè°ç¨è¿æ¶ï¼èææºå°è¿ä¸¤ç§æåµè§ä¸ºæ²¡æå¿è¦æ§è¡ã\n\nè¢«å¤å®ä¸ºéè¦æ§è¡çå¯¹è±¡å°ä¼è¢«æ¾å¨ä¸ä¸ªéåä¸­è¿è¡ç¬¬äºæ¬¡æ è®°ï¼é¤éè¿ä¸ªå¯¹è±¡ä¸å¼ç¨é¾ä¸çä»»ä½ä¸ä¸ªå¯¹è±¡å»ºç«å³èï¼å¦åå°±ä¼è¢«ççåæ¶ã\n\n> å¯¹è±¡æ¯å¦æ­»äº¡çå¤æ­æ¹æ³ -> å¼ç¨è®¡æ°å¨ã==å¯è¾¾æ§åæ==\n\n\n# 2.3 å¼ç¨\n\n1ï¼å¼ºå¼ç¨ï¼strongreferenceï¼\n\nä»¥åæä»¬ä½¿ç¨çå¤§é¨åå¼ç¨å®éä¸é½æ¯å¼ºå¼ç¨ï¼è¿æ¯ä½¿ç¨ææ®éçå¼ç¨ãå¦æä¸ä¸ªå¯¹è±¡å·æå¼ºå¼ç¨ï¼é£å°±ç±»ä¼¼äºå¿ä¸å¯å°ççæ´»ç¨åï¼åå¾åæ¶å¨ç»ä¸ä¼åæ¶å®ãå½åå­ç©ºé´ä¸è¶³ï¼java èææºå®æ¿æåº outofmemoryerror éè¯¯ï¼ä½¿ç¨åºå¼å¸¸ç»æ­¢ï¼ä¹ä¸ä¼é éæåæ¶å·æå¼ºå¼ç¨çå¯¹è±¡æ¥è§£å³åå­ä¸è¶³é®é¢ã\n\n2ï¼è½¯å¼ç¨ï¼softreferenceï¼\n\nå¦æä¸ä¸ªå¯¹è±¡åªå·æè½¯å¼ç¨ï¼é£å°±ç±»ä¼¼äºå¯æå¯æ ççæ´»ç¨åãå¦æåå­ç©ºé´è¶³å¤ï¼åå¾åæ¶å¨å°±ä¸ä¼åæ¶å®ï¼å¦æåå­ç©ºé´ä¸è¶³äºï¼å°±ä¼åæ¶è¿äºå¯¹è±¡çåå­ãåªè¦åå¾åæ¶å¨æ²¡æåæ¶å®ï¼è¯¥å¯¹è±¡å°±å¯ä»¥è¢«ç¨åºä½¿ç¨ãè½¯å¼ç¨å¯ç¨æ¥å®ç°åå­ææçé«éç¼å­ã\n\nè½¯å¼ç¨å¯ä»¥åä¸ä¸ªå¼ç¨éåï¼referencequeueï¼èåä½¿ç¨ï¼å¦æè½¯å¼ç¨æå¼ç¨çå¯¹è±¡è¢«åå¾åæ¶ï¼java èææºå°±ä¼æè¿ä¸ªè½¯å¼ç¨å å¥å°ä¸ä¹å³èçå¼ç¨éåä¸­ã\n\n3ï¼å¼±å¼ç¨ï¼weakreferenceï¼\n\nå¦æä¸ä¸ªå¯¹è±¡åªå·æå¼±å¼ç¨ï¼é£å°±ç±»ä¼¼äºå¯æå¯æ ççæ´»ç¨åãå¼±å¼ç¨ä¸è½¯å¼ç¨çåºå«å¨äºï¼åªå·æå¼±å¼ç¨çå¯¹è±¡æ¥ææ´ç­æççå½å¨æãå¨åå¾åæ¶å¨çº¿ç¨æ«æå®æç®¡è¾çåå­åºåçè¿ç¨ä¸­ï¼ä¸æ¦åç°äºåªå·æå¼±å¼ç¨çå¯¹è±¡ï¼ä¸ç®¡å½ååå­ç©ºé´è¶³å¤ä¸å¦ï¼é½ä¼åæ¶å®çåå­ãä¸è¿ï¼ç±äºåå¾åæ¶å¨æ¯ä¸ä¸ªä¼åçº§å¾ä½ççº¿ç¨ï¼ å æ­¤ä¸ä¸å®ä¼å¾å¿«åç°é£äºåªå·æå¼±å¼ç¨çå¯¹è±¡ã\n\nå¼±å¼ç¨å¯ä»¥åä¸ä¸ªå¼ç¨éåï¼referencequeueï¼èåä½¿ç¨ï¼å¦æå¼±å¼ç¨æå¼ç¨çå¯¹è±¡è¢«åå¾åæ¶ï¼java èææºå°±ä¼æè¿ä¸ªå¼±å¼ç¨å å¥å°ä¸ä¹å³èçå¼ç¨éåä¸­ã\n\n4ï¼èå¼ç¨ï¼phantomreferenceï¼\n\n"èå¼ç¨"é¡¾åæä¹ï¼å°±æ¯å½¢åèè®¾ï¼ä¸å¶ä»å ç§å¼ç¨é½ä¸åï¼èå¼ç¨å¹¶ä¸ä¼å³å®å¯¹è±¡ççå½å¨æãå¦æä¸ä¸ªå¯¹è±¡ä»ææèå¼ç¨ï¼é£ä¹å®å°±åæ²¡æä»»ä½å¼ç¨ä¸æ ·ï¼å¨ä»»ä½æ¶åé½å¯è½è¢«åå¾åæ¶ã\n\nèå¼ç¨ä¸»è¦ç¨æ¥è·è¸ªå¯¹è±¡è¢«åå¾åæ¶çæ´»å¨ã\n\nèå¼ç¨ä¸è½¯å¼ç¨åå¼±å¼ç¨çä¸ä¸ªåºå«å¨äºï¼ èå¼ç¨å¿é¡»åå¼ç¨éåï¼referencequeueï¼èåä½¿ç¨ãå½åå¾åæ¶å¨åå¤åæ¶ä¸ä¸ªå¯¹è±¡æ¶ï¼å¦æåç°å®è¿æèå¼ç¨ï¼å°±ä¼å¨åæ¶å¯¹è±¡çåå­ä¹åï¼æè¿ä¸ªèå¼ç¨å å¥å°ä¸ä¹å³èçå¼ç¨éåä¸­ãç¨åºå¯ä»¥éè¿å¤æ­å¼ç¨éåä¸­æ¯å¦å·²ç»å å¥äºèå¼ç¨ï¼æ¥äºè§£è¢«å¼ç¨çå¯¹è±¡æ¯å¦å°è¦è¢«åå¾åæ¶ãç¨åºå¦æåç°æä¸ªèå¼ç¨å·²ç»è¢«å å¥å°å¼ç¨éåï¼é£ä¹å°±å¯ä»¥å¨æå¼ç¨çå¯¹è±¡çåå­è¢«åæ¶ä¹åéåå¿è¦çè¡å¨ã\n\nç¹å«æ³¨æï¼å¨ç¨åºè®¾è®¡ä¸­ä¸è¬å¾å°ä½¿ç¨å¼±å¼ç¨ä¸èå¼ç¨ï¼ä½¿ç¨è½¯å¼ç¨çæåµè¾å¤ï¼è¿æ¯å ä¸ºè½¯å¼ç¨å¯ä»¥å é jvm å¯¹åå¾åå­çåæ¶éåº¦ï¼å¯ä»¥ç»´æ¤ç³»ç»çè¿è¡å®å¨ï¼é²æ­¢åå­æº¢åºï¼outofmemoryï¼ç­é®é¢çäº§çã\n\n\n# 2.4 åå¾æ¶éç®æ³\n\n# æ è®°-æ¸é¤ç®æ³\n\nè¯¥ç®æ³åä¸ºâæ è®°âåâæ¸é¤âé¶æ®µï¼é¦åæ è®°åºææä¸éè¦åæ¶çå¯¹è±¡ï¼å¨æ è®°å®æåç»ä¸åæ¶ææææ²¡æè¢«æ è®°çå¯¹è±¡ãå®æ¯æåºç¡çæ¶éç®æ³ï¼åç»­çç®æ³é½æ¯å¯¹å¶ä¸è¶³è¿è¡æ¹è¿å¾å°ãè¿ç§åå¾æ¶éç®æ³ä¼å¸¦æ¥ä¸¤ä¸ªææ¾çé®é¢ï¼\n\n 1. æçé®é¢\n 2. ç©ºé´é®é¢ï¼æ è®°æ¸é¤åä¼äº§çå¤§éä¸è¿ç»­çç¢çï¼\n\n# æ è®°-å¤å¶ç®æ³\n\nä¸ºäºè§£å³æçé®é¢ï¼âæ è®°-å¤å¶âæ¶éç®æ³åºç°äºãå®å¯ä»¥å°åå­åä¸ºå¤§å°ç¸åçä¸¤åï¼æ¯æ¬¡ä½¿ç¨å¶ä¸­çä¸åãå½è¿ä¸åçåå­ä½¿ç¨å®åï¼å°±å°è¿å­æ´»çå¯¹è±¡å¤å¶å°å¦ä¸åå»ï¼ç¶ååæä½¿ç¨çç©ºé´ä¸æ¬¡æ¸çæãè¿æ ·å°±ä½¿æ¯æ¬¡çåå­åæ¶é½æ¯å¯¹åå­åºé´çä¸åè¿è¡åæ¶ã\n\n# æ è®°-æ´çç®æ³\n\næ ¹æ®èå¹´ä»£çç¹ç¹æåºçä¸ç§æ è®°ç®æ³ï¼æ è®°è¿ç¨ä»ç¶ä¸âæ è®°-æ¸é¤âç®æ³ä¸æ ·ï¼ä½åç»­æ­¥éª¤ä¸æ¯ç´æ¥å¯¹å¯åæ¶å¯¹è±¡åæ¶ï¼èæ¯è®©ææå­æ´»çå¯¹è±¡åä¸ç«¯ç§»å¨ï¼ç¶åç´æ¥æ¸çæç«¯è¾¹çä»¥å¤çåå­ã\n\n# åä»£æ¶éç®æ³\n\nå½åèææºçåå¾æ¶éé½éç¨åä»£æ¶éç®æ³ï¼è¿ç§ç®æ³æ²¡æä»ä¹æ°çææ³ï¼åªæ¯æ ¹æ®å¯¹è±¡å­æ´»å¨æçä¸åå°åå­åä¸ºå åãä¸è¬å° java å åä¸ºæ°çä»£åèå¹´ä»£ï¼è¿æ ·æä»¬å°±å¯ä»¥æ ¹æ®åä¸ªå¹´ä»£çç¹ç¹éæ©åéçåå¾æ¶éç®æ³ã\n\næ¯å¦å¨æ°çä»£ä¸­ï¼æ¯æ¬¡æ¶éé½ä¼æå¤§éå¯¹è±¡æ­»å»ï¼æä»¥å¯ä»¥éæ©âæ è®°-å¤å¶âç®æ³ï¼åªéè¦ä»åºå°éå¯¹è±¡çå¤å¶ææ¬å°±å¯ä»¥å®ææ¯æ¬¡åå¾æ¶éãèèå¹´ä»£çå¯¹è±¡å­æ´»å çæ¯æ¯è¾é«çï¼èä¸æ²¡æé¢å¤çç©ºé´å¯¹å®è¿è¡åéæä¿ï¼æä»¥æä»¬å¿é¡»éæ©âæ è®°-æ¸é¤âæâæ è®°-æ´çâç®æ³è¿è¡åå¾æ¶éã\n\n\n# 2.5 åå¾æ¶éå¨\n\nå¦æè¯´æ¶éç®æ³æ¯åå­åæ¶çæ¹æ³è®ºï¼é£ä¹åå¾æ¶éå¨å°±æ¯åå­åæ¶çå·ä½å®ç°ã\n\nè½ç¶æä»¬å¯¹åä¸ªæ¶éå¨è¿è¡æ¯è¾ï¼ä½å¹¶éè¦æéåºä¸ä¸ªæå¥½çæ¶éå¨ãå ä¸ºç´å°ç°å¨ä¸ºæ­¢è¿æ²¡ææå¥½çåå¾æ¶éå¨åºç°ï¼æ´å æ²¡æä¸è½çåå¾æ¶éå¨ï¼æä»¬è½åçå°±æ¯æ ¹æ®å·ä½åºç¨åºæ¯éæ©éåèªå·±çåå¾æ¶éå¨ã\n\n# serial æ¶éå¨\n\nserialï¼ä¸²è¡ï¼æ¶éå¨æ¯æåºæ¬ãåå²ææ ä¹çåå¾æ¶éå¨äºãå¤§å®¶çåå­å°±ç¥éè¿ä¸ªæ¶éå¨æ¯ä¸ä¸ªåçº¿ç¨æ¶éå¨äºãå®ç âåçº¿ç¨â çæä¹ä¸ä»ä»æå³çå®åªä¼ä½¿ç¨ä¸æ¡åå¾æ¶éçº¿ç¨å»å®æåå¾æ¶éå·¥ä½ï¼æ´éè¦çæ¯å®å¨è¿è¡åå¾æ¶éå·¥ä½çæ¶åå¿é¡»æåå¶ä»ææçå·¥ä½çº¿ç¨ï¼ "stop the world" ï¼ï¼ç´å°å®æ¶éç»æã\n\næ°çä»£éç¨æ è®°-å¤å¶ç®æ³ï¼èå¹´ä»£éç¨æ è®°-æ´çç®æ³ã\n\n# parnew æ¶éå¨\n\nparnew æ¶éå¨å¶å®å°±æ¯ serial æ¶éå¨çå¤çº¿ç¨çæ¬ï¼é¤äºä½¿ç¨å¤çº¿ç¨è¿è¡åå¾æ¶éå¤ï¼å¶ä½è¡ä¸ºï¼æ§å¶åæ°ãæ¶éç®æ³ãåæ¶ç­ç¥ç­ç­ï¼å serial æ¶éå¨å®å¨ä¸æ ·ã\n\nå®æ¯è®¸å¤è¿è¡å¨ server æ¨¡å¼ä¸çèææºçé¦è¦éæ©ï¼é¤äº serial æ¶éå¨å¤ï¼åªæå®è½ä¸ cms æ¶éå¨ï¼çæ­£æä¹ä¸çå¹¶åæ¶éå¨ï¼åé¢ä¼ä»ç»å°ï¼éåå·¥ä½ã\n\n# parallel scavenge æ¶éå¨\n\nparallel scavenge æ¶éå¨ä¹æ¯ä½¿ç¨æ è®°-å¤å¶ç®æ³çå¤çº¿ç¨æ¶éå¨ï¼å®çä¸å»å ä¹å parnew é½ä¸æ ·ã é£ä¹å®æä»ä¹ç¹å«ä¹å¤å¢ï¼\n\nparallel scavenge æ¶éå¨å³æ³¨ç¹æ¯ååéï¼é«æççå©ç¨ cpuï¼ãcms ç­åå¾æ¶éå¨çå³æ³¨ç¹æ´å¤çæ¯ç¨æ·çº¿ç¨çåé¡¿æ¶é´ï¼æé«ç¨æ·ä½éªï¼ãæè°ååéå°±æ¯ cpu ä¸­ç¨äºè¿è¡ç¨æ·ä»£ç çæ¶é´ä¸ cpu æ»æ¶èæ¶é´çæ¯å¼ã\n\n# cms æ¶éå¨\n\ncmsï¼concurrent mark sweepï¼æ¶éå¨æ¯ä¸ç§ä»¥è·åæç­åæ¶åé¡¿æ¶é´ä¸ºç®æ çæ¶éå¨ãå®éå¸¸ç¬¦åå¨æ³¨éç¨æ·ä½éªçåºç¨ä¸ä½¿ç¨ã\n\ncmsï¼concurrent mark sweepï¼æ¶éå¨æ¯ hotspot èææºç¬¬ä¸æ¬¾çæ­£æä¹ä¸çå¹¶åæ¶éå¨ï¼å®ç¬¬ä¸æ¬¡å®ç°äºè®©åå¾æ¶éçº¿ç¨ä¸ç¨æ·çº¿ç¨ï¼åºæ¬ä¸ï¼åæ¶å·¥ä½ã\n\nä»åå­ä¸­çmark sweepè¿ä¸¤ä¸ªè¯å¯ä»¥çåºï¼cms æ¶éå¨æ¯ä¸ç§ âæ è®°-æ¸é¤âç®æ³å®ç°çï¼å®çè¿ä½è¿ç¨ç¸æ¯äºåé¢å ç§åå¾æ¶éå¨æ¥è¯´æ´å å¤æä¸äºãæ´ä¸ªè¿ç¨åä¸ºåä¸ªæ­¥éª¤ï¼\n\n * åå§æ è®°ï¼ æåææçå¶ä»çº¿ç¨ï¼å¹¶è®°å½ä¸ç´æ¥ä¸ root ç¸è¿çå¯¹è±¡ï¼éåº¦å¾å¿« ï¼\n * å¹¶åæ è®°ï¼ åæ¶å¼å¯ gc åç¨æ·çº¿ç¨ï¼ç¨ä¸ä¸ªé­åç»æå»è®°å½å¯è¾¾å¯¹è±¡ãä½å¨è¿ä¸ªé¶æ®µç»æï¼è¿ä¸ªé­åç»æå¹¶ä¸è½ä¿è¯åå«å½åææçå¯è¾¾å¯¹è±¡ãå ä¸ºç¨æ·çº¿ç¨å¯è½ä¼ä¸æ­çæ´æ°å¼ç¨åï¼æä»¥ gc çº¿ç¨æ æ³ä¿è¯å¯è¾¾æ§åæçå®æ¶æ§ãæä»¥è¿ä¸ªç®æ³éä¼è·è¸ªè®°å½è¿äºåçå¼ç¨æ´æ°çå°æ¹ã\n * éæ°æ è®°ï¼ éæ°æ è®°é¶æ®µå°±æ¯ä¸ºäºä¿®æ­£å¹¶åæ è®°æé´å ä¸ºç¨æ·ç¨åºç»§ç»­è¿è¡èå¯¼è´æ è®°äº§çåå¨çé£ä¸é¨åå¯¹è±¡çæ è®°è®°å½ï¼è¿ä¸ªé¶æ®µçåé¡¿æ¶é´ä¸è¬ä¼æ¯åå§æ è®°é¶æ®µçæ¶é´ç¨é¿ï¼è¿è¿æ¯å¹¶åæ è®°é¶æ®µæ¶é´ç­\n * å¹¶åæ¸é¤ï¼ å¼å¯ç¨æ·çº¿ç¨ï¼åæ¶ gc çº¿ç¨å¼å§å¯¹æªæ è®°çåºååæ¸æ«ã\n\nä»å®çåå­å°±å¯ä»¥çåºå®æ¯ä¸æ¬¾ä¼ç§çåå¾æ¶éå¨ï¼ä¸»è¦ä¼ç¹ï¼å¹¶åæ¶éãä½åé¡¿ãä½æ¯å®æä¸é¢ä¸ä¸ªææ¾çç¼ºç¹ï¼\n\n * å¯¹ cpu èµæºææï¼\n * æ æ³å¤çæµ®å¨åå¾ï¼\n * å®ä½¿ç¨çåæ¶ç®æ³-âæ è®°-æ¸é¤âç®æ³ä¼å¯¼è´æ¶éç»ææ¶ä¼æå¤§éç©ºé´ç¢çäº§çã\n\n# g1 æ¶éå¨\n\ng1 (garbage-first) æ¯ä¸æ¬¾é¢åæå¡å¨çåå¾æ¶éå¨,ä¸»è¦éå¯¹éå¤å¤é¢å¤çå¨åå¤§å®¹éåå­çæºå¨. ä»¥æé«æ¦çæ»¡è¶³ gc åé¡¿æ¶é´è¦æ±çåæ¶,è¿å·å¤é«ååéæ§è½ç¹å¾.\n\nè¢«è§ä¸º jdk1.7 ä¸­ hotspot èææºçä¸ä¸ªéè¦è¿åç¹å¾ãå®å·å¤ä»¥ä¸ç¹ç¹ï¼\n\n * å¹¶è¡ä¸å¹¶åï¼g1 è½ååå©ç¨ cpuãå¤æ ¸ç¯å¢ä¸çç¡¬ä»¶ä¼å¿ï¼ä½¿ç¨å¤ä¸ª cpuï¼cpu æè cpu æ ¸å¿ï¼æ¥ç¼©ç­ stop-the-world åé¡¿æ¶é´ãé¨åå¶ä»æ¶éå¨åæ¬éè¦åé¡¿ java çº¿ç¨æ§è¡ç gc å¨ä½ï¼g1 æ¶éå¨ä»ç¶å¯ä»¥éè¿å¹¶åçæ¹å¼è®© java ç¨åºç»§ç»­æ§è¡ã\n * åä»£æ¶éï¼è½ç¶ g1 å¯ä»¥ä¸éè¦å¶ä»æ¶éå¨éåå°±è½ç¬ç«ç®¡çæ´ä¸ª gc å ï¼ä½æ¯è¿æ¯ä¿çäºåä»£çæ¦å¿µã\n * ç©ºé´æ´åï¼ä¸ cms çâæ è®°-æ¸çâç®æ³ä¸åï¼g1 ä»æ´ä½æ¥çæ¯åºäºâæ è®°-æ´çâç®æ³å®ç°çæ¶éå¨ï¼ä»å±é¨ä¸æ¥çæ¯åºäºâæ è®°-å¤å¶âç®æ³å®ç°çã\n * å¯é¢æµçåé¡¿ï¼è¿æ¯ g1 ç¸å¯¹äº cms çå¦ä¸ä¸ªå¤§ä¼å¿ï¼éä½åé¡¿æ¶é´æ¯ g1 å cms å±åçå³æ³¨ç¹ï¼ä½ g1 é¤äºè¿½æ±ä½åé¡¿å¤ï¼è¿è½å»ºç«å¯é¢æµçåé¡¿æ¶é´æ¨¡åï¼è½è®©ä½¿ç¨èæç¡®æå®å¨ä¸ä¸ªé¿åº¦ä¸º m æ¯«ç§çæ¶é´çæ®µåã\n\ng1 æ¶éå¨çè¿ä½å¤§è´åä¸ºä»¥ä¸å ä¸ªæ­¥éª¤ï¼\n\n * åå§æ è®°\n * å¹¶åæ è®°\n * æç»æ è®°\n * ç­éåæ¶\n\ng1 æ¶éå¨å¨åå°ç»´æ¤äºä¸ä¸ªä¼ååè¡¨ï¼æ¯æ¬¡æ ¹æ®åè®¸çæ¶éæ¶é´ï¼ä¼åéæ©åæ¶ä»·å¼æå¤§ç region(è¿ä¹å°±æ¯å®çåå­ garbage-first çç±æ¥) ãè¿ç§ä½¿ç¨ region åååå­ç©ºé´ä»¥åæä¼åçº§çåºååæ¶æ¹å¼ï¼ä¿è¯äº g1 æ¶éå¨å¨æéæ¶é´åå¯ä»¥å°½å¯è½é«çæ¶éæçï¼æåå­åæ´ä¸ºé¶ï¼ã\n\n# zgc æ¶éå¨\n\nä¸ cms ä¸­ç parnew å g1 ç±»ä¼¼ï¼zgc ä¹éç¨æ è®°-å¤å¶ç®æ³ï¼ä¸è¿ zgc å¯¹è¯¥ç®æ³åäºéå¤§æ¹è¿ã\n\nå¨ zgc ä¸­åºç° stop the world çæåµä¼æ´å°ï¼\n\n\n# 3 ç±»å è½½çè¿ç¨\n\nç±»ä»è¢«å è½½å°èææºåå­ä¸­å¼å§ï¼å°å¸è½½åºåå­ä¸ºæ­¢ï¼å®çæ´ä¸ªçå½å¨æåæ¬ï¼å è½½ï¼éªè¯ï¼åå¤ï¼è§£æï¼åå§å,ä½¿ç¨,å¸è½½è¿7ä¸ªé¶æ®µ.å¶ä¸­å¶ä¸­éªè¯ãåå¤ãè§£æ3ä¸ªé¨åç»ç§°ä¸ºè¿æ¥.\n\n\n\n\n# 3.1 å è½½\n\n * éè¿ä¸ä¸ªç±»çå¨éå®åæ¥è·åå¶å®ä¹çäºè¿å¶å­èæµã\n * å°è¿ä¸ªå­èæµæä»£è¡¨çéæå­å¨ç»æè½¬åä¸ºæ¹æ³åºçè¿è¡æ¶æ°æ®ç»æã\n * å¨javaå ä¸­çæä¸ä¸ªä»£è¡¨è¿ä¸ªç±»ç java.lang.classå¯¹è±¡ï¼ä½ä¸ºå¯¹æ¹æ³åºä¸­è¿äºæ°æ®çè®¿é®å¥å£ã\n\n> ç¸å¯¹äºç±»å è½½çå¶ä»é¶æ®µèè¨ï¼å è½½é¶æ®µï¼åç¡®å°è¯´ï¼æ¯å è½½é¶æ®µè·åç±»çäºè¿å¶å­èæµçå¨ä½ï¼æ¯å¯æ§æ§æå¼ºçé¶æ®µï¼å ä¸º==å¼åäººåæ¢å¯ä»¥ä½¿ç¨ç³»ç»æä¾çç±»å è½½å¨æ¥å®æå è½½ï¼ä¹å¯ä»¥èªå®ä¹èªå·±çç±»å è½½å¨æ¥å®æå è½½==ã\n\n\n# 3.2 è¿æ¥\n\n# éªè¯\n\n==ç¡®ä¿è¢«å è½½ç±»çæ­£ç¡®æ§==\n\néªè¯æ¯è¿æ¥é¶æ®µçç¬¬ä¸æ­¥ï¼è¿ä¸é¶æ®µçç®çæ¯ä¸ºäºç¡®ä¿classæä»¶çå­èæµä¸­åå«çä¿¡æ¯ç¬¦åå½åèææºçè¦æ±ï¼å¹¶ä¸ä¸ä¼å±å®³èææºèªèº«çå®å¨ãéªè¯é¶æ®µå¤§è´ä¼å®æ4ä¸ªé¶æ®µçæ£éªå¨ä½ï¼\n\n * æä»¶æ ¼å¼éªè¯ï¼éªè¯å­èæµæ¯å¦ç¬¦åclassæä»¶æ ¼å¼çè§èï¼ä¾å¦ï¼æ¯å¦ä»¥ 0xcafebabeå¼å¤´ãä¸»æ¬¡çæ¬å·æ¯å¦å¨å½åèææºçå¤çèå´ä¹åãå¸¸éæ± ä¸­çå¸¸éæ¯å¦æä¸è¢«æ¯æçç±»åã\n * åæ°æ®éªè¯ï¼å¯¹å­èç æè¿°çä¿¡æ¯è¿è¡è¯­ä¹åæï¼æ³¨æï¼å¯¹æ¯javacç¼è¯é¶æ®µçè¯­ä¹åæï¼ï¼ä»¥ä¿è¯å¶æè¿°çä¿¡æ¯ç¬¦åjavaè¯­è¨è§èçè¦æ±ï¼ä¾å¦ï¼è¿ä¸ªç±»æ¯å¦æç¶ç±»ï¼é¤äº java.lang.objectä¹å¤ã\n * å­èç éªè¯ï¼éè¿æ°æ®æµåæ§å¶æµåæï¼ç¡®å®ç¨åºè¯­ä¹æ¯åæ³çãç¬¦åé»è¾çã\n * ç¬¦å·å¼ç¨éªè¯ï¼ç¡®ä¿è§£æå¨ä½è½æ­£ç¡®æ§è¡ã\n\n> éªè¯é¶æ®µæ¯éå¸¸éè¦çï¼ä½ä¸æ¯å¿é¡»çï¼å®å¯¹ç¨åºè¿è¡ææ²¡æå½±åï¼å¦ææå¼ç¨çç±»ç»è¿åå¤éªè¯ï¼é£ä¹å¯ä»¥èèéç¨ -xverifynoneåæ°æ¥å³é­å¤§é¨åçç±»éªè¯æªæ½ï¼ä»¥ç¼©ç­èææºç±»å è½½çæ¶é´ã\n\n# åå¤\n\nä¸ºç±»ç éæåéåéåå­ï¼å¹¶å°å¶åå§åä¸ºé»è®¤å¼\n\néè¦æ³¨æçå ç¹ï¼\n\n * 1ãè¿æ¶åè¿è¡åå­åéçä»åæ¬ç±»åéï¼staticï¼ï¼èä¸åæ¬å®ä¾åéï¼å®ä¾åéä¼å¨å¯¹è±¡å®ä¾åæ¶éçå¯¹è±¡ä¸ååéå¨javaå ä¸­ã\n * 2ãè¿éæè®¾ç½®çåå§å¼éå¸¸æåµä¸æ¯æ°æ®ç±»åé»è®¤çé¶å¼ï¼å¦0ã0lãnullãfalseç­ï¼ï¼èä¸æ¯è¢«å¨javaä»£ç ä¸­è¢«æ¾å¼å°èµäºçå¼ã\n\n> è¿éè¿éè¦æ³¨æå¦ä¸å ç¹ï¼\n> \n> 1ãå¯¹åºæ¬æ°æ®ç±»åæ¥è¯´ï¼å¯¹äºç±»åéï¼staticï¼åå¨å±åéï¼å¦æä¸æ¾å¼å°å¯¹å¶èµå¼èç´æ¥ä½¿ç¨ï¼åç³»ç»ä¼ä¸ºå¶èµäºé»è®¤çé¶å¼ï¼èå¯¹äºå±é¨åéæ¥è¯´ï¼å¨ä½¿ç¨åå¿é¡»æ¾å¼å°ä¸ºå¶èµå¼ï¼å¦åç¼è¯æ¶ä¸éè¿ã\n> \n> 2ãå¯¹äºåæ¶è¢«staticåfinalä¿®é¥°çå¸¸éï¼å¿é¡»å¨å£°æçæ¶åå°±ä¸ºå¶æ¾å¼å°èµå¼ï¼å¦åç¼è¯æ¶ä¸éè¿ï¼èåªè¢«finalä¿®é¥°çå¸¸éåæ¢å¯ä»¥å¨å£°ææ¶æ¾å¼å°ä¸ºå¶èµå¼ï¼ä¹å¯ä»¥å¨ç±»åå§åæ¶æ¾å¼å°ä¸ºå¶èµå¼ï¼æ»ä¹ï¼å¨ä½¿ç¨åå¿é¡»ä¸ºå¶æ¾å¼å°èµå¼ï¼ç³»ç»ä¸ä¼ä¸ºå¶èµäºé»è®¤é¶å¼ã\n> \n> 3ãå¯¹äºå¼ç¨æ°æ®ç±»åreferenceæ¥è¯´ï¼å¦æ°ç»å¼ç¨ãå¯¹è±¡å¼ç¨ç­ï¼å¦ææ²¡æå¯¹å¶è¿è¡æ¾å¼å°èµå¼èç´æ¥ä½¿ç¨ï¼ç³»ç»é½ä¼ä¸ºå¶èµäºé»è®¤çé¶å¼ï¼å³nullã\n> \n> 4ãå¦æå¨æ°ç»åå§åæ¶æ²¡æå¯¹æ°ç»ä¸­çååç´ èµå¼ï¼é£ä¹å¶ä¸­çåç´ å°æ ¹æ®å¯¹åºçæ°æ®ç±»åèè¢«èµäºé»è®¤çé¶å¼ã\n\n * 3ãå¦æç±»å­æ®µçå­æ®µå±æ§è¡¨ä¸­å­å¨ constantvalueå±æ§ï¼å³åæ¶è¢«finalåstaticä¿®é¥°ï¼é£ä¹å¨åå¤é¶æ®µåévalueå°±ä¼è¢«åå§åä¸ºconstvalueå±æ§ææå®çå¼ã\n\n# è§£æ\n\næç±»ä¸­çç¬¦å·å¼ç¨è½¬æ¢ä¸ºç´æ¥å¼ç¨\n\nè§£æé¶æ®µæ¯èææºå°å¸¸éæ± åçç¬¦å·å¼ç¨æ¿æ¢ä¸ºç´æ¥å¼ç¨çè¿ç¨ï¼è§£æå¨ä½ä¸»è¦éå¯¹ç±»ææ¥å£ãå­æ®µãç±»æ¹æ³ãæ¥å£æ¹æ³ãæ¹æ³ç±»åãæ¹æ³å¥æåè°ç¨ç¹éå®ç¬¦7ç±»ç¬¦å·å¼ç¨è¿è¡ãç¬¦å·å¼ç¨å°±æ¯ä¸ç»ç¬¦å·æ¥æè¿°ç®æ ï¼å¯ä»¥æ¯ä»»ä½å­é¢éã\n\nç´æ¥å¼ç¨å°±æ¯ç´æ¥æåç®æ çæéãç¸å¯¹åç§»éæä¸ä¸ªé´æ¥å®ä½å°ç®æ çå¥æã\n\n\n# 3.3 åå§å\n\n==ä¸ºç±»çéæåéèµäºæ­£ç¡®çåå§å¼==ï¼jvmè´è´£å¯¹ç±»è¿è¡åå§åï¼ä¸»è¦å¯¹ç±»åéè¿è¡åå§åãå¨javaä¸­å¯¹ç±»åéè¿è¡åå§å¼è®¾å®æä¸¤ç§æ¹å¼ï¼\n\n * å£°æç±»åéæ¯æå®åå§å¼\n * ä½¿ç¨éæä»£ç åä¸ºç±»åéæå®åå§å¼\n\njvm åå§åæ­¥éª¤\n\n * 1ãåå¦è¿ä¸ªç±»è¿æ²¡æè¢«å è½½åè¿æ¥ï¼åç¨åºåå è½½å¹¶è¿æ¥è¯¥ç±»\n * 2ãåå¦è¯¥ç±»çç´æ¥ç¶ç±»è¿æ²¡æè¢«åå§åï¼åååå§åå¶ç´æ¥ç¶ç±»\n * 3ãåå¦ç±»ä¸­æåå§åè¯­å¥ï¼åç³»ç»ä¾æ¬¡æ§è¡è¿äºåå§åè¯­å¥\n\n\n# 3.4 ç»æçå½å¨æ\n\nå¨å¦ä¸å ç§æåµä¸ï¼javaèææºå°ç»æçå½å¨æ\n\n * æ§è¡äº system.exit()æ¹æ³\n * ç¨åºæ­£å¸¸æ§è¡ç»æ\n * ç¨åºå¨æ§è¡è¿ç¨ä¸­éå°äºå¼å¸¸æéè¯¯èå¼å¸¸ç»æ­¢\n * ç±äºæä½ç³»ç»åºç°éè¯¯èå¯¼è´javaèææºè¿ç¨ç»æ­¢\n\n\n# 4 ç±»å è½½å¨\n\njvm ä¸­åç½®äºä¸ä¸ªéè¦ç classloaderï¼é¤äº bootstrapclassloader å¶ä»ç±»å è½½å¨åç± java å®ç°ä¸å¨é¨ç»§æ¿èªjava.lang.classloaderï¼\n\n 1. bootstrapclassloader(å¯å¨ç±»å è½½å¨) ï¼æé¡¶å±çå è½½ç±»ï¼ç± c++å®ç°ï¼è´è´£å è½½ %java_home%/libç®å½ä¸ç jar ååç±»æèè¢« -xbootclasspathåæ°æå®çè·¯å¾ä¸­çææç±»ã\n 2. extensionclassloader(æ©å±ç±»å è½½å¨) ï¼ä¸»è¦è´è´£å è½½ %jre_home%/lib/ext ç®å½ä¸ç jar ååç±»ï¼æè¢« java.ext.dirs ç³»ç»åéææå®çè·¯å¾ä¸ç jar åã\n 3. appclassloader(åºç¨ç¨åºç±»å è½½å¨) ï¼é¢åæä»¬ç¨æ·çå è½½å¨ï¼è´è´£å è½½å½ååºç¨ classpath ä¸çææ jar ååç±»ã\n\n\n\n\n# 4.1 å¯å¨ç±»/å¼å¯¼ç±»ï¼bootstrap classloader\n\n> è¿ä¸ªç±»å è½½å¨ä½¿ç¨c/c++è¯­è¨å®ç°çï¼åµå¥å¨jvmåé¨ï¼javaç¨åºæ æ³ç´æ¥æä½è¿ä¸ªç±»ã\n> \n> å®ç¨æ¥å è½½javaæ ¸å¿ç±»åºï¼å¦ï¼java_home/jre/lib/rt.jarãresources.jarãsun.boot.class.pathè·¯å¾ä¸çåï¼ç¨äºæä¾jvmè¿è¡æéçåã\n> \n> å¹¶ä¸æ¯ç»§æ¿èªjava.lang.classloaderï¼å®æ²¡æç¶ç±»å è½½å¨\n> \n> å®å è½½æ©å±ç±»å è½½å¨ååºç¨ç¨åºç±»å è½½å¨ï¼å¹¶æä¸ºä»ä»¬çç¶ç±»å è½½å¨\n> \n> åºäºå®å¨èèï¼å¯å¨ç±»åªå è½½ååä¸ºï¼javaãjavaxãsunå¼å¤´çç±»\n\n\n# 4.2 æ©å±ç±»å è½½å¨ï¼extension classloader\n\n> javaè¯­è¨ç¼åï¼ç±sun.misc.launcher$extclassloaderå®ç°ï¼æä»¬å¯ä»¥ç¨javaç¨åºæä½è¿ä¸ªå è½½å¨\n> \n> æ´¾çç»§æ¿èªjava.lang.classloaderï¼ç¶ç±»å è½½å¨ä¸ºå¯å¨ç±»å è½½å¨\n> \n> ä»ç³»ç»å±æ§ï¼java.ext.dirsç®å½ä¸­å è½½ç±»åºï¼æèä»jdkå®è£ç®å½ï¼jre/lib/extç®å½ä¸å è½½ç±»åºãæä»¬å°±å¯ä»¥å°æä»¬èªå·±çåæ¾å¨ä»¥ä¸ç®å½ä¸ï¼å°±ä¼èªå¨å è½½è¿æ¥äºã\n\n\n# 4.3 åºç¨ç¨åºç±»å è½½å¨ï¼application classloader\n\n> javaè¯­è¨ç¼åï¼ç±sun.misc.launcher$appclassloaderå®ç°ã\n> \n> æ´¾çç»§æ¿èªjava.lang.classloaderï¼ç¶ç±»å è½½å¨ä¸ºå¯å¨ç±»å è½½å¨\n> \n> å®è´è´£å è½½ç¯å¢åéclasspathæèç³»ç»å±æ§java.class.pathæå®è·¯å¾ä¸çç±»åºï¼å®æ¯ç¨åºä¸­é»è®¤çç±»å è½½å¨ï¼æä»¬javaç¨åºä¸­çç±»ï¼é½æ¯ç±å®å è½½å®æçã\n> \n> æä»¬å¯ä»¥éè¿classloader#getsystemclassloader()è·åå¹¶æä½è¿ä¸ªå è½½å¨\n\n\n# 4.4 èªå®ä¹å è½½å¨\n\n> ä¸è¬æåµä¸ï¼ä»¥ä¸3ç§å è½½å¨è½æ»¡è¶³æä»¬æ¥å¸¸çå¼åå·¥ä½ï¼ä¸æ»¡è¶³æ¶ï¼æä»¬è¿å¯ä»¥==èªå®ä¹å è½½å¨==\n> \n> æ¯å¦ç¨ç½ç»å è½½javaç±»ï¼ä¸ºäºä¿è¯ä¼ è¾ä¸­çå®å¨æ§ï¼éç¨äºå å¯æä½ï¼é£ä¹ä»¥ä¸3ç§å è½½å¨å°±æ æ³å è½½è¿ä¸ªç±»ï¼è¿æ¶åå°±éè¦èªå®ä¹å è½½å¨\n\n\n# 5 å è½½æºå¶\n\njava èææºææè¿°ç±»çæ°æ®ä» class æä»¶å è½½å°åå­ä¸­ï¼å¹¶å¯¹æ°æ®è¿è¡æ ¡éªãè½¬åè§£æååå§åï¼æç»å½¢æå¯ä»¥è¢«èææºç´æ¥ä½¿ç¨ç javaç±»åï¼è¿ä¸ªè¿ç¨è¢«ç§°ä½èææºçç±»å è½½æºå¶ã\n\n\n# 5.1 åäº²å§æ´¾æ¨¡å\n\njvmå¯¹classæä»¶éç¨çæ¯æéå è½½çæ¹å¼ï¼å½éè¦ä½¿ç¨è¯¥ç±»æ¶ï¼jvmæä¼å°å®çclassæä»¶å è½½å°åå­ä¸­äº§çclasså¯¹è±¡ã\n\nå¨å è½½ç±»çæ¶åï¼æ¯éç¨çåäº²å§æ´¾æºå¶ï¼å³æè¯·æ±äº¤ç»ç¶ç±»å¤ççä¸ç§ä»»å¡å§æ´¾æ¨¡å¼ã\n\n\n\n * å·¥ä½åç\n   \n   1. å¦æä¸ä¸ªç±»å è½½å¨æ¥æ¶å°äºç±»å è½½çè¯·æ±ï¼å®èªå·±ä¸ä¼åå»å è½½ï¼ä¼æè¿ä¸ªè¯·æ±å§æç»ç¶ç±»å è½½å¨å»æ§è¡ã\n   2. å¦æç¶ç±»è¿å­å¨ç¶ç±»å è½½å¨ï¼åç»§ç»­åä¸å§æï¼ä¸ç´å§æå°å¯å¨ç±»å è½½å¨ï¼bootstrap classloader\n   3. å¦æç¶ç±»å è½½å¨å¯ä»¥å®æå è½½ä»»å¡ï¼å°±è¿åæåç»æï¼å¦æç¶ç±»å è½½å¤±è´¥ï¼å°±ç±å­ç±»èªå·±å»å°è¯å è½½ï¼å¦æå­ç±»å è½½å¤±è´¥å°±ä¼æåºclassnotfoundexceptionå¼å¸¸ï¼è¿å°±æ¯åäº²å§æ´¾æ¨¡å¼\n\n * ä¼ç¹ï¼\n   \n   åäº²å§æ´¾æ¨¡åä¿è¯äº java ç¨åºçç¨³å®è¿è¡ï¼å¯ä»¥é¿åç±»çéå¤å è½½ï¼jvm åºåä¸åç±»çæ¹å¼ä¸ä»ä»æ ¹æ®ç±»åï¼ç¸åçç±»æä»¶è¢«ä¸åçç±»å è½½å¨å è½½äº§ççæ¯ä¸¤ä¸ªä¸åçç±»ï¼ï¼ä¹ä¿è¯äº java çæ ¸å¿ api ä¸è¢«ç¯¡æ¹ãå¦ææ²¡æä½¿ç¨åäº²å§æ´¾æ¨¡åï¼èæ¯æ¯ä¸ªç±»å è½½å¨å è½½èªå·±çè¯å°±ä¼åºç°ä¸äºé®é¢ï¼æ¯å¦æä»¬ç¼åä¸ä¸ªç§°ä¸º java.lang.object ç±»çè¯ï¼é£ä¹ç¨åºè¿è¡çæ¶åï¼ç³»ç»å°±ä¼åºç°å¤ä¸ªä¸åç object ç±»ã\n\n\n# 5.2 ååå§æ´¾æºå¶\n\nå¨javaåºç¨ä¸­å­å¨çå¾å¤æå¡æä¾èæ¥å£ï¼service provider interfaceï¼spiï¼ï¼è¿äºæ¥å£åè®¸ç¬¬ä¸æ¹ä¸ºå®ä»¬æä¾å®ç°ï¼å¦å¸¸è§ç spi æ jdbcãjndiç­ï¼è¿äº spi çæ¥å£å±äº java æ ¸å¿åºï¼ä¸è¬å­å¨rt.jaråä¸­ï¼ç±bootstrapç±»å è½½å¨å è½½ãèbootstrapç±»å è½½å¨æ æ³ç´æ¥å è½½spiçå®ç°ç±»ï¼åæ¶ç±äºåäº²å§æ´¾æ¨¡å¼çå­å¨ï¼bootstrapç±»å è½½å¨ä¹æ æ³ååå§æappclassloaderå è½½å¨spiçå®ç°ç±»ãå¨è¿ç§æåµä¸ï¼æä»¬å°±éè¦ä¸ç§ç¹æ®çç±»å è½½å¨æ¥å è½½ç¬¬ä¸æ¹çç±»åºï¼èçº¿ç¨ä¸ä¸æç±»å è½½å¨ï¼åäº²å§æ´¾æ¨¡åçç ´åèï¼å°±æ¯å¾å¥½çéæ©ã\n\nä»å¾å¯ç¥rt.jaræ ¸å¿åæ¯æbootstrapç±»å è½½å¨å è½½çï¼å¶ååå«spiæ ¸å¿æ¥å£ç±»ï¼ç±äºspiä¸­çç±»ç»å¸¸éè¦è°ç¨å¤é¨å®ç°ç±»çæ¹æ³ï¼èjdbc.jaråå«å¤é¨å®ç°ç±»(jdbc.jarå­å¨äºclasspathè·¯å¾)æ æ³éè¿bootstrapç±»å è½½å¨å è½½ï¼å æ­¤åªè½å§æ´¾çº¿ç¨ä¸ä¸æç±»å è½½å¨æjdbc.jarä¸­çå®ç°ç±»å è½½å°åå­ä»¥ä¾¿spiç¸å³ç±»ä½¿ç¨ãæ¾ç¶è¿ç§çº¿ç¨ä¸ä¸æç±»å è½½å¨çå è½½æ¹å¼ç ´åäºâåäº²å§æ´¾æ¨¡åâï¼å®å¨æ§è¡è¿ç¨ä¸­æå¼åäº²å§æ´¾å è½½é¾æ¨¡å¼ï¼ä½¿ç¨åºå¯ä»¥éåä½¿ç¨ç±»å è½½å¨ï¼å½ç¶è¿ä¹ä½¿å¾javaç±»å è½½å¨åå¾æ´å çµæ´»ã\n\n\n\n\n# 6 jvmåæ°\n\n\n# 6.1 å åå­ç¸å³\n\n> java èææºæç®¡ççåå­ä¸­æå¤§çä¸åï¼java å æ¯ææçº¿ç¨å±äº«çä¸ååå­åºåï¼å¨èææºå¯å¨æ¶åå»ºãæ­¤åå­åºåçå¯ä¸ç®çå°±æ¯å­æ¾å¯¹è±¡å®ä¾ï¼å ä¹ææçå¯¹è±¡å®ä¾ä»¥åæ°ç»é½å¨è¿éåéåå­ã\n\n# æ¾å¼æå®å åå­âxmså-xmx\n\nä¸æ§è½æå³çæå¸¸è§å®è·µä¹ä¸æ¯æ ¹æ®åºç¨ç¨åºè¦æ±åå§åå åå­ãå¦ææä»¬éè¦æå®æå°åæå¤§å å¤§å°ï¼æ¨èæ¾ç¤ºæå®å¤§å°ï¼ï¼ä»¥ä¸åæ°å¯ä»¥å¸®å©ä½ å®ç°ï¼\n\n-xms&lt;heap size>[unit] \n-xmx&lt;heap size>[unit]\n\n\n * heap size è¡¨ç¤ºè¦åå§ååå­çå·ä½å¤§å°ã\n * unit è¡¨ç¤ºè¦åå§ååå­çåä½ãåä½ä¸º***â gâ*** (gb) ã***â mâ***ï¼mbï¼ã***â kâ***ï¼kbï¼ã\n\nä¸¾ä¸ªæ å­ð°ï¼å¦ææä»¬è¦ä¸ºjvmåéæå°2 gbåæå¤§5 gbçå åå­å¤§å°ï¼æä»¬çåæ°åºè¯¥è¿æ ·æ¥åï¼\n\n-xms2g -xmx5g\n\n\n# æ¾å¼æ°çä»£åå­(young generation)\n\næ ¹æ®oracleå®æ¹ææ¡£open in new windowï¼å¨å æ»å¯ç¨åå­éç½®å®æä¹åï¼ç¬¬äºå¤§å½±åå ç´ æ¯ä¸º young generation å¨å åå­æå çæ¯ä¾ãé»è®¤æåµä¸ï¼yg çæå°å¤§å°ä¸º 1310 mbï¼æå¤§å¤§å°ä¸ºæ éå¶ã\n\nä¸å±æä¸¤ç§æå® æ°çä»£åå­(young ceneration)å¤§å°çæ¹æ³ï¼\n\n1.éè¿-xx:newsizeå-xx:maxnewsizeæå®\n\n-xx:newsize=&lt;young size>[unit] \n-xx:maxnewsize=&lt;young size>[unit]\n\n\nä¸¾ä¸ªæ å­ð°ï¼å¦ææä»¬è¦ä¸º æ°çä»£åé æå°256m çåå­ï¼æå¤§ 1024mçåå­æä»¬çåæ°åºè¯¥è¿æ ·æ¥åï¼\n\n-xx:newsize=256m\n-xx:maxnewsize=1024m\n\n\n2.éè¿-xmn<young size>[unit]æå®\n\nä¸¾ä¸ªæ å­ð°ï¼å¦ææä»¬è¦ä¸º æ°çä»£åé256mçåå­ï¼newsizeä¸maxnewsizeè®¾ä¸ºä¸è´ï¼ï¼æä»¬çåæ°åºè¯¥è¿æ ·æ¥åï¼\n\n-xmn256m \n\n\ngc è°ä¼ç­ç¥ä¸­å¾éè¦çä¸æ¡ç»éªæ»ç»æ¯è¿æ ·è¯´çï¼\n\n> å°æ°å¯¹è±¡é¢çå¨æ°çä»£ï¼ç±äº full gc çææ¬è¿é«äº minor gcï¼å æ­¤å°½å¯è½å°å¯¹è±¡åéå¨æ°çä»£æ¯ææºçåæ³ï¼å®éé¡¹ç®ä¸­æ ¹æ® gc æ¥å¿åææ°çä»£ç©ºé´å¤§å°åéæ¯å¦åçï¼éå½éè¿â-xmnâå½ä»¤è°èæ°çä»£å¤§å°ï¼æå¤§éåº¦éä½æ°å¯¹è±¡ç´æ¥è¿å¥èå¹´ä»£çæåµã\n\nå¦å¤ï¼ä½ è¿å¯ä»¥éè¿**-xx:newratio=<int>**æ¥è®¾ç½®æ°çä»£åèå¹´ä»£åå­çæ¯å¼ã\n\næ¯å¦ä¸é¢çåæ°å°±æ¯è®¾ç½®æ°çä»£ï¼åæ¬edenåä¸¤ä¸ªsurvivoråºï¼ä¸èå¹´ä»£çæ¯å¼ä¸º1ãä¹å°±æ¯è¯´ï¼æ°çä»£ä¸èå¹´ä»£æå æ¯å¼ä¸º1ï¼1ï¼æ°çä»£å æ´ä¸ªå æ ç 1/2ã\n\n-xx:newratio=1\n\n\n# æ¾å¼æå®æ°¸ä¹ä»£/åç©ºé´çå¤§å°\n\nä»java 8å¼å§ï¼å¦ææä»¬æ²¡ææå® metaspace çå¤§å°ï¼éçæ´å¤ç±»çåå»ºï¼èææºä¼èå°½ææå¯ç¨çç³»ç»åå­ï¼æ°¸ä¹ä»£å¹¶ä¸ä¼åºç°è¿ç§æåµï¼ã\n\njdk 1.8 ä¹åæ°¸ä¹ä»£è¿æ²¡è¢«å½»åºç§»é¤çæ¶åéå¸¸éè¿ä¸é¢è¿äºåæ°æ¥è°èæ¹æ³åºå¤§å°\n\n-xx:permsize=n //æ¹æ³åº (æ°¸ä¹ä»£) åå§å¤§å°\n-xx:maxpermsize=n //æ¹æ³åº (æ°¸ä¹ä»£) æå¤§å¤§å°,è¶è¿è¿ä¸ªå¼å°ä¼æåº outofmemoryerror å¼å¸¸:java.lang.outofmemoryerror: permgen\n\n\nç¸å¯¹èè¨ï¼åå¾æ¶éè¡ä¸ºå¨è¿ä¸ªåºåæ¯æ¯è¾å°åºç°çï¼ä½å¹¶éæ°æ®è¿å¥æ¹æ³åºåå°±âæ°¸ä¹å­å¨âäºã\n\njdk 1.8 çæ¶åï¼æ¹æ³åºï¼hotspot çæ°¸ä¹ä»£ï¼è¢«å½»åºç§»é¤äºï¼jdk1.7 å°±å·²ç»å¼å§äºï¼ï¼åèä»£ä¹æ¯åç©ºé´ï¼åç©ºé´ä½¿ç¨çæ¯æ¬å°åå­ã\n\nä¸é¢æ¯ä¸äºå¸¸ç¨åæ°ï¼\n\n-xx:metaspacesize=n //è®¾ç½® metaspace çåå§ï¼åæå°å¤§å°ï¼\n-xx:maxmetaspacesize=n //è®¾ç½® metaspace çæå¤§å¤§å°ï¼å¦æä¸æå®å¤§å°çè¯ï¼éçæ´å¤ç±»çåå»ºï¼èææºä¼èå°½ææå¯ç¨çç³»ç»åå­ã\n\n\n\n# 6.2 åå¾æ¶éç¸å³\n\n# åå¾åæ¶å¨\n\njvmå·æåç§ç±»åçgcå®ç°ï¼\n\n * ä¸²è¡åå¾æ¶éå¨\n * å¹¶è¡åå¾æ¶éå¨\n * cmsåå¾æ¶éå¨\n * g1åå¾æ¶éå¨\n\nå¯ä»¥ä½¿ç¨ä»¥ä¸åæ°å£°æè¿äºå®ç°ï¼\n\n-xx:+useserialgc\n-xx:+useparallelgc\n-xx:+useparnewgc\n-xx:+useg1gc\n\n\n# gcè®°å½\n\nä¸ºäºä¸¥æ ¼çæ§åºç¨ç¨åºçè¿è¡ç¶åµï¼æä»¬åºè¯¥å§ç»æ£æ¥jvmçåå¾åæ¶æ§è½ãæç®åçæ¹æ³æ¯ä»¥äººç±»å¯è¯»çæ ¼å¼è®°å½gcæ´»å¨ã\n\nä½¿ç¨ä»¥ä¸åæ°ï¼æä»¬å¯ä»¥è®°å½gcæ´»å¨ï¼\n\n-xx:+usegclogfilerotation \n-xx:numberofgclogfiles=&lt; number of log files > \n-xx:gclogfilesize=&lt; file size >[ unit ]\n-xloggc:/path/to/gc.log\n\n\n\n# 7 é¢è¯é®é¢\n\n 1.  è¿è¡æ¶æ°æ®åºä¸­åå«åªäºåºåï¼åªäºçº¿ç¨å±äº«ï¼åªäºçº¿ç¨ç¬äº«ï¼ãâ­â­â­â­â­ã\n 2.  è¯´ä¸ä¸æ¹æ³åºåæ°¸ä¹ä»£çå³ç³»ããâ­â­â­ã\n 3.  è®²ä¸ä¸ java åå»ºä¸ä¸ªå¯¹è±¡çè¿ç¨ããâ­â­â­â­ã\n 4.  å¯¹è±¡çè®¿é®å®ä½çä¸¤ç§æ¹å¼ï¼å¥æåç´æ¥æéä¸¤ç§æ¹å¼ï¼ããâ­â­â­â­â­ã\n 5.  ä½ äºè§£åä»£çè®ºåï¼è®²ä¸ä¸ minor gcãè¿æ full gcããâ­â­â­â­â­ã\n 6.  java ç¨ä»ä¹æ¹æ³ç¡®å®åªäºå¯¹è±¡è¯¥è¢«æ¸çï¼ è®²ä¸ä¸å¯è¾¾æ§åæç®æ³çæµç¨ããâ­â­â­â­ã\n 7.  jdk ä¸­æå ç§å¼ç¨ç±»åï¼åå«çç¹ç¹æ¯ä»ä¹ï¼ãâ­â­ã\n 8.  å¦ä½åæ¶æ¹æ³åºï¼ãâ­â­â­ã\n 9.  æ è®°æ¸æ¥ãæ è®°å¤å¶ãæ è®°æ´çåå«æ¯ææ ·æ¸çåå¾çï¼åæä»ä¹ä¼ç¼ºç¹ï¼ãâ­â­â­â­â­ã\n 10. jvm ä¸­çå®å¨ç¹åå®å¨åºåä»£è¡¨ä»ä¹ï¼åå±éä½ äºè§£åï¼ãâ­â­â­â­ã\n 11. å¹¶åæ è®°è¦è§£å³ä»ä¹é®é¢ï¼å¹¶åæ è®°å¸¦æ¥äºä»ä¹é®é¢ï¼å¦ä½è§£å³å¹¶åæ«ææ¶å¯¹è±¡æ¶å¤±é®é¢ï¼ãâ­â­â­â­ãç¸å³éè¯»ï¼é¢è¯å®:ä½ è¯´ä½ çæ jvm?é£ä½ è®²ä¸ä¸å¹¶åçå¯è¾¾æ§åæ ã\n 12. å¯¹äº jvm çåå¾æ¶éå¨ä½ æä»ä¹äºè§£çï¼ãâ­â­â­â­ãææ¶åé¢è¯å®ä¼é®åºè¿ç§ååå¼æ¾æ§çé®é¢ï¼ä½ éè¦èå­éè¿ä¸ä¸ä½ å¯¹è¿ä¸ªå¤§é®é¢ä¸çåªäºç¥è¯çæåªäºä¸çæï¼ä¸çæçç¹ä¸ä¸å°±è¿ï¼çæçå±å¼è®²ãå¨åå¤æ ¡ææ¶ï¼æçä¸ä¸ªæ¯é¿é p7 çå­¦å§ï¼ç»æåè¿ä¸æ¬¡æ¨¡æé¢è¯ï¼é®åºè¿ä¸ªé®é¢æ¶è®©ææç¹æµï¼é£ä¹å¤ä¸è¥¿æä¸ç¥éä»åªå¼å§åç­åï¼å°±ç­å¾å¾åä¹±ãæ¨¡æé¢è¯å®æé®å¥¹è¿ç§é®é¢åºè¯¥ä»åªå¼å§åç­ï¼ å¥¹è¯´å¥¹å ä¸ºä¸ç¥éæçææ¡æåµï¼æä»¥å°±åé®ä¸ä¸ªå¤§é®é¢ï¼æ ¹æ®æçåç­åè¿½é®ï¼ä»¥åéå°è¿ç§é®é¢ä¸»è¦ä»èªå·±çæå¾æ¹é¢åå¥å°±å¯ä»¥äºãåæ¥çé¢è¯è¿çéå°è¿å¥½å æ¬¡è¿ç§æåµï¼æå°±ç­ï¼åå¾æ¶éå¨çç§ç±»æä»¥ä¸å ç§ serialï¼parnew...ç°å¨ç¨çå¤çè¿æ¯ cms å g1ï¼cms çåå¾æ¶éæµç¨æ¯ xxxï¼g1 çåå¾æ¶éæµç¨æ¯ xxxï¼ä»ä»¬ç¹ç¹æ¯...å°±è¿æ ·æè¯é¢å¼å° cms å g1 äºï¼åª cms å g1 è¿é¨ååé¢è¯å®è®¨è®ºåå åéå®å¨æ²¡é®é¢ã\n 13. æ°çä»£åå¾æ¶éå¨æåªäºï¼èå¹´ä»£åå¾æ¶éå¨æåªäºï¼åªäºæ¯åçº¿ç¨åå¾æ¶éå¨ï¼åªäºæ¯å¤çº¿ç¨åå¾æ¶éå¨ï¼åæä»ä¹ç¹ç¹ï¼ååºäºåªä¸ç§åå¾æ¶éç®æ³ï¼ãâ­â­â­â­ã\n 14. è®²ä¸ä¸ cms åå¾æ¶éå¨çåä¸ªæ­¥éª¤ãcms æä»ä¹ç¼ºç¹ï¼ãâ­â­â­â­ã\n 15. g1 åå¾æ¶éå¨çæ­¥éª¤ãæä»ä¹ç¼ºç¹ï¼ãâ­â­â­â­ã\n 16. è®²ä¸ä¸åå­åéç­ç¥ï¼ãâ­â­â­â­ã\n 17. èææºåºç¡æéå¤çå·¥å·æåªäºï¼ãâ­â­â­ã\n 18. ä»ä¹æ¯å­èç ï¼ç±»æä»¶ç»æçç»æäºè§£åï¼ãâ­â­â­â­ã\n 19. ç±»ççå½å¨æï¼ç±»å è½½çè¿ç¨äºè§£ä¹ï¼å è½½è¿ä¸æ­¥ä¸»è¦åäºä»ä¹äºæï¼åå§åé¶æ®µä¸­åªå ç§æåµå¿é¡»å¯¹ç±»åå§åï¼ãâ­â­â­â­â­ã\n 20. è®²ä¸ä¸åäº²å§æ´¾æ¨¡åããâ­â­â­â­â­ã',charsets:{cjk:!0},lastUpdated:"2022/04/10, 11:44:52",lastUpdatedTimestamp:1649562292e3},{title:"MySQL",frontmatter:{title:"MySQL",date:"2022-04-10T11:39:05.000Z",permalink:"/pages/a99400/"},regularPath:"/01.%E5%9F%BA%E7%A1%80/03.%E6%95%B0%E6%8D%AE%E5%BA%93/01.MySQL.html",relativePath:"01.åºç¡/03.æ°æ®åº/01.MySQL.md",key:"v-404c9778",path:"/pages/a99400/",headers:[{level:2,title:"1 åºæ¬æ¦è¿°",slug:"_1-åºæ¬æ¦è¿°",normalizedTitle:"1 åºæ¬æ¦è¿°",charIndex:2},{level:3,title:"1.1 ç¸å³æ¦å¿µ",slug:"_1-1-ç¸å³æ¦å¿µ",normalizedTitle:"1.1 ç¸å³æ¦å¿µ",charIndex:52},{level:2,title:"2 SQLè¯­å¥",slug:"_2-sqlè¯­å¥",normalizedTitle:"2 sqlè¯­å¥",charIndex:155},{level:3,title:"2.1 æ°æ®æä½è¯­è¨",slug:"_2-1-æ°æ®æä½è¯­è¨",normalizedTitle:"2.1 æ°æ®æä½è¯­è¨",charIndex:278},{level:3,title:"2.2 æ°æ®å®ä¹è¯­è¨",slug:"_2-2-æ°æ®å®ä¹è¯­è¨",normalizedTitle:"2.2 æ°æ®å®ä¹è¯­è¨",charIndex:541},{level:3,title:"2.3 æ°æ®æ¥è¯¢è¯­è¨",slug:"_2-3-æ°æ®æ¥è¯¢è¯­è¨",normalizedTitle:"2.3 æ°æ®æ¥è¯¢è¯­è¨",charIndex:714},{level:4,title:"2.3.1 ç®åæ¥è¯¢",slug:"_2-3-1-ç®åæ¥è¯¢",normalizedTitle:"2.3.1 ç®åæ¥è¯¢",charIndex:830},{level:4,title:"2.3.2 è¿ç®ç¬¦æä½",slug:"_2-3-2-è¿ç®ç¬¦æä½",normalizedTitle:"2.3.2 è¿ç®ç¬¦æä½",charIndex:1102},{level:4,title:"2.3.3 æåºæ¥è¯¢ order by",slug:"_2-3-3-æåºæ¥è¯¢-order-by",normalizedTitle:"2.3.3 æåºæ¥è¯¢ order by",charIndex:1523},{level:4,title:"2.3.4 èåæ¥è¯¢",slug:"_2-3-4-èåæ¥è¯¢",normalizedTitle:"2.3.4 èåæ¥è¯¢",charIndex:1755},{level:4,title:"2.3.5 åç»æ¥è¯¢ group by",slug:"_2-3-5-åç»æ¥è¯¢-group-by",normalizedTitle:"2.3.5 åç»æ¥è¯¢ group by",charIndex:1834},{level:4,title:"2.3.6 åé¡µæ¾ç¤º limit",slug:"_2-3-6-åé¡µæ¾ç¤º-limit",normalizedTitle:"2.3.6 åé¡µæ¾ç¤º limit",charIndex:1930},{level:4,title:"2.3.7 SQLè¯­å¥çæ§è¡é¡ºåº",slug:"_2-3-7-sqlè¯­å¥çæ§è¡é¡ºåº",normalizedTitle:"2.3.7 sqlè¯­å¥çæ§è¡é¡ºåº",charIndex:2085},{level:3,title:"2.4 æ°æ®æ§å¶è¯­è¨",slug:"_2-4-æ°æ®æ§å¶è¯­è¨",normalizedTitle:"2.4 æ°æ®æ§å¶è¯­è¨",charIndex:2189},{level:4,title:"2.4.1 åå»ºç¨æ·",slug:"_2-4-1-åå»ºç¨æ·",normalizedTitle:"2.4.1 åå»ºç¨æ·",charIndex:2331},{level:4,title:"2.4.2 èµäºç¨æ·å¯¹æ°æ®åºçæé",slug:"_2-4-2-èµäºç¨æ·å¯¹æ°æ®åºçæé",normalizedTitle:"2.4.2 èµäºç¨æ·å¯¹æ°æ®åºçæé",charIndex:2443},{level:4,title:"2.4.3 å·æ°æéè¡¨",slug:"_2-4-3-å·æ°æéè¡¨",normalizedTitle:"2.4.3 å·æ°æéè¡¨",charIndex:2641},{level:4,title:"2.4.5 æ¶åæé",slug:"_2-4-5-æ¶åæé",normalizedTitle:"2.4.5 æ¶åæé",charIndex:2676},{level:3,title:"2.4 äºå¡æ§å¶è¯­è¨",slug:"_2-4-äºå¡æ§å¶è¯­è¨",normalizedTitle:"2.4 äºå¡æ§å¶è¯­è¨",charIndex:2699},{level:2,title:"3 çº¦æ",slug:"_3-çº¦æ",normalizedTitle:"3 çº¦æ",charIndex:2714},{level:3,title:"3.1 ä¸»é®çº¦æ",slug:"_3-1-ä¸»é®çº¦æ",normalizedTitle:"3.1 ä¸»é®çº¦æ",charIndex:2723},{level:3,title:"3.2 å¯ä¸çº¦æ",slug:"_3-2-å¯ä¸çº¦æ",normalizedTitle:"3.2 å¯ä¸çº¦æ",charIndex:3030},{level:3,title:"3.3 NULL çº¦æ",slug:"_3-3-null-çº¦æ",normalizedTitle:"3.3 null çº¦æ",charIndex:3065},{level:3,title:"3.4  DEFAULT çº¦æ",slug:"_3-4-default-çº¦æ",normalizedTitle:"3.4  default çº¦æ",charIndex:null},{level:3,title:"3.5 èªå¢é¿çº¦æ",slug:"_3-5-èªå¢é¿çº¦æ",normalizedTitle:"3.5 èªå¢é¿çº¦æ",charIndex:3267},{level:3,title:"3.6 å¤é®çº¦æ",slug:"_3-6-å¤é®çº¦æ",normalizedTitle:"3.6 å¤é®çº¦æ",charIndex:3416},{level:2,title:"4 ä¸å¤§èå¼",slug:"_4-ä¸å¤§èå¼",normalizedTitle:"4 ä¸å¤§èå¼",charIndex:3480},{level:2,title:"5 è§å¾",slug:"_5-è§å¾",normalizedTitle:"5 è§å¾",charIndex:4653},{level:3,title:"5.1 åå»ºè§å¾",slug:"_5-1-åå»ºè§å¾",normalizedTitle:"5.1 åå»ºè§å¾",charIndex:4926},{level:3,title:"5.2 æ¥çè§å¾",slug:"_5-2-æ¥çè§å¾",normalizedTitle:"5.2 æ¥çè§å¾",charIndex:4966},{level:3,title:"5.3 æ´æ°è§å¾æ°æ®ä¸è§å¾çå é¤",slug:"_5-3-æ´æ°è§å¾æ°æ®ä¸è§å¾çå é¤",normalizedTitle:"5.3 æ´æ°è§å¾æ°æ®ä¸è§å¾çå é¤",charIndex:4979},{level:2,title:"6 å­å¨è¿ç¨ä¸å­å¨å½æ°",slug:"_6-å­å¨è¿ç¨ä¸å­å¨å½æ°",normalizedTitle:"6 å­å¨è¿ç¨ä¸å­å¨å½æ°",charIndex:5e3},{level:3,title:"6.1 å­å¨è¿ç¨",slug:"_6-1-å­å¨è¿ç¨",normalizedTitle:"6.1 å­å¨è¿ç¨",charIndex:5035},{level:3,title:"6.2 å­å¨å½æ°",slug:"_6-2-å­å¨å½æ°",normalizedTitle:"6.2 å­å¨å½æ°",charIndex:5149},{level:2,title:"7 è§¦åå¨ï¼äºä»¶ï¼",slug:"_7-è§¦åå¨-äºä»¶",normalizedTitle:"7 è§¦åå¨ï¼äºä»¶ï¼",charIndex:5162},{level:2,title:"8 SQLçæ§è¡æµç¨",slug:"_8-sqlçæ§è¡æµç¨",normalizedTitle:"8 sqlçæ§è¡æµç¨",charIndex:5176},{level:3,title:"8.1 å­å¨å¼æ",slug:"_8-1-å­å¨å¼æ",normalizedTitle:"8.1 å­å¨å¼æ",charIndex:5411},{level:4,title:"éæºå¶",slug:"éæºå¶",normalizedTitle:"éæºå¶",charIndex:5679},{level:4,title:"éç®æ³",slug:"éç®æ³",normalizedTitle:"éç®æ³",charIndex:6182},{level:4,title:"ç¼å²æ± ",slug:"ç¼å²æ± ",normalizedTitle:"ç¼å²æ± ",charIndex:5567},{level:4,title:"Undo æ¥å¿",slug:"undo-æ¥å¿",normalizedTitle:"undo æ¥å¿",charIndex:6392},{level:4,title:"redo æ¥å¿",slug:"redo-æ¥å¿",normalizedTitle:"redo æ¥å¿",charIndex:6448},{level:4,title:"å°æ­¤ä¸ºæ­¢ï¼ä»==æ§è¡å¨å¼å§è°ç¨å­å¨å¼æ==æ¥å£åäºåªäºäºæå¢ï¼",slug:"å°æ­¤ä¸ºæ­¢-ä»-æ§è¡å¨å¼å§è°ç¨å­å¨å¼æ-æ¥å£åäºåªäºäºæå¢",normalizedTitle:"å°æ­¤ä¸ºæ­¢ï¼ä»==æ§è¡å¨å¼å§è°ç¨å­å¨å¼æ==æ¥å£åäºåªäºäºæå¢ï¼",charIndex:6532},{level:4,title:"bin log æ¥å¿æä»¶",slug:"bin-log-æ¥å¿æä»¶",normalizedTitle:"bin log æ¥å¿æä»¶",charIndex:6968},{level:2,title:"9 äºå¡",slug:"_9-äºå¡",normalizedTitle:"9 äºå¡",charIndex:7031},{level:3,title:"9.1 äºå¡çç¹æ§",slug:"_9-1-äºå¡çç¹æ§",normalizedTitle:"9.1 äºå¡çç¹æ§",charIndex:7040},{level:3,title:"9.2 æ°æ®äºå¡çå®ç°åç",slug:"_9-2-æ°æ®äºå¡çå®ç°åç",normalizedTitle:"9.2 æ°æ®äºå¡çå®ç°åç",charIndex:7329},{level:3,title:"9.3 å¹¶åäºå¡å¸¦æ¥çé®é¢",slug:"_9-3-å¹¶åäºå¡å¸¦æ¥çé®é¢",normalizedTitle:"9.3 å¹¶åäºå¡å¸¦æ¥çé®é¢",charIndex:7557},{level:3,title:"9.4 äºå¡çéç¦»çº§å«",slug:"_9-4-äºå¡çéç¦»çº§å«",normalizedTitle:"9.4 äºå¡çéç¦»çº§å«",charIndex:8361},{level:2,title:"10 ç´¢å¼",slug:"_10-ç´¢å¼",normalizedTitle:"10 ç´¢å¼",charIndex:9191},{level:3,title:"10.1 ä¼ç¼ºç¹",slug:"_10-1-ä¼ç¼ºç¹",normalizedTitle:"10.1 ä¼ç¼ºç¹",charIndex:9355},{level:3,title:"10.2 ç´¢å¼çåºå±æ°æ®ç»æ",slug:"_10-2-ç´¢å¼çåºå±æ°æ®ç»æ",normalizedTitle:"10.2 ç´¢å¼çåºå±æ°æ®ç»æ",charIndex:9564},{level:5,title:"Hashè¡¨ & B+æ ",slug:"hashè¡¨-b-æ ",normalizedTitle:"hashè¡¨ &amp; b+æ ",charIndex:null},{level:5,title:"B æ & B+æ ",slug:"b-æ -b-æ ",normalizedTitle:"b æ &amp; b+æ ",charIndex:null},{level:3,title:"10.3 ç´¢å¼ç±»å",slug:"_10-3-ç´¢å¼ç±»å",normalizedTitle:"10.3 ç´¢å¼ç±»å",charIndex:10480},{level:5,title:"ä¸»é®ç´¢å¼(Primary Key)",slug:"ä¸»é®ç´¢å¼-primary-key",normalizedTitle:"ä¸»é®ç´¢å¼(primary key)",charIndex:10493},{level:5,title:"äºçº§ç´¢å¼(è¾å©ç´¢å¼)",slug:"äºçº§ç´¢å¼-è¾å©ç´¢å¼",normalizedTitle:"äºçº§ç´¢å¼(è¾å©ç´¢å¼)",charIndex:10678},{level:5,title:"èéç´¢å¼ä¸éèéç´¢å¼",slug:"èéç´¢å¼ä¸éèéç´¢å¼",normalizedTitle:"èéç´¢å¼ä¸éèéç´¢å¼",charIndex:11160},{level:6,title:"èéç´¢å¼",slug:"èéç´¢å¼",normalizedTitle:"èéç´¢å¼",charIndex:11160},{level:6,title:"èéç´¢å¼çä¼ç¹",slug:"èéç´¢å¼çä¼ç¹",normalizedTitle:"èéç´¢å¼çä¼ç¹",charIndex:11315},{level:6,title:"èéç´¢å¼çç¼ºç¹",slug:"èéç´¢å¼çç¼ºç¹",normalizedTitle:"èéç´¢å¼çç¼ºç¹",charIndex:11393},{level:6,title:"éèéç´¢å¼",slug:"éèéç´¢å¼",normalizedTitle:"éèéç´¢å¼",charIndex:11165},{level:6,title:"éèéç´¢å¼çä¼ç¹",slug:"éèéç´¢å¼çä¼ç¹",normalizedTitle:"éèéç´¢å¼çä¼ç¹",charIndex:11652},{level:6,title:"éèéç´¢å¼çç¼ºç¹",slug:"éèéç´¢å¼çç¼ºç¹",normalizedTitle:"éèéç´¢å¼çç¼ºç¹",charIndex:11718},{level:3,title:"10.4 åå»ºç´¢å¼çæ³¨æäºé¡¹",slug:"_10-4-åå»ºç´¢å¼çæ³¨æäºé¡¹",normalizedTitle:"10.4 åå»ºç´¢å¼çæ³¨æäºé¡¹",charIndex:11833},{level:2,title:"11 InnoDBçéæºå¶åMVCC",slug:"_11-innodbçéæºå¶åmvcc",normalizedTitle:"11 innodbçéæºå¶åmvcc",charIndex:12716},{level:3,title:"11.1 MVCC",slug:"_11-1-mvcc",normalizedTitle:"11.1 mvcc",charIndex:12739}],headersStr:"1 åºæ¬æ¦è¿° 1.1 ç¸å³æ¦å¿µ 2 SQLè¯­å¥ 2.1 æ°æ®æä½è¯­è¨ 2.2 æ°æ®å®ä¹è¯­è¨ 2.3 æ°æ®æ¥è¯¢è¯­è¨ 2.3.1 ç®åæ¥è¯¢ 2.3.2 è¿ç®ç¬¦æä½ 2.3.3 æåºæ¥è¯¢ order by 2.3.4 èåæ¥è¯¢ 2.3.5 åç»æ¥è¯¢ group by 2.3.6 åé¡µæ¾ç¤º limit 2.3.7 SQLè¯­å¥çæ§è¡é¡ºåº 2.4 æ°æ®æ§å¶è¯­è¨ 2.4.1 åå»ºç¨æ· 2.4.2 èµäºç¨æ·å¯¹æ°æ®åºçæé 2.4.3 å·æ°æéè¡¨ 2.4.5 æ¶åæé 2.4 äºå¡æ§å¶è¯­è¨ 3 çº¦æ 3.1 ä¸»é®çº¦æ 3.2 å¯ä¸çº¦æ 3.3 NULL çº¦æ 3.4  DEFAULT çº¦æ 3.5 èªå¢é¿çº¦æ 3.6 å¤é®çº¦æ 4 ä¸å¤§èå¼ 5 è§å¾ 5.1 åå»ºè§å¾ 5.2 æ¥çè§å¾ 5.3 æ´æ°è§å¾æ°æ®ä¸è§å¾çå é¤ 6 å­å¨è¿ç¨ä¸å­å¨å½æ° 6.1 å­å¨è¿ç¨ 6.2 å­å¨å½æ° 7 è§¦åå¨ï¼äºä»¶ï¼ 8 SQLçæ§è¡æµç¨ 8.1 å­å¨å¼æ éæºå¶ éç®æ³ ç¼å²æ±  Undo æ¥å¿ redo æ¥å¿ å°æ­¤ä¸ºæ­¢ï¼ä»==æ§è¡å¨å¼å§è°ç¨å­å¨å¼æ==æ¥å£åäºåªäºäºæå¢ï¼ bin log æ¥å¿æä»¶ 9 äºå¡ 9.1 äºå¡çç¹æ§ 9.2 æ°æ®äºå¡çå®ç°åç 9.3 å¹¶åäºå¡å¸¦æ¥çé®é¢ 9.4 äºå¡çéç¦»çº§å« 10 ç´¢å¼ 10.1 ä¼ç¼ºç¹ 10.2 ç´¢å¼çåºå±æ°æ®ç»æ Hashè¡¨ & B+æ  B æ & B+æ  10.3 ç´¢å¼ç±»å ä¸»é®ç´¢å¼(Primary Key) äºçº§ç´¢å¼(è¾å©ç´¢å¼) èéç´¢å¼ä¸éèéç´¢å¼ èéç´¢å¼ èéç´¢å¼çä¼ç¹ èéç´¢å¼çç¼ºç¹ éèéç´¢å¼ éèéç´¢å¼çä¼ç¹ éèéç´¢å¼çç¼ºç¹ 10.4 åå»ºç´¢å¼çæ³¨æäºé¡¹ 11 InnoDBçéæºå¶åMVCC 11.1 MVCC",content:"# 1 åºæ¬æ¦è¿°\n\nMySQL æ¯ä¸ç§å³ç³»åæ°æ®åºï¼ä¸»è¦ç¨äºæä¹åå­å¨æä»¬çç³»ç»ä¸­çä¸äºæ°æ®ã\n\n\n# 1.1 ç¸å³æ¦å¿µ\n\nDBï¼DataBaseï¼ï¼å­å¨æ°æ®çâä»åºâï¼å¨æ¬è´¨æ¯ä¸ä¸ªæä»¶ç³»ç»ã\n\nDBMSï¼DataBase Management Systemï¼ï¼æ¯ä¸ç§ç¨äºæä½åç®¡çæ°æ®åºçå¤§åè½¯ä»¶ã\n\n\n# 2 SQLè¯­å¥\n\nç»æåæ¥è¯¢è¯­è¨ï¼å¯==ä»¥æ»ç»ä¸ºå¯¹æ°æ®åºãè¡¨ãè¡¨ä¸­çæ°æ®ãç´¢å¼ç­çå¢å æ¹æ¥ã==\n\n-- æ¥çå·²æçæ°æ®åº\n\tSHOW DATABASES [ LIKE 'PATTERN']ï¼\n\t\n-- ä½¿ç¨æ°æ®åº\n\tUSE åºåï¼\t\n\n\n\n# 2.1 æ°æ®æä½è¯­è¨\n\nDMLï¼Data Manipulation Languageï¼ï¼ä¸»è¦ç¨äºå¯¹æ°æ®åºå¯¹è±¡ä¸­åå«çæ°æ®è¿è¡æä½ã\n\n * insert åæ°æ®åºä¸­æå¥ä¸æ¡æ°æ®\n * delete å é¤è¡¨ä¸­çä¸æ¡æèå¤æ¡è®°å½\n * update ä¿®æ¹è¡¨ä¸­çæ°æ®\n\n-- å¯¹è¡¨ä¸­æ°æ®çå¢å æ¹\nINSERT INTO è¡¨(åå,....) VALUES (å¼,...);\n\nDELETE FROM è¡¨ WHERE æ¡ä»¶;\n\tTRUNCATE è¡¨; --è¿æ¯æ¸ç©ºæ´ä¸ªè¡¨\n\nUPDATE è¡¨å SET å­æ®µå=å¼,...;\n\n\n\n# 2.2 æ°æ®å®ä¹è¯­è¨\n\nDDLï¼Data Definition Languageï¼ï¼ä¸»è¦ç¨äºç»´æ¤å­å¨æ°æ®çç»æï¼è¿ç§ç»æåæ¬æ°æ®åºï¼è¡¨ãè§å¾ãç´¢å¼ãåä¹è¯ãèç°ç­ã\n\n * create åå»ºæ°æ®åºåæ°æ®åºçä¸äºå¯¹è±¡ã\n * drop å é¤æ°æ®åº/è¡¨ãç´¢å¼ãæ¡ä»¶çº¦æä»¥åæ°æ®è¡¨çæéç­ã\n * alter ä¿®æ¹æ°æ®åºè¡¨çå®ä¹åæ°æ®å±æ§ã\n\n\n# 2.3 æ°æ®æ¥è¯¢è¯­è¨\n\nDQL ï¼Data Query Languageï¼ ï¼ä¸»è¦ç¨äºæ¥è¯¢æ°æ®åºå½ä¸­çæ°æ®ã\n\n * selete æ¥è¯¢è¡¨ä¸­çæ°æ®\n\n * from æ¥è¯¢åªå¼ è¡¨ãè§å¾\n\n * where çº¦ææ¡ä»¶\n   \n   # 2.3.1 ç®åæ¥è¯¢\n   \n   -- 1ãæ¥è¯¢å¨è¡¨ã\n   \tSELECT * FROM è¡¨å;\n   -- 2ãæå®å­æ®µæ¥è¯¢\n   \tSELECT å­æ®µ1,å­æ®µ2,...FROM è¡¨å;\n   -- 3ãå«åæ¥è¯¢\n   \tSELECT å­æ®µå AS 'å«å',...FROM è¡¨å AS 'è¡¨å«å';\n   -- 4ãå»éæ¥è¯¢\n   \t-- å»é¤éå¤çè¡\n   \tSELECT DISTINCT * FROM è¡¨å;\n   \t-- å»é¤éå¤çå\n   \tSELECT DISTINCT å­æ®µå FROM è¡¨å;\n   \n   \n   # 2.3.2 è¿ç®ç¬¦æä½\n   \n   -- 1ã+ - * / ç®æ¯è¿ç®ç¬¦\n   \tselect price * 1.1 from product;\n   -- 2ã> >= < <= != æ¯è¾è¿ç®ç¬¦\n   \t-- æ¥è¯¢ä»·æ ¼ä¸º800åå\n   \tselect * from product where price = 800;\n   -- 3ã&& || é»è¾è¿ç®ç¬¦\n   \t-- æ¥è¯¢ååä»·æ ¼æ¯200æ800çææåå\n   \tselect * from product where price in(200,800);\n   \tselect * from product where price = 200 or price = 800;\n   \tselect * from product where price = 200 || price = 800;\n   -- 4ã& ^ << >> ~ ä½è¿ç®ç¬¦\n   \n   \n   # 2.3.3 æåºæ¥è¯¢ order by\n   \n   -- 1ãååºæå,é»è®¤ååº ASC\n   \tSELECT * FROM product ORDER BY price [ASC];\n   -- 2ãéåºæå\n   \tSELECT * FROM product ORDER BY price DESC;\n   \tSELECT * FROM product ORDER BY price DESC, category_id DESC;\n   \n   \n   # 2.3.4 èåæ¥è¯¢\n   \n   -- æ null å¼ï¼ä¸ä¼è¿è¡ç»è®¡ã\n   -- countãsumãmaxãminãavg\n   \n   \n   # 2.3.5 åç»æ¥è¯¢ group by\n   \n   -- åç»å¯ä»¥çè§£å°ä¸å¼ è¡¨æåæå¤å¼ è¡¨ï¼æåçä¾æ®å°±æ¯åç»å­æ®µã\n   -- åç»åçæ¡ä»¶ç­éç¨ HAVING\n   \n   \n   # 2.3.6 åé¡µæ¾ç¤º limit\n   \n   -- 1ãæ¥è¯¢ product è¡¨çå5æ¡è®°å½\n   \tSELECT * FROM product LIMIT 5;\n   -- 1ãä»ç¬¬4æ¡å¼å§æ¾ç¤ºï¼æ¾ç¤º5æ¡\n   \tSELECT * FROM product LIMIT 3,5;\n   \n   \n   # 2.3.7 SQLè¯­å¥çæ§è¡é¡ºåº\n   \n   FROM -> WHERE -> GROUP BY -> COUNT -> HAVING -> SELECT -> ORDER BY -> LIMIT\n\n\n# 2.4 æ°æ®æ§å¶è¯­è¨\n\nDCLï¼Data Control Languageï¼ï¼ä¸»è¦æ§å¶æ°æ®åºå¯¹è±¡çæéç®¡çãäºå¡åå®æ¶çè§ã\n\n * grantåéæéç»ç¨æ·\n * revokeåºé¤æ°æ®åºä¸­æç¨æ·çæé\n * rollback éåå°æä¸ç¹ (åæ»ï¼\n * commit æäº¤\n\n# 2.4.1 åå»ºç¨æ·\n\nCREATE USER 'username'@'%' IDENTIFIED BY 'password';\n\n\n% è¡¨ç¤ºææç host é½å¯ä»¥è¿æ¥ï¼éå¸¸ä¸ºäºå®å¨ï¼è®¾ç½®ä¸ºä½ åè®¸è¿æ¥çä¸»æº ipã\n\n# 2.4.2 èµäºç¨æ·å¯¹æ°æ®åºçæé\n\nGRANT ALL PRIVILEGES ON æ°æ®åº.* TO 'username'@'%';\n\n\nGRANT CREATE, ALTER, DROP, INSERT, UPDATE, DELETE, SELECT, REFERENCES, RELOAD on . TO 'sammy'@'localhost' WITH GRANT OPTION;\n\n# 2.4.3 å·æ°æéè¡¨\n\nFLUSH PRIVILEGES;\n\n\n# 2.4.5 æ¶åæé\n\nREVOKE\n\n\n# 2.4 äºå¡æ§å¶è¯­è¨\n\n\n# 3 çº¦æ\n\n\n# 3.1 ä¸»é®çº¦æ\n\nè½å¯ä¸æ è¯è®°å½çå­æ®µï¼å¯ä»¥ä½ä¸ºä¸»é®ã\n\n>  * ä¸ä¸ªè¡¨åªè½æä¸ä¸ªä¸»é®ã\n>  * ä¸»é®å·æå¯ä¸æ§ã\n>  * å£°æå­æ®µæ¶ï¼ç¨ primary key æ è¯ãä¹å¯ä»¥å¨å­æ®µåè¡¨ä¹åå£°æ ä¾ï¼create table tab ( id int, stu varchar(10), primary key (id));\n>  * ä¸»é®å­æ®µçå¼ä¸è½ä¸ºnullã\n>  * ä¸»é®å¯ä»¥ç±å¤ä¸ªå­æ®µå±åç»æãæ­¤æ¶éè¦å¨å­æ®µåè¡¨åå£°æçæ¹æ³ã ä¾ï¼create table tab ( id int, stu varchar(10), age int, primary key (stu, age));\n\n\n# 3.2 å¯ä¸çº¦æ\n\nUNIQUE ä½¿å¾æå­æ®µçå¼ä¹ä¸è½éå¤ã\n\n\n# 3.3 NULL çº¦æ\n\nnullä¸æ¯æ°æ®ç±»åï¼æ¯åçä¸ä¸ªå±æ§ãè¡¨ç¤ºå½ååæ¯å¦å¯ä»¥ä¸ºnullï¼è¡¨ç¤ºä»ä¹é½æ²¡æã\n\n> null, åè®¸ä¸ºç©ºãé»è®¤ã not null, ä¸åè®¸ä¸ºç©ºã insert into tab values (null, 'val'); -- æ­¤æ¶è¡¨ç¤ºå°ç¬¬ä¸ä¸ªå­æ®µçå¼è®¾ä¸ºnull, åå³äºè¯¥å­æ®µæ¯å¦åè®¸ä¸ºnull\n\n\n# 3.4 DEFAULT çº¦æ\n\nå½åå­æ®µçé»è®¤å¼ã\n\n\n# 3.5 èªå¢é¿çº¦æ\n\nAUTO_INCREMENT\n\n> èªå¨å¢é¿å¿é¡»ä¸ºç´¢å¼ï¼ä¸»é®æuniqueï¼ åªè½å­å¨ä¸ä¸ªå­æ®µä¸ºèªå¨å¢é¿ã é»è®¤ä¸º1å¼å§èªå¨å¢é¿ãå¯ä»¥éè¿è¡¨å±æ§ auto_increment = xè¿è¡è®¾ç½®ï¼æ alter table tbl auto_increment = x;\n\n\n# 3.6 å¤é®çº¦æ\n\nç¨äºéå¶ä¸»è¡¨ä¸ä»è¡¨æ°æ®å®æ´æ§ãå­å¨å¤é®çè¡¨ï¼ç§°ä¹ä¸ºä»è¡¨ï¼å­è¡¨ï¼ï¼å¤é®æåçè¡¨ï¼ç§°ä¹ä¸ºä¸»è¡¨ï¼ç¶è¡¨ï¼ã\n\n\n# 4 ä¸å¤§èå¼\n\n1NF(ç¬¬ä¸èå¼)\n\nå±æ§ï¼å¯¹åºäºè¡¨ä¸­çå­æ®µï¼ä¸è½åè¢«åå²ï¼ä¹å°±æ¯è¿ä¸ªå­æ®µåªè½æ¯ä¸ä¸ªå¼ï¼ä¸è½ååä¸ºå¤ä¸ªå¶ä»çå­æ®µäºã1NF æ¯ææå³ç³»åæ°æ®åºçæåºæ¬è¦æ± ï¼ä¹å°±æ¯è¯´å³ç³»åæ°æ®åºä¸­åå»ºçè¡¨ä¸å®æ»¡è¶³ç¬¬ä¸èå¼ã\n\n2NF(ç¬¬äºèå¼)\n\n2NF å¨ 1NF çåºç¡ä¹ä¸ï¼æ¶é¤äºéä¸»å±æ§å¯¹äºç çé¨åå½æ°ä¾èµãå¦ä¸å¾æç¤ºï¼å±ç¤ºäºç¬¬ä¸èå¼å°ç¬¬äºèå¼çè¿æ¸¡ãç¬¬äºèå¼å¨ç¬¬ä¸èå¼çåºç¡ä¸å¢å äºä¸ä¸ªåï¼è¿ä¸ªåç§°ä¸ºä¸»é®ï¼éä¸»å±æ§é½ä¾èµäºä¸»é®ã\n\nä¸äºéè¦çæ¦å¿µï¼\n\n * å½æ°ä¾èµï¼functional dependencyï¼ ï¼è¥å¨ä¸å¼ è¡¨ä¸­ï¼å¨å±æ§ï¼æå±æ§ç»ï¼X çå¼ç¡®å®çæåµä¸ï¼å¿å®è½ç¡®å®å±æ§ Y çå¼ï¼é£ä¹å°±å¯ä»¥è¯´ Y å½æ°ä¾èµäº Xï¼åä½ X â Yã\n * é¨åå½æ°ä¾èµï¼partial functional dependencyï¼ ï¼å¦æ XâYï¼å¹¶ä¸å­å¨ X çä¸ä¸ªçå­é X0ï¼ä½¿å¾ X0âYï¼åç§° Y å¯¹ X é¨åå½æ°ä¾èµãæ¯å¦å­¦çåºæ¬ä¿¡æ¯è¡¨ R ä¸­ï¼å­¦å·ï¼èº«ä»½è¯å·ï¼å§åï¼å½ç¶å­¦å·å±æ§åå¼æ¯å¯ä¸çï¼å¨ R å³ç³»ä¸­ï¼ï¼å­¦å·ï¼èº«ä»½è¯å·ï¼->ï¼å§åï¼ï¼ï¼å­¦å·ï¼->ï¼å§åï¼ï¼ï¼èº«ä»½è¯å·ï¼->ï¼å§åï¼ï¼æä»¥å§åé¨åå½æ°ä¾èµä¸ï¼å­¦å·ï¼èº«ä»½è¯å·ï¼ï¼\n * å®å¨å½æ°ä¾èµ(Full functional dependency) ï¼å¨ä¸ä¸ªå³ç³»ä¸­ï¼è¥æä¸ªéä¸»å±æ§æ°æ®é¡¹ä¾èµäºå¨é¨å³é®å­ç§°ä¹ä¸ºå®å¨å½æ°ä¾èµãæ¯å¦å­¦çåºæ¬ä¿¡æ¯è¡¨ Rï¼å­¦å·ï¼ç­çº§ï¼å§åï¼åè®¾ä¸åçç­çº§å­¦å·æç¸åçï¼ç­çº§åå­¦å·ä¸è½ç¸åï¼å¨ R å³ç³»ä¸­ï¼ï¼å­¦å·ï¼ç­çº§ï¼->ï¼å§åï¼ï¼ä½æ¯ï¼å­¦å·ï¼->(å§å)ä¸æç«ï¼ï¼ç­çº§ï¼->(å§å)ä¸æç«ï¼æä»¥å§åå®å¨å½æ°ä¾èµä¸ï¼å­¦å·ï¼ç­çº§ï¼ï¼\n * ä¼ éå½æ°ä¾èµ ï¼ å¨å³ç³»æ¨¡å¼ R(U)ä¸­ï¼è®¾ Xï¼Yï¼Z æ¯ U çä¸åçå±æ§å­éï¼å¦æ X ç¡®å® YãY ç¡®å® Zï¼ä¸æ X ä¸åå« Yï¼Y ä¸ç¡®å® Xï¼ï¼XâªYï¼â©Z=ç©ºéåï¼åç§° Z ä¼ éå½æ°ä¾èµ(transitive functional dependency) äº Xãä¼ éå½æ°ä¾èµä¼å¯¼è´æ°æ®åä½åå¼å¸¸ãä¼ éå½æ°ä¾èµç Y å Z å­éå¾å¾åå±äºæä¸ä¸ªäºç©ï¼å æ­¤å¯å°å¶åå¹¶æ¾å°ä¸ä¸ªè¡¨ä¸­ãæ¯å¦å¨å³ç³» R(å­¦å· , å§å, ç³»åï¼ç³»ä¸»ä»»)ä¸­ï¼å­¦å· â ç³»åï¼ç³»å â ç³»ä¸»ä»»ï¼æä»¥å­å¨éä¸»å±æ§ç³»ä¸»ä»»å¯¹äºå­¦å·çä¼ éå½æ°ä¾èµãã\n\n3NF(ç¬¬ä¸èå¼)\n\n3NF å¨ 2NF çåºç¡ä¹ä¸ï¼æ¶é¤äºéä¸»å±æ§å¯¹äºç çä¼ éå½æ°ä¾èµ ãç¬¦å 3NF è¦æ±çæ°æ®åºè®¾è®¡ï¼åºæ¬ä¸è§£å³äºæ°æ®åä½è¿å¤§ï¼æå¥å¼å¸¸ï¼ä¿®æ¹å¼å¸¸ï¼å é¤å¼å¸¸çé®é¢ãæ¯å¦å¨å³ç³» R(å­¦å· , å§å, ç³»åï¼ç³»ä¸»ä»»)ä¸­ï¼å­¦å· â ç³»åï¼ç³»å â ç³»ä¸»ä»»ï¼æä»¥å­å¨éä¸»å±æ§ç³»ä¸»ä»»å¯¹äºå­¦å·çä¼ éå½æ°ä¾èµï¼æä»¥è¯¥è¡¨çè®¾è®¡ï¼ä¸ç¬¦å 3NF çè¦æ±ã\n\n\n# 5 è§å¾\n\nè§å¾æ¯ä¸ä¸ª==èæè¡¨==ï¼æ¬èº«å¹¶ä¸æ¥ææ°æ®ï¼å ç¨å¾å°çåå­ãè§å¾åºäºå·²æçè¡¨ã\n\n * è§å¾çåå»ºåå é¤åªä¼å½±åè§å¾æ¬èº«ï¼ä¸å½±åå¯¹åºçåºè¡¨ãä½æ¯å½å¯¹è§å¾ä¸­çæ°æ®è¿è¡å¢å ãå é¤åä¿®æ¹çæä½æ¶ï¼æ°æ®è¡¨ä¸­çæ°æ®ä¼ç¸åºçåçååï¼åä¹äº¦ç¶ã\n * åè§å¾æä¾çæ°æ®åå®¹è¯­å¥ä¸º SELECT è¯­å¥æ¶ï¼å¯ä»¥å°è§å¾çè§£ä¸ºå­å¨èµ·æ¥ç SELECT è¯­å¥ã\n * è§å¾ï¼æ¯åç¨æ·æä¾åºè¡¨æ°æ®çå¦ä¸ç§è¡¨ç°å½¢å¼ãå¨å¤§åé¡¹ç®ä¸­ï¼ä»¥åæ°æ®è¡¨æ¯è¾å¤æçæåµä¸ï¼è§å¾çä»·å¼å°±å¸æ¾åºæ¥äºï¼ä»==å¯ä»¥å¸®å©æä»¬æç»å¸¸æ¥è¯¢çç»æéæ¾å°èæè¡¨ä¸­ï¼æåä½¿ç¨æçã==\n\n\n# 5.1 åå»ºè§å¾\n\n * å¨ CREATE VIEW è¯­å¥ä¸­åµå¥å­æ¥è¯¢\n\n\n# 5.2 æ¥çè§å¾\n\n\n# 5.3 æ´æ°è§å¾æ°æ®ä¸è§å¾çå é¤\n\n\n# 6 å­å¨è¿ç¨ä¸å­å¨å½æ°\n\nå¯ä»¥å°å¤æçSQLé»è¾å°è£å°ä¸èµ·ã\n\n\n# 6.1 å­å¨è¿ç¨\n\næ¯ä¸ç»ç»è¿é¢åç¼è¯çSQLè¯­å¥çå°è£ãæ§è¡è¿ç¨ï¼å­å¨è¿ç¨é¢åå­å¨å¨MySQLæå¡å¨ä¸ï¼éè¦æ§è¡æ¶ï¼å®¢æ·ç«¯åªéè¦åæå¡å¨ååºè°ç¨å­å¨è¿ç¨çå½ä»¤ï¼æå¡å¨ç«¯å°±å¯ä»¥æé¢åå­å¨å¥½çè¿ä¸ç³»åSQLè¯­å¥å¨é¨æ§è¡ã\n\n\n# 6.2 å­å¨å½æ°\n\n\n# 7 è§¦åå¨ï¼äºä»¶ï¼\n\n\n# 8 SQLçæ§è¡æµç¨\n\n\n\nJava ç³»ç»å¨éè¿ MySQL é©±å¨å MySQL æ°æ®åºè¿æ¥çæ¶åæ¯åºäº TCP/IP åè®®çï¼æ¯ä¸ªè¯·æ±é½æ¯æ°å»ºè¿æ¥åéæ¯è¿æ¥ï¼è¿æ ·å¿å¿ä¼é æä¸å¿è¦çæµªè´¹åæ§è½çä¸éãéè¿==æ°æ®åºè¿æ¥æ± ==æä¾ä¸äºåºå®çç¨æ¥è¿æ¥ççº¿ç¨ï¼é¿åè¿æ¥çé¢ç¹åå»ºåéæ¯ã\n\nçº¿ç¨è·å SQL è¯­å¥ -> äº¤ç» SQLæ¥å£å¤ç -> SQLè§£æå¨å¤çSQLè¯­å¥ -> è§£æè¿çSQLè¯­å¥ç±æ¥è¯¢ä¼åå¨æ¥ä¼å -> æ§è¡å¨è°ç¨å­å¨å¼æçæ¥å£å»å®æSQLæ§è¡\n\n\n# 8.1 å­å¨å¼æ\n\nInnoDBï¼äºå¡åæ°æ®åºçé¦éï¼æ¯æACIDï¼æ¯æè¡éï¼è¡¨éï¼å¤é®ã\n\nMylSAMï¼åºäºISAMçå­å¨å¼æï¼MyISAM æ¥æè¾é«çæå¥ãæ¥è¯¢éåº¦ï¼ä½ä¸æ¯æäºå¡ï¼åªæ¯æè¡¨éã\n\nMEMORYï¼å°è¡¨ä¸­çæ°æ®å­å¨å°åå­ä¸­ï¼ä¸ºæ¥è¯¢åå¼ç¨å¶ä»æ°æ®æä¾å¿«éè®¿é®ã\n\nInnoDBä¸­çä¸ä¸ªéè¦çç»ä»¶ï¼ç¼å²æ±  Buffer Pool\n\n * MySQL InnoDB å¼æä½¿ç¨ redo log(éåæ¥å¿) ä¿è¯äºå¡çæä¹æ§ï¼ä½¿ç¨ undo log(åæ»æ¥å¿) æ¥ä¿è¯äºå¡çåå­æ§ã\n * MySQL InnoDB å¼æéè¿ éæºå¶ãMVCC ç­ææ®µæ¥ä¿è¯äºå¡çéç¦»æ§ï¼ é»è®¤æ¯æçéç¦»çº§å«æ¯ REPEATABLE-READ ï¼ãMVCC å¯ä»¥çä½æ¯è¡çº§éçä¸ä¸ªåçº§ï¼å¯ä»¥ææåå°å éæä½ï¼æä¾æ§è½ã\n * ä¿è¯äºäºå¡çæä¹æ§ãåå­æ§ãéç¦»æ§ä¹åï¼ä¸è´æ§æè½å¾å°ä¿éã\n\n# éæºå¶\n\nInnoDB è¡éçå®ç°æ¹å¼\n\n**InnoDBè¡éæ¯éè¿ç»ç´¢å¼ä¸çç´¢å¼é¡¹å éæ¥å®ç°çï¼**è¿ä¸ç¹MySQLä¸Oracleä¸åï¼åèæ¯éè¿å¨æ°æ®åä¸­å¯¹ç¸åºæ°æ®è¡å éæ¥å®ç°çãInnoDBè¿ç§è¡éå®ç°ç¹ç¹æå³çï¼åªæéè¿ç´¢å¼æ¡ä»¶æ£ç´¢æ°æ®ï¼InnoDBæä½¿ç¨è¡çº§éï¼å¦åï¼InnoDBå°ä½¿ç¨è¡¨éï¼\n\nè¡¨çº§éåè¡çº§éå¯¹æ¯ï¼\n\n * è¡¨çº§éï¼ MySQL ä¸­éå® ç²åº¦æå¤§ çä¸ç§éï¼å¯¹å½åæä½çæ´å¼ è¡¨å éï¼å®ç°ç®åï¼èµæºæ¶èä¹æ¯è¾å°ï¼å éå¿«ï¼ä¸ä¼åºç°æ­»éãå¶éå®ç²åº¦æå¤§ï¼è§¦åéå²çªçæ¦çæé«ï¼å¹¶ååº¦æä½ï¼MyISAM å InnoDB å¼æé½æ¯æè¡¨çº§éã\n * è¡çº§éï¼ MySQL ä¸­éå® ç²åº¦æå° çä¸ç§éï¼åªéå¯¹å½åæä½çè¡è¿è¡å éã è¡çº§éè½å¤§å¤§åå°æ°æ®åºæä½çå²çªãå¶å éç²åº¦æå°ï¼å¹¶ååº¦é«ï¼ä½å éçå¼éä¹æå¤§ï¼å éæ¢ï¼ä¼åºç°æ­»éã\n\n# éç®æ³\n\n * Record lockï¼è®°å½éï¼åä¸ªè¡è®°å½ä¸çé\n * Gap lockï¼é´ééï¼éå®ä¸ä¸ªèå´ï¼ä¸åæ¬è®°å½æ¬èº«\n * Next-key lockï¼record+gap ä¸´é®éï¼éå®ä¸ä¸ªèå´ï¼åå«è®°å½æ¬èº«\n\n# ç¼å²æ± \n\nç¬¬ä¸æ¬¡æ¥è¯¢çæ¶åä¼å°æ¥è¯¢çç»æå­å° Buffer Pool ä¸­ï¼è¿æ ·åé¢åæè¯·æ±çæ¶åï¼å°±ä¼åä»ç¼å²æ± ä¸­å»æ¥è¯¢ï¼å¦ææ²¡æåå»ç£çä¸­æ¥æ¾ï¼ç¶ååæ¾å° Buffer Pool ä¸­ã\n\n# Undo æ¥å¿\n\nå¨ä¸æ¡æ°æ®è¢«å è½½å° Buffer Pool ä¸­çåæ¶ä¼å¨ undoæ¥å¿ä¸­è®°å½æ´æ°åçå¼\n\n# redo æ¥å¿\n\nredo è®°å½çæ¯æ°æ®ä¿®æ¹ä¹åçå¼ï¼ä¸ç®¡äºå¡æ¯å¦æäº¤é½ä¼è®°å½ä¸æ¥ï¼ä¸è¬æåµä¸ï¼redo log Buffer æ°æ®åå¥ç£ççç­ç¥æ¯ç«å³å·å¥ç£ç\n\n# å°æ­¤ä¸ºæ­¢ï¼ä»==æ§è¡å¨å¼å§è°ç¨å­å¨å¼æ==æ¥å£åäºåªäºäºæå¢ï¼\n\n1.åå¤æ´æ°ä¸æ¡ SQL è¯­å¥\n\n2.MySQLï¼innodbï¼ä¼åå»ç¼å²æ± ï¼BufferPoolï¼ä¸­å»æ¥æ¾è¿æ¡æ°æ®ï¼æ²¡æ¾å°å°±ä¼å»ç£çä¸­æ¥æ¾ï¼å¦ææ¥æ¾å°å°±ä¼å°è¿æ¡æ°æ®å è½½å°ç¼å²æ± ï¼BufferPoolï¼ä¸­\n\n3.å¨å è½½å° Buffer Pool çåæ¶ï¼ä¼å°è¿æ¡æ°æ®çåå§è®°å½ä¿å­å° undo æ¥å¿æä»¶ä¸­\n\n4.innodb ä¼å¨ Buffer Pool ä¸­æ§è¡æ´æ°æä½\n\n5.æ´æ°åçæ°æ®ä¼è®°å½å¨ redo log buffer ä¸­\n\n6.MySQL æäº¤äºå¡çæ¶åï¼ä¼å° redo log buffer ä¸­çæ°æ®åå¥å° redo æ¥å¿æä»¶ä¸­ å·ç£çå¯ä»¥éè¿ innodb_flush_log_at_trx_commit åæ°æ¥è®¾ç½®\n\nå¼ä¸º 0 è¡¨ç¤ºä¸å·å¥ç£ç\n\nå¼ä¸º 1 è¡¨ç¤ºç«å³å·å¥ç£ç\n\nå¼ä¸º 2 è¡¨ç¤ºåå·å° os cache\n\n7.myslq éå¯çæ¶åä¼å° redo æ¥å¿æ¢å¤å°ç¼å²æ± ä¸­\n\n# bin log æ¥å¿æä»¶\n\nMySQLçº§å«çï¼ææçå­å¨å¼æé½å¯ä»¥ä½¿ç¨ï¼è®°å½æ´ä¸ªæä½è¿ç¨ãéç¨äºä¸»ä»å¤å¶åæ°æ®æ¢å¤ã\n\n\n# 9 äºå¡\n\n\n# 9.1 äºå¡çç¹æ§\n\nACIDï¼\n\n 1. åå­æ§ï¼Atomicityï¼ ï¼ äºå¡æ¯æå°çæ§è¡åä½ï¼ä¸åè®¸åå²ãäºå¡çåå­æ§ç¡®ä¿å¨ä½è¦ä¹å¨é¨å®æï¼è¦ä¹å®å¨ä¸èµ·ä½ç¨ï¼\n 2. ä¸è´æ§ï¼Consistencyï¼ï¼ æ§è¡äºå¡ååï¼æ°æ®ä¿æä¸è´ï¼ä¾å¦è½¬è´¦ä¸å¡ä¸­ï¼æ è®ºäºå¡æ¯å¦æåï¼è½¬è´¦èåæ¶æ¬¾äººçæ»é¢åºè¯¥æ¯ä¸åçï¼\n 3. éç¦»æ§ï¼Isolationï¼ï¼ å¹¶åè®¿é®æ°æ®åºæ¶ï¼ä¸ä¸ªç¨æ·çäºå¡ä¸è¢«å¶ä»äºå¡æå¹²æ°ï¼åå¹¶åäºå¡ä¹é´æ°æ®åºæ¯ç¬ç«çï¼\n 4. æä¹æ§ï¼Durabililyï¼ï¼ ä¸ä¸ªäºå¡è¢«æäº¤ä¹åãå®å¯¹æ°æ®åºä¸­æ°æ®çæ¹åæ¯æä¹çï¼å³ä½¿æ°æ®åºåçæéä¹ä¸åºè¯¥å¯¹å¶æä»»ä½å½±åã\n\n\n# 9.2 æ°æ®äºå¡çå®ç°åç\n\næä»¬è¿éä»¥ MySQL ç InnoDB å¼æä¸ºä¾æ¥ç®åè¯´ä¸ä¸ã\n\nMySQL InnoDB å¼æä½¿ç¨ redo log(éåæ¥å¿) ä¿è¯äºå¡çæä¹æ§ï¼ä½¿ç¨ undo log(åæ»æ¥å¿) æ¥ä¿è¯äºå¡çåå­æ§ã\n\nMySQL InnoDB å¼æéè¿ éæºå¶ãMVCC ç­ææ®µæ¥ä¿è¯äºå¡çéç¦»æ§ï¼ é»è®¤æ¯æçéç¦»çº§å«æ¯ REPEATABLE-READ ï¼ã\n\nä¿è¯äºäºå¡çæä¹æ§ãåå­æ§ãéç¦»æ§ä¹åï¼ä¸è´æ§æè½å¾å°ä¿éã\n\n\n# 9.3 å¹¶åäºå¡å¸¦æ¥çé®é¢\n\nå¨å¸åçåºç¨ç¨åºä¸­ï¼å¤ä¸ªäºå¡å¹¶åè¿è¡ï¼ç»å¸¸ä¼æä½ç¸åçæ°æ®æ¥å®æåèªçä»»å¡ï¼å¤ä¸ªç¨æ·å¯¹åä¸æ°æ®è¿è¡æä½ï¼ãå¹¶åè½ç¶æ¯å¿é¡»çï¼ä½å¯è½ä¼å¯¼è´ä»¥ä¸çé®é¢ã\n\n * èè¯»ï¼Dirty readï¼: å½ä¸ä¸ªäºå¡æ­£å¨è®¿é®æ°æ®å¹¶ä¸å¯¹æ°æ®è¿è¡äºä¿®æ¹ï¼èè¿ç§ä¿®æ¹è¿æ²¡ææäº¤å°æ°æ®åºä¸­ï¼è¿æ¶å¦å¤ä¸ä¸ªäºå¡ä¹è®¿é®äºè¿ä¸ªæ°æ®ï¼ç¶åä½¿ç¨äºè¿ä¸ªæ°æ®ãå ä¸ºè¿ä¸ªæ°æ®æ¯è¿æ²¡ææäº¤çæ°æ®ï¼é£ä¹å¦å¤ä¸ä¸ªäºå¡è¯»å°çè¿ä¸ªæ°æ®æ¯âèæ°æ®âï¼ä¾æ®âèæ°æ®âæåçæä½å¯è½æ¯ä¸æ­£ç¡®çã\n * ä¸¢å¤±ä¿®æ¹ï¼Lost to modifyï¼: æå¨ä¸ä¸ªäºå¡è¯»åä¸ä¸ªæ°æ®æ¶ï¼å¦å¤ä¸ä¸ªäºå¡ä¹è®¿é®äºè¯¥æ°æ®ï¼é£ä¹å¨ç¬¬ä¸ä¸ªäºå¡ä¸­ä¿®æ¹äºè¿ä¸ªæ°æ®åï¼ç¬¬äºä¸ªäºå¡ä¹ä¿®æ¹äºè¿ä¸ªæ°æ®ãè¿æ ·ç¬¬ä¸ä¸ªäºå¡åçä¿®æ¹ç»æå°±è¢«ä¸¢å¤±ï¼å æ­¤ç§°ä¸ºä¸¢å¤±ä¿®æ¹ã ä¾å¦ï¼äºå¡ 1 è¯»åæè¡¨ä¸­çæ°æ® A=20ï¼äºå¡ 2 ä¹è¯»å A=20ï¼äºå¡ 1 ä¿®æ¹ A=A-1ï¼äºå¡ 2 ä¹ä¿®æ¹ A=A-1ï¼æç»ç»æ A=19ï¼äºå¡ 1 çä¿®æ¹è¢«ä¸¢å¤±ã\n * ä¸å¯éå¤è¯»ï¼Unrepeatable readï¼: æå¨ä¸ä¸ªäºå¡åå¤æ¬¡è¯»åä¸æ°æ®ãå¨è¿ä¸ªäºå¡è¿æ²¡æç»ææ¶ï¼å¦ä¸ä¸ªäºå¡ä¹è®¿é®è¯¥æ°æ®ãé£ä¹ï¼å¨ç¬¬ä¸ä¸ªäºå¡ä¸­çä¸¤æ¬¡è¯»æ°æ®ä¹é´ï¼ç±äºç¬¬äºä¸ªäºå¡çä¿®æ¹å¯¼è´ç¬¬ä¸ä¸ªäºå¡ä¸¤æ¬¡è¯»åçæ°æ®å¯è½ä¸å¤ªä¸æ ·ãè¿å°±åçäºå¨ä¸ä¸ªäºå¡åä¸¤æ¬¡è¯»å°çæ°æ®æ¯ä¸ä¸æ ·çæåµï¼å æ­¤ç§°ä¸ºä¸å¯éå¤è¯»ã\n * å¹»è¯»ï¼Phantom readï¼: å¹»è¯»ä¸ä¸å¯éå¤è¯»ç±»ä¼¼ãå®åçå¨ä¸ä¸ªäºå¡ï¼T1ï¼è¯»åäºå è¡æ°æ®ï¼æ¥çå¦ä¸ä¸ªå¹¶åäºå¡ï¼T2ï¼æå¥äºä¸äºæ°æ®æ¶ãå¨éåçæ¥è¯¢ä¸­ï¼ç¬¬ä¸ä¸ªäºå¡ï¼T1ï¼å°±ä¼åç°å¤äºä¸äºåæ¬ä¸å­å¨çè®°å½ï¼å°±å¥½ååçäºå¹»è§ä¸æ ·ï¼æä»¥ç§°ä¸ºå¹»è¯»ã\n\nä¸å¯éå¤è¯»åå¹»è¯»åºå«ï¼\n\nä¸å¯éå¤è¯»çéç¹æ¯ä¿®æ¹æ¯å¦å¤æ¬¡è¯»åä¸æ¡è®°å½åç°å¶ä¸­æäºåçå¼è¢«ä¿®æ¹ï¼å¹»è¯»çéç¹å¨äºæ°å¢æèå é¤æ¯å¦å¤æ¬¡è¯»åä¸æ¡è®°å½åç°è®°å½å¢å¤æåå°äºã\n\n\n# 9.4 äºå¡çéç¦»çº§å«\n\nSQL æ åå®ä¹äºåä¸ªéç¦»çº§å«ï¼\n\n * READ-UNCOMMITTED(è¯»åæªæäº¤)ï¼ æä½çéç¦»çº§å«ï¼åè®¸è¯»åå°æªæäº¤çæ°æ®åæ´ï¼å¯è½ä¼å¯¼è´èè¯»ãå¹»è¯»æä¸å¯éå¤è¯»ã\n\n * READ-COMMITTED(è¯»åå·²æäº¤)ï¼ åè®¸è¯»åå¹¶åäºå¡å·²ç»æäº¤çæ°æ®ï¼å¯ä»¥é»æ­¢èè¯»ï¼ä½æ¯å¹»è¯»æä¸å¯éå¤è¯»ä»æå¯è½åçã\n\n * REPEATABLE-READ(å¯éå¤è¯»)ï¼ å¯¹åä¸å­æ®µçå¤æ¬¡è¯»åç»æé½æ¯ä¸è´çï¼é¤éæ°æ®æ¯è¢«æ¬èº«äºå¡èªå·±æä¿®æ¹ï¼å¯ä»¥é»æ­¢èè¯»åä¸å¯éå¤è¯»ï¼ä½å¹»è¯»ä»æå¯è½åçã\n\n * SERIALIZABLE(å¯ä¸²è¡å)ï¼ æé«çéç¦»çº§å«ï¼å®å¨æä» ACID çéç¦»çº§å«ãææçäºå¡ä¾æ¬¡éä¸ªæ§è¡ï¼è¿æ ·äºå¡ä¹é´å°±å®å¨ä¸å¯è½äº§çå¹²æ°ï¼ä¹å°±æ¯è¯´ï¼è¯¥çº§å«å¯ä»¥é²æ­¢èè¯»ãä¸å¯éå¤è¯»ä»¥åå¹»è¯»ã\n   \n   éç¦»çº§å«               èè¯»   ä¸å¯éå¤è¯»   å¹»è¯»\n   READ-UNCOMMITTED   â    â       â\n   READ-COMMITTED     Ã    â       â\n   REPEATABLE-READ    Ã    Ã       â\n   SERIALIZABLE       Ã    Ã       Ã\n   \n   MySQL InnoDB ç REPEATABLE-READï¼å¯éè¯»ï¼å¹¶ä¸ä¿è¯é¿åå¹»è¯»ï¼éè¦åºç¨ä½¿ç¨å éè¯»æ¥ä¿è¯ãèè¿ä¸ªå éåº¦ä½¿ç¨å°çæºå¶å°±æ¯ Next-Key Locksã\n   \n   å ä¸ºéç¦»çº§å«è¶ä½ï¼äºå¡è¯·æ±çéè¶å°ï¼æä»¥å¤§é¨åæ°æ®åºç³»ç»çéç¦»çº§å«é½æ¯ READ-COMMITTED(è¯»åæäº¤åå®¹) ï¼ä½æ¯ä½ è¦ç¥éçæ¯ InnoDB å­å¨å¼æé»è®¤ä½¿ç¨ REPEATABLE-READï¼å¯éè¯»ï¼ å¹¶ä¸ä¼æä»»ä½æ§è½æå¤±ã\n   \n   InnoDB å­å¨å¼æå¨ åå¸å¼äºå¡ çæåµä¸ä¸è¬ä¼ç¨å° SERIALIZABLE(å¯ä¸²è¡å) éç¦»çº§å«ã\n\n\n# 10 ç´¢å¼\n\nç´¢å¼æ¯ä¸ç§ç¨äºå¿«éæ¥è¯¢åæ£ç´¢æ°æ®çæ°æ®ç»æãå¸¸è§çç´¢å¼ç»ææ: B æ ï¼ B+æ å Hashã\n\nç´¢å¼çä½ç¨å°±ç¸å½äºç®å½çä½ç¨ãæä¸ªæ¯æ¹: æä»¬å¨æ¥å­å¸çæ¶åï¼å¦ææ²¡æç®å½ï¼é£æä»¬å°±åªè½ä¸é¡µä¸é¡µçå»æ¾æä»¬éè¦æ¥çé£ä¸ªå­ï¼éåº¦å¾æ¢ãå¦ææç®å½äºï¼æä»¬åªéè¦åå»ç®å½éæ¥æ¾å­çä½ç½®ï¼ç¶åç´æ¥ç¿»å°é£ä¸é¡µå°±è¡äºã\n\n\n# 10.1 ä¼ç¼ºç¹\n\nä¼ç¹ ï¼\n\n * ä½¿ç¨ç´¢å¼å¯ä»¥å¤§å¤§å å¿« æ°æ®çæ£ç´¢éåº¦ï¼å¤§å¤§åå°æ£ç´¢çæ°æ®éï¼, è¿ä¹æ¯åå»ºç´¢å¼çæä¸»è¦çåå ã\n * éè¿åå»ºå¯ä¸æ§ç´¢å¼ï¼å¯ä»¥ä¿è¯æ°æ®åºè¡¨ä¸­æ¯ä¸è¡æ°æ®çå¯ä¸æ§ã\n\nç¼ºç¹ ï¼\n\n * åå»ºç´¢å¼åç»´æ¤ç´¢å¼éè¦èè´¹è®¸å¤æ¶é´ãå½å¯¹è¡¨ä¸­çæ°æ®è¿è¡å¢å æ¹çæ¶åï¼å¦ææ°æ®æç´¢å¼ï¼é£ä¹ç´¢å¼ä¹éè¦å¨æçä¿®æ¹ï¼ä¼éä½ SQL æ§è¡æçã\n * ç´¢å¼éè¦ä½¿ç¨ç©çæä»¶å­å¨ï¼ä¹ä¼èè´¹ä¸å®ç©ºé´ã\n\n\n# 10.2 ç´¢å¼çåºå±æ°æ®ç»æ\n\n# Hashè¡¨ & B+æ \n\nåå¸è¡¨æ¯é®å¼å¯¹çéåï¼éè¿é®(key)å³å¯å¿«éååºå¯¹åºçå¼(value)ï¼å æ­¤åå¸è¡¨å¯ä»¥å¿«éæ£ç´¢æ°æ®ï¼æ¥è¿ Oï¼1ï¼ï¼ã\n\nä¸ºä½è½å¤éè¿ key å¿«éååº valueå¢ï¼ åå å¨äº åå¸ç®æ³ï¼ä¹å«æ£åç®æ³ï¼ãéè¿åå¸ç®æ³ï¼æä»¬å¯ä»¥å¿«éæ¾å° value å¯¹åºç indexï¼æ¾å°äº index ä¹å°±æ¾å°äºå¯¹åºç valueã\n\nä½æ¯ï¼åå¸ç®æ³æä¸ª Hash å²çª é®é¢ï¼ä¹å°±æ¯è¯´å¤ä¸ªä¸åç key æåå¾å°ç index ç¸åãéå¸¸æåµä¸ï¼æä»¬å¸¸ç¨çè§£å³åæ³æ¯ é¾å°åæ³ãé¾å°åæ³å°±æ¯å°åå¸å²çªæ°æ®å­æ¾å¨é¾è¡¨ä¸­ãå°±æ¯å¦ JDK1.8 ä¹å HashMap å°±æ¯éè¿é¾å°åæ³æ¥è§£å³åå¸å²çªçãä¸è¿ï¼JDK1.8 ä»¥åHashMapä¸ºäºåå°é¾è¡¨è¿é¿çæ¶åæç´¢æ¶é´è¿é¿å¼å¥äºçº¢é»æ ã\n\næ¢ç¶åå¸è¡¨è¿ä¹å¿«ï¼ä¸ºä»ä¹MySQL æ²¡æä½¿ç¨å¶ä½ä¸ºç´¢å¼çæ°æ®ç»æå¢ï¼\n\n1.Hash å²çªé®é¢ ï¼æä»¬ä¸é¢ä¹æå°è¿Hash å²çªäºï¼ä¸è¿å¯¹äºæ°æ®åºæ¥è¯´è¿è¿ä¸ç®æå¤§çç¼ºç¹ã\n\n2.Hash ç´¢å¼ä¸æ¯æé¡ºåºåèå´æ¥è¯¢(Hash ç´¢å¼ä¸æ¯æé¡ºåºåèå´æ¥è¯¢æ¯å®æå¤§çç¼ºç¹ï¼ åå¦æä»¬è¦å¯¹è¡¨ä¸­çæ°æ®è¿è¡æåºæèè¿è¡èå´æ¥è¯¢ï¼é£ Hash ç´¢å¼å¯å°±ä¸è¡äºã\n\n# B æ & B+æ \n\nB æ ä¹ç§° B-æ ,å¨ç§°ä¸º å¤è·¯å¹³è¡¡æ¥æ¾æ  ï¼B+ æ æ¯ B æ çä¸ç§åä½ãB æ å B+æ ä¸­ç B æ¯ Balanced ï¼å¹³è¡¡ï¼çææã\n\nç®åå¤§é¨åæ°æ®åºç³»ç»åæä»¶ç³»ç»é½éç¨ B-Tree æå¶åç§ B+Tree ä½ä¸ºç´¢å¼ç»æã\n\nB æ & B+æ ä¸¤èæä½å¼åå¢ï¼\n\n * B æ çææèç¹æ¢å­æ¾é®(key) ä¹å­æ¾ æ°æ®(data)ï¼è B+æ åªæå¶å­èç¹å­æ¾ key å dataï¼å¶ä»åèç¹åªå­æ¾ keyã\n * B æ çå¶å­èç¹é½æ¯ç¬ç«ç;B+æ çå¶å­èç¹æä¸æ¡å¼ç¨é¾æåä¸å®ç¸é»çå¶å­èç¹ã\n * B æ çæ£ç´¢çè¿ç¨ç¸å½äºå¯¹èå´åçæ¯ä¸ªèç¹çå³é®å­åäºåæ¥æ¾ï¼å¯è½è¿æ²¡æå°è¾¾å¶å­èç¹ï¼æ£ç´¢å°±ç»æäºãè B+æ çæ£ç´¢æçå°±å¾ç¨³å®äºï¼ä»»ä½æ¥æ¾é½æ¯ä»æ ¹èç¹å°å¶å­èç¹çè¿ç¨ï¼å¶å­èç¹çé¡ºåºæ£ç´¢å¾ææ¾ã\n\n\n# 10.3 ç´¢å¼ç±»å\n\n# ä¸»é®ç´¢å¼(Primary Key)\n\næ°æ®è¡¨çä¸»é®åä½¿ç¨çå°±æ¯ä¸»é®ç´¢å¼ã\n\nä¸å¼ æ°æ®è¡¨æåªè½æä¸ä¸ªä¸»é®ï¼å¹¶ä¸ä¸»é®ä¸è½ä¸º nullï¼ä¸è½éå¤ã\n\nå¨ MySQL ç InnoDB çè¡¨ä¸­ï¼å½æ²¡ææ¾ç¤ºçæå®è¡¨çä¸»é®æ¶ï¼InnoDB ä¼èªå¨åæ£æ¥è¡¨ä¸­æ¯å¦æå¯ä¸ç´¢å¼çå­æ®µï¼å¦ææï¼åéæ©è¯¥å­æ®µä¸ºé»è®¤çä¸»é®ï¼å¦å InnoDB å°ä¼èªå¨åå»ºä¸ä¸ª 6Byte çèªå¢ä¸»é®ã\n\n# äºçº§ç´¢å¼(è¾å©ç´¢å¼)\n\näºçº§ç´¢å¼åç§°ä¸ºè¾å©ç´¢å¼ï¼æ¯å ä¸ºäºçº§ç´¢å¼çå¶å­èç¹å­å¨çæ°æ®æ¯ä¸»é®ãä¹å°±æ¯è¯´ï¼éè¿äºçº§ç´¢å¼ï¼å¯ä»¥å®ä½ä¸»é®çä½ç½®ã\n\nå¯ä¸ç´¢å¼ï¼æ®éç´¢å¼ï¼åç¼ç´¢å¼ç­ç´¢å¼å±äºäºçº§ç´¢å¼ã\n\n 1. å¯ä¸ç´¢å¼(Unique Key) ï¼å¯ä¸ç´¢å¼ä¹æ¯ä¸ç§çº¦æãå¯ä¸ç´¢å¼çå±æ§åä¸è½åºç°éå¤çæ°æ®ï¼ä½æ¯åè®¸æ°æ®ä¸º NULLï¼ä¸å¼ è¡¨åè®¸åå»ºå¤ä¸ªå¯ä¸ç´¢å¼ã å»ºç«å¯ä¸ç´¢å¼çç®çå¤§é¨åæ¶åé½æ¯ä¸ºäºè¯¥å±æ§åçæ°æ®çå¯ä¸æ§ï¼èä¸æ¯ä¸ºäºæ¥è¯¢æçã\n 2. æ®éç´¢å¼(Index) ï¼æ®éç´¢å¼çå¯ä¸ä½ç¨å°±æ¯ä¸ºäºå¿«éæ¥è¯¢æ°æ®ï¼ä¸å¼ è¡¨åè®¸åå»ºå¤ä¸ªæ®éç´¢å¼ï¼å¹¶åè®¸æ°æ®éå¤å NULLã\n 3. åç¼ç´¢å¼(Prefix) ï¼åç¼ç´¢å¼åªéç¨äºå­ç¬¦ä¸²ç±»åçæ°æ®ãåç¼ç´¢å¼æ¯å¯¹ææ¬çåå ä¸ªå­ç¬¦åå»ºç´¢å¼ï¼ç¸æ¯æ®éç´¢å¼å»ºç«çæ°æ®æ´å°ï¼ å ä¸ºåªååå ä¸ªå­ç¬¦ã\n 4. å¨æç´¢å¼(Full Text) ï¼å¨æç´¢å¼ä¸»è¦æ¯ä¸ºäºæ£ç´¢å¤§ææ¬æ°æ®ä¸­çå³é®å­çä¿¡æ¯ï¼æ¯ç®åæç´¢å¼ææ°æ®åºä½¿ç¨çä¸ç§ææ¯ãMysql5.6 ä¹ååªæ MYISAM å¼ææ¯æå¨æç´¢å¼ï¼5.6 ä¹å InnoDB ä¹æ¯æäºå¨æç´¢å¼ã\n\n# èéç´¢å¼ä¸éèéç´¢å¼\n\n# èéç´¢å¼\n\nèéç´¢å¼å³ç´¢å¼ç»æåæ°æ®ä¸èµ·å­æ¾çç´¢å¼ãä¸»é®ç´¢å¼å±äºèéç´¢å¼ã\n\nå¨ Mysql ä¸­ï¼InnoDB å¼æçè¡¨ç .ibdæä»¶å°±åå«äºè¯¥è¡¨çç´¢å¼åæ°æ®ï¼å¯¹äº InnoDB å¼æè¡¨æ¥è¯´ï¼è¯¥è¡¨çç´¢å¼(B+æ )çæ¯ä¸ªéå¶å­èç¹å­å¨ç´¢å¼ï¼å¶å­èç¹å­å¨ç´¢å¼åç´¢å¼å¯¹åºçæ°æ®ã\n\n# èéç´¢å¼çä¼ç¹\n\nèéç´¢å¼çæ¥è¯¢éåº¦éå¸¸çå¿«ï¼å ä¸ºæ´ä¸ª B+æ æ¬èº«å°±æ¯ä¸é¢å¤åå¹³è¡¡æ ï¼å¶å­èç¹ä¹é½æ¯æåºçï¼å®ä½å°ç´¢å¼çèç¹ï¼å°±ç¸å½äºå®ä½å°äºæ°æ®ã\n\n# èéç´¢å¼çç¼ºç¹\n\n 1. ä¾èµäºæåºçæ°æ® ï¼å ä¸º B+æ æ¯å¤è·¯å¹³è¡¡æ ï¼å¦æç´¢å¼çæ°æ®ä¸æ¯æåºçï¼é£ä¹å°±éè¦å¨æå¥æ¶æåºï¼å¦ææ°æ®æ¯æ´åè¿å¥½ï¼å¦åç±»ä¼¼äºå­ç¬¦ä¸²æ UUID è¿ç§åé¿åé¾æ¯è¾çæ°æ®ï¼æå¥ææ¥æ¾çéåº¦è¯å®æ¯è¾æ¢ã\n 2. æ´æ°ä»£ä»·å¤§ ï¼ å¦æå¯¹ç´¢å¼åçæ°æ®è¢«ä¿®æ¹æ¶ï¼é£ä¹å¯¹åºçç´¢å¼ä¹å°ä¼è¢«ä¿®æ¹ï¼ èä¸åµèéç´¢å¼çå¶å­èç¹è¿å­æ¾çæ°æ®ï¼ä¿®æ¹ä»£ä»·è¯å®æ¯è¾å¤§çï¼ æä»¥å¯¹äºä¸»é®ç´¢å¼æ¥è¯´ï¼ä¸»é®ä¸è¬é½æ¯ä¸å¯è¢«ä¿®æ¹çã\n\n# éèéç´¢å¼\n\néèéç´¢å¼å³ç´¢å¼ç»æåæ°æ®åå¼å­æ¾çç´¢å¼ã\n\näºçº§ç´¢å¼å±äºéèéç´¢å¼ã\n\n# éèéç´¢å¼çä¼ç¹\n\næ´æ°ä»£ä»·æ¯èéç´¢å¼è¦å° ãéèéç´¢å¼çæ´æ°ä»£ä»·å°±æ²¡æèéç´¢å¼é£ä¹å¤§äºï¼éèéç´¢å¼çå¶å­èç¹æ¯ä¸å­æ¾æ°æ®ç\n\n# éèéç´¢å¼çç¼ºç¹\n\n 1. è·èéç´¢å¼ä¸æ ·ï¼éèéç´¢å¼ä¹ä¾èµäºæåºçæ°æ®\n 2. å¯è½ä¼äºæ¬¡æ¥è¯¢(åè¡¨) :è¿åºè¯¥æ¯éèéç´¢å¼æå¤§çç¼ºç¹äºã å½æ¥å°ç´¢å¼å¯¹åºçæéæä¸»é®åï¼å¯è½è¿éè¦æ ¹æ®æéæä¸»é®åå°æ°æ®æä»¶æè¡¨ä¸­æ¥è¯¢ã\n\n\n# 10.4 åå»ºç´¢å¼çæ³¨æäºé¡¹\n\n1.éæ©åéçå­æ®µåå»ºç´¢å¼ï¼\n\n * ä¸ä¸º NULL çå­æ®µ ï¼ç´¢å¼å­æ®µçæ°æ®åºè¯¥å°½éä¸ä¸º NULLï¼å ä¸ºå¯¹äºæ°æ®ä¸º NULL çå­æ®µï¼æ°æ®åºè¾é¾ä¼åãå¦æå­æ®µé¢ç¹è¢«æ¥è¯¢ï¼ä½åé¿åä¸äºä¸º NULLï¼å»ºè®®ä½¿ç¨ 0,1,true,false è¿æ ·è¯­ä¹è¾ä¸ºæ¸æ°çç­å¼æç­å­ç¬¦ä½ä¸ºæ¿ä»£ã\n * è¢«é¢ç¹æ¥è¯¢çå­æ®µ ï¼æä»¬åå»ºç´¢å¼çå­æ®µåºè¯¥æ¯æ¥è¯¢æä½éå¸¸é¢ç¹çå­æ®µã\n * è¢«ä½ä¸ºæ¡ä»¶æ¥è¯¢çå­æ®µ ï¼è¢«ä½ä¸º WHERE æ¡ä»¶æ¥è¯¢çå­æ®µï¼åºè¯¥è¢«èèå»ºç«ç´¢å¼ã\n * é¢ç¹éè¦æåºçå­æ®µ ï¼ç´¢å¼å·²ç»æåºï¼è¿æ ·æ¥è¯¢å¯ä»¥å©ç¨ç´¢å¼çæåºï¼å å¿«æåºæ¥è¯¢æ¶é´ã\n * è¢«ç»å¸¸é¢ç¹ç¨äºè¿æ¥çå­æ®µ ï¼ç»å¸¸ç¨äºè¿æ¥çå­æ®µå¯è½æ¯ä¸äºå¤é®åï¼å¯¹äºå¤é®åå¹¶ä¸ä¸å®è¦å»ºç«å¤é®ï¼åªæ¯è¯´è¯¥åæ¶åå°è¡¨ä¸è¡¨çå³ç³»ãå¯¹äºé¢ç¹è¢«è¿æ¥æ¥è¯¢çå­æ®µï¼å¯ä»¥èèå»ºç«ç´¢å¼ï¼æé«å¤è¡¨è¿æ¥æ¥è¯¢çæçã\n\n2.è¢«é¢ç¹æ´æ°çå­æ®µåºè¯¥æéå»ºç«ç´¢å¼ã\n\nè½ç¶ç´¢å¼è½å¸¦æ¥æ¥è¯¢ä¸çæçï¼ä½æ¯ç»´æ¤ç´¢å¼çææ¬ä¹æ¯ä¸å°çã å¦æä¸ä¸ªå­æ®µä¸è¢«ç»å¸¸æ¥è¯¢ï¼åèè¢«ç»å¸¸ä¿®æ¹ï¼é£ä¹å°±æ´ä¸åºè¯¥å¨è¿ç§å­æ®µä¸å»ºç«ç´¢å¼äºã\n\n3.å°½å¯è½çèèå»ºç«èåç´¢å¼èä¸æ¯ååç´¢å¼ã\n\nå ä¸ºç´¢å¼æ¯éè¦å ç¨ç£çç©ºé´çï¼å¯ä»¥ç®åçè§£ä¸ºæ¯ä¸ªç´¢å¼é½å¯¹åºçä¸é¢ B+æ ãå¦æä¸ä¸ªè¡¨çå­æ®µè¿å¤ï¼ç´¢å¼è¿å¤ï¼é£ä¹å½è¿ä¸ªè¡¨çæ°æ®è¾¾å°ä¸ä¸ªä½éåï¼ç´¢å¼å ç¨çç©ºé´ä¹æ¯å¾å¤çï¼ä¸ä¿®æ¹ç´¢å¼æ¶ï¼èè´¹çæ¶é´ä¹æ¯è¾å¤çãå¦ææ¯èåç´¢å¼ï¼å¤ä¸ªå­æ®µå¨ä¸ä¸ªç´¢å¼ä¸ï¼é£ä¹å°ä¼èçº¦å¾å¤§ç£çç©ºé´ï¼ä¸ä¿®æ¹æ°æ®çæä½æçä¹ä¼æåã\n\n4.æ³¨æé¿ååä½ç´¢å¼ ã\n\nåä½ç´¢å¼æçæ¯ç´¢å¼çåè½ç¸åï¼è½å¤å½ä¸­ç´¢å¼(a, b)å°±è¯å®è½å½ä¸­ç´¢å¼(a) ï¼é£ä¹ç´¢å¼(a)å°±æ¯åä½ç´¢å¼ãå¦ï¼name,city ï¼åï¼name ï¼è¿ä¸¤ä¸ªç´¢å¼å°±æ¯åä½ç´¢å¼ï¼è½å¤å½ä¸­åèçæ¥è¯¢è¯å®æ¯è½å¤å½ä¸­åèç å¨å¤§å¤æ°æåµä¸ï¼é½åºè¯¥å°½éæ©å±å·²æçç´¢å¼èä¸æ¯åå»ºæ°ç´¢å¼ã\n\n5.èèå¨å­ç¬¦ä¸²ç±»åçå­æ®µä¸ä½¿ç¨åç¼ç´¢å¼ä»£æ¿æ®éç´¢å¼ã\n\nåç¼ç´¢å¼ä»éäºå­ç¬¦ä¸²ç±»åï¼è¾æ®éç´¢å¼ä¼å ç¨æ´å°çç©ºé´ï¼æä»¥å¯ä»¥èèä½¿ç¨åç¼ç´¢å¼å¸¦æ¿æ®éç´¢å¼ã\n\n\n# 11 InnoDBçéæºå¶åMVCC\n\n\n# 11.1 MVCC",normalizedContent:"# 1 åºæ¬æ¦è¿°\n\nmysql æ¯ä¸ç§å³ç³»åæ°æ®åºï¼ä¸»è¦ç¨äºæä¹åå­å¨æä»¬çç³»ç»ä¸­çä¸äºæ°æ®ã\n\n\n# 1.1 ç¸å³æ¦å¿µ\n\ndbï¼databaseï¼ï¼å­å¨æ°æ®çâä»åºâï¼å¨æ¬è´¨æ¯ä¸ä¸ªæä»¶ç³»ç»ã\n\ndbmsï¼database management systemï¼ï¼æ¯ä¸ç§ç¨äºæä½åç®¡çæ°æ®åºçå¤§åè½¯ä»¶ã\n\n\n# 2 sqlè¯­å¥\n\nç»æåæ¥è¯¢è¯­è¨ï¼å¯==ä»¥æ»ç»ä¸ºå¯¹æ°æ®åºãè¡¨ãè¡¨ä¸­çæ°æ®ãç´¢å¼ç­çå¢å æ¹æ¥ã==\n\n-- æ¥çå·²æçæ°æ®åº\n\tshow databases [ like 'pattern']ï¼\n\t\n-- ä½¿ç¨æ°æ®åº\n\tuse åºåï¼\t\n\n\n\n# 2.1 æ°æ®æä½è¯­è¨\n\ndmlï¼data manipulation languageï¼ï¼ä¸»è¦ç¨äºå¯¹æ°æ®åºå¯¹è±¡ä¸­åå«çæ°æ®è¿è¡æä½ã\n\n * insert åæ°æ®åºä¸­æå¥ä¸æ¡æ°æ®\n * delete å é¤è¡¨ä¸­çä¸æ¡æèå¤æ¡è®°å½\n * update ä¿®æ¹è¡¨ä¸­çæ°æ®\n\n-- å¯¹è¡¨ä¸­æ°æ®çå¢å æ¹\ninsert into è¡¨(åå,....) values (å¼,...);\n\ndelete from è¡¨ where æ¡ä»¶;\n\ttruncate è¡¨; --è¿æ¯æ¸ç©ºæ´ä¸ªè¡¨\n\nupdate è¡¨å set å­æ®µå=å¼,...;\n\n\n\n# 2.2 æ°æ®å®ä¹è¯­è¨\n\nddlï¼data definition languageï¼ï¼ä¸»è¦ç¨äºç»´æ¤å­å¨æ°æ®çç»æï¼è¿ç§ç»æåæ¬æ°æ®åºï¼è¡¨ãè§å¾ãç´¢å¼ãåä¹è¯ãèç°ç­ã\n\n * create åå»ºæ°æ®åºåæ°æ®åºçä¸äºå¯¹è±¡ã\n * drop å é¤æ°æ®åº/è¡¨ãç´¢å¼ãæ¡ä»¶çº¦æä»¥åæ°æ®è¡¨çæéç­ã\n * alter ä¿®æ¹æ°æ®åºè¡¨çå®ä¹åæ°æ®å±æ§ã\n\n\n# 2.3 æ°æ®æ¥è¯¢è¯­è¨\n\ndql ï¼data query languageï¼ ï¼ä¸»è¦ç¨äºæ¥è¯¢æ°æ®åºå½ä¸­çæ°æ®ã\n\n * selete æ¥è¯¢è¡¨ä¸­çæ°æ®\n\n * from æ¥è¯¢åªå¼ è¡¨ãè§å¾\n\n * where çº¦ææ¡ä»¶\n   \n   # 2.3.1 ç®åæ¥è¯¢\n   \n   -- 1ãæ¥è¯¢å¨è¡¨ã\n   \tselect * from è¡¨å;\n   -- 2ãæå®å­æ®µæ¥è¯¢\n   \tselect å­æ®µ1,å­æ®µ2,...from è¡¨å;\n   -- 3ãå«åæ¥è¯¢\n   \tselect å­æ®µå as 'å«å',...from è¡¨å as 'è¡¨å«å';\n   -- 4ãå»éæ¥è¯¢\n   \t-- å»é¤éå¤çè¡\n   \tselect distinct * from è¡¨å;\n   \t-- å»é¤éå¤çå\n   \tselect distinct å­æ®µå from è¡¨å;\n   \n   \n   # 2.3.2 è¿ç®ç¬¦æä½\n   \n   -- 1ã+ - * / ç®æ¯è¿ç®ç¬¦\n   \tselect price * 1.1 from product;\n   -- 2ã> >= < <= != æ¯è¾è¿ç®ç¬¦\n   \t-- æ¥è¯¢ä»·æ ¼ä¸º800åå\n   \tselect * from product where price = 800;\n   -- 3ã&& || é»è¾è¿ç®ç¬¦\n   \t-- æ¥è¯¢ååä»·æ ¼æ¯200æ800çææåå\n   \tselect * from product where price in(200,800);\n   \tselect * from product where price = 200 or price = 800;\n   \tselect * from product where price = 200 || price = 800;\n   -- 4ã& ^ << >> ~ ä½è¿ç®ç¬¦\n   \n   \n   # 2.3.3 æåºæ¥è¯¢ order by\n   \n   -- 1ãååºæå,é»è®¤ååº asc\n   \tselect * from product order by price [asc];\n   -- 2ãéåºæå\n   \tselect * from product order by price desc;\n   \tselect * from product order by price desc, category_id desc;\n   \n   \n   # 2.3.4 èåæ¥è¯¢\n   \n   -- æ null å¼ï¼ä¸ä¼è¿è¡ç»è®¡ã\n   -- countãsumãmaxãminãavg\n   \n   \n   # 2.3.5 åç»æ¥è¯¢ group by\n   \n   -- åç»å¯ä»¥çè§£å°ä¸å¼ è¡¨æåæå¤å¼ è¡¨ï¼æåçä¾æ®å°±æ¯åç»å­æ®µã\n   -- åç»åçæ¡ä»¶ç­éç¨ having\n   \n   \n   # 2.3.6 åé¡µæ¾ç¤º limit\n   \n   -- 1ãæ¥è¯¢ product è¡¨çå5æ¡è®°å½\n   \tselect * from product limit 5;\n   -- 1ãä»ç¬¬4æ¡å¼å§æ¾ç¤ºï¼æ¾ç¤º5æ¡\n   \tselect * from product limit 3,5;\n   \n   \n   # 2.3.7 sqlè¯­å¥çæ§è¡é¡ºåº\n   \n   from -> where -> group by -> count -> having -> select -> order by -> limit\n\n\n# 2.4 æ°æ®æ§å¶è¯­è¨\n\ndclï¼data control languageï¼ï¼ä¸»è¦æ§å¶æ°æ®åºå¯¹è±¡çæéç®¡çãäºå¡åå®æ¶çè§ã\n\n * grantåéæéç»ç¨æ·\n * revokeåºé¤æ°æ®åºä¸­æç¨æ·çæé\n * rollback éåå°æä¸ç¹ (åæ»ï¼\n * commit æäº¤\n\n# 2.4.1 åå»ºç¨æ·\n\ncreate user 'username'@'%' identified by 'password';\n\n\n% è¡¨ç¤ºææç host é½å¯ä»¥è¿æ¥ï¼éå¸¸ä¸ºäºå®å¨ï¼è®¾ç½®ä¸ºä½ åè®¸è¿æ¥çä¸»æº ipã\n\n# 2.4.2 èµäºç¨æ·å¯¹æ°æ®åºçæé\n\ngrant all privileges on æ°æ®åº.* to 'username'@'%';\n\n\ngrant create, alter, drop, insert, update, delete, select, references, reload on . to 'sammy'@'localhost' with grant option;\n\n# 2.4.3 å·æ°æéè¡¨\n\nflush privileges;\n\n\n# 2.4.5 æ¶åæé\n\nrevoke\n\n\n# 2.4 äºå¡æ§å¶è¯­è¨\n\n\n# 3 çº¦æ\n\n\n# 3.1 ä¸»é®çº¦æ\n\nè½å¯ä¸æ è¯è®°å½çå­æ®µï¼å¯ä»¥ä½ä¸ºä¸»é®ã\n\n>  * ä¸ä¸ªè¡¨åªè½æä¸ä¸ªä¸»é®ã\n>  * ä¸»é®å·æå¯ä¸æ§ã\n>  * å£°æå­æ®µæ¶ï¼ç¨ primary key æ è¯ãä¹å¯ä»¥å¨å­æ®µåè¡¨ä¹åå£°æ ä¾ï¼create table tab ( id int, stu varchar(10), primary key (id));\n>  * ä¸»é®å­æ®µçå¼ä¸è½ä¸ºnullã\n>  * ä¸»é®å¯ä»¥ç±å¤ä¸ªå­æ®µå±åç»æãæ­¤æ¶éè¦å¨å­æ®µåè¡¨åå£°æçæ¹æ³ã ä¾ï¼create table tab ( id int, stu varchar(10), age int, primary key (stu, age));\n\n\n# 3.2 å¯ä¸çº¦æ\n\nunique ä½¿å¾æå­æ®µçå¼ä¹ä¸è½éå¤ã\n\n\n# 3.3 null çº¦æ\n\nnullä¸æ¯æ°æ®ç±»åï¼æ¯åçä¸ä¸ªå±æ§ãè¡¨ç¤ºå½ååæ¯å¦å¯ä»¥ä¸ºnullï¼è¡¨ç¤ºä»ä¹é½æ²¡æã\n\n> null, åè®¸ä¸ºç©ºãé»è®¤ã not null, ä¸åè®¸ä¸ºç©ºã insert into tab values (null, 'val'); -- æ­¤æ¶è¡¨ç¤ºå°ç¬¬ä¸ä¸ªå­æ®µçå¼è®¾ä¸ºnull, åå³äºè¯¥å­æ®µæ¯å¦åè®¸ä¸ºnull\n\n\n# 3.4 default çº¦æ\n\nå½åå­æ®µçé»è®¤å¼ã\n\n\n# 3.5 èªå¢é¿çº¦æ\n\nauto_increment\n\n> èªå¨å¢é¿å¿é¡»ä¸ºç´¢å¼ï¼ä¸»é®æuniqueï¼ åªè½å­å¨ä¸ä¸ªå­æ®µä¸ºèªå¨å¢é¿ã é»è®¤ä¸º1å¼å§èªå¨å¢é¿ãå¯ä»¥éè¿è¡¨å±æ§ auto_increment = xè¿è¡è®¾ç½®ï¼æ alter table tbl auto_increment = x;\n\n\n# 3.6 å¤é®çº¦æ\n\nç¨äºéå¶ä¸»è¡¨ä¸ä»è¡¨æ°æ®å®æ´æ§ãå­å¨å¤é®çè¡¨ï¼ç§°ä¹ä¸ºä»è¡¨ï¼å­è¡¨ï¼ï¼å¤é®æåçè¡¨ï¼ç§°ä¹ä¸ºä¸»è¡¨ï¼ç¶è¡¨ï¼ã\n\n\n# 4 ä¸å¤§èå¼\n\n1nf(ç¬¬ä¸èå¼)\n\nå±æ§ï¼å¯¹åºäºè¡¨ä¸­çå­æ®µï¼ä¸è½åè¢«åå²ï¼ä¹å°±æ¯è¿ä¸ªå­æ®µåªè½æ¯ä¸ä¸ªå¼ï¼ä¸è½ååä¸ºå¤ä¸ªå¶ä»çå­æ®µäºã1nf æ¯ææå³ç³»åæ°æ®åºçæåºæ¬è¦æ± ï¼ä¹å°±æ¯è¯´å³ç³»åæ°æ®åºä¸­åå»ºçè¡¨ä¸å®æ»¡è¶³ç¬¬ä¸èå¼ã\n\n2nf(ç¬¬äºèå¼)\n\n2nf å¨ 1nf çåºç¡ä¹ä¸ï¼æ¶é¤äºéä¸»å±æ§å¯¹äºç çé¨åå½æ°ä¾èµãå¦ä¸å¾æç¤ºï¼å±ç¤ºäºç¬¬ä¸èå¼å°ç¬¬äºèå¼çè¿æ¸¡ãç¬¬äºèå¼å¨ç¬¬ä¸èå¼çåºç¡ä¸å¢å äºä¸ä¸ªåï¼è¿ä¸ªåç§°ä¸ºä¸»é®ï¼éä¸»å±æ§é½ä¾èµäºä¸»é®ã\n\nä¸äºéè¦çæ¦å¿µï¼\n\n * å½æ°ä¾èµï¼functional dependencyï¼ ï¼è¥å¨ä¸å¼ è¡¨ä¸­ï¼å¨å±æ§ï¼æå±æ§ç»ï¼x çå¼ç¡®å®çæåµä¸ï¼å¿å®è½ç¡®å®å±æ§ y çå¼ï¼é£ä¹å°±å¯ä»¥è¯´ y å½æ°ä¾èµäº xï¼åä½ x â yã\n * é¨åå½æ°ä¾èµï¼partial functional dependencyï¼ ï¼å¦æ xâyï¼å¹¶ä¸å­å¨ x çä¸ä¸ªçå­é x0ï¼ä½¿å¾ x0âyï¼åç§° y å¯¹ x é¨åå½æ°ä¾èµãæ¯å¦å­¦çåºæ¬ä¿¡æ¯è¡¨ r ä¸­ï¼å­¦å·ï¼èº«ä»½è¯å·ï¼å§åï¼å½ç¶å­¦å·å±æ§åå¼æ¯å¯ä¸çï¼å¨ r å³ç³»ä¸­ï¼ï¼å­¦å·ï¼èº«ä»½è¯å·ï¼->ï¼å§åï¼ï¼ï¼å­¦å·ï¼->ï¼å§åï¼ï¼ï¼èº«ä»½è¯å·ï¼->ï¼å§åï¼ï¼æä»¥å§åé¨åå½æ°ä¾èµä¸ï¼å­¦å·ï¼èº«ä»½è¯å·ï¼ï¼\n * å®å¨å½æ°ä¾èµ(full functional dependency) ï¼å¨ä¸ä¸ªå³ç³»ä¸­ï¼è¥æä¸ªéä¸»å±æ§æ°æ®é¡¹ä¾èµäºå¨é¨å³é®å­ç§°ä¹ä¸ºå®å¨å½æ°ä¾èµãæ¯å¦å­¦çåºæ¬ä¿¡æ¯è¡¨ rï¼å­¦å·ï¼ç­çº§ï¼å§åï¼åè®¾ä¸åçç­çº§å­¦å·æç¸åçï¼ç­çº§åå­¦å·ä¸è½ç¸åï¼å¨ r å³ç³»ä¸­ï¼ï¼å­¦å·ï¼ç­çº§ï¼->ï¼å§åï¼ï¼ä½æ¯ï¼å­¦å·ï¼->(å§å)ä¸æç«ï¼ï¼ç­çº§ï¼->(å§å)ä¸æç«ï¼æä»¥å§åå®å¨å½æ°ä¾èµä¸ï¼å­¦å·ï¼ç­çº§ï¼ï¼\n * ä¼ éå½æ°ä¾èµ ï¼ å¨å³ç³»æ¨¡å¼ r(u)ä¸­ï¼è®¾ xï¼yï¼z æ¯ u çä¸åçå±æ§å­éï¼å¦æ x ç¡®å® yãy ç¡®å® zï¼ä¸æ x ä¸åå« yï¼y ä¸ç¡®å® xï¼ï¼xâªyï¼â©z=ç©ºéåï¼åç§° z ä¼ éå½æ°ä¾èµ(transitive functional dependency) äº xãä¼ éå½æ°ä¾èµä¼å¯¼è´æ°æ®åä½åå¼å¸¸ãä¼ éå½æ°ä¾èµç y å z å­éå¾å¾åå±äºæä¸ä¸ªäºç©ï¼å æ­¤å¯å°å¶åå¹¶æ¾å°ä¸ä¸ªè¡¨ä¸­ãæ¯å¦å¨å³ç³» r(å­¦å· , å§å, ç³»åï¼ç³»ä¸»ä»»)ä¸­ï¼å­¦å· â ç³»åï¼ç³»å â ç³»ä¸»ä»»ï¼æä»¥å­å¨éä¸»å±æ§ç³»ä¸»ä»»å¯¹äºå­¦å·çä¼ éå½æ°ä¾èµãã\n\n3nf(ç¬¬ä¸èå¼)\n\n3nf å¨ 2nf çåºç¡ä¹ä¸ï¼æ¶é¤äºéä¸»å±æ§å¯¹äºç çä¼ éå½æ°ä¾èµ ãç¬¦å 3nf è¦æ±çæ°æ®åºè®¾è®¡ï¼åºæ¬ä¸è§£å³äºæ°æ®åä½è¿å¤§ï¼æå¥å¼å¸¸ï¼ä¿®æ¹å¼å¸¸ï¼å é¤å¼å¸¸çé®é¢ãæ¯å¦å¨å³ç³» r(å­¦å· , å§å, ç³»åï¼ç³»ä¸»ä»»)ä¸­ï¼å­¦å· â ç³»åï¼ç³»å â ç³»ä¸»ä»»ï¼æä»¥å­å¨éä¸»å±æ§ç³»ä¸»ä»»å¯¹äºå­¦å·çä¼ éå½æ°ä¾èµï¼æä»¥è¯¥è¡¨çè®¾è®¡ï¼ä¸ç¬¦å 3nf çè¦æ±ã\n\n\n# 5 è§å¾\n\nè§å¾æ¯ä¸ä¸ª==èæè¡¨==ï¼æ¬èº«å¹¶ä¸æ¥ææ°æ®ï¼å ç¨å¾å°çåå­ãè§å¾åºäºå·²æçè¡¨ã\n\n * è§å¾çåå»ºåå é¤åªä¼å½±åè§å¾æ¬èº«ï¼ä¸å½±åå¯¹åºçåºè¡¨ãä½æ¯å½å¯¹è§å¾ä¸­çæ°æ®è¿è¡å¢å ãå é¤åä¿®æ¹çæä½æ¶ï¼æ°æ®è¡¨ä¸­çæ°æ®ä¼ç¸åºçåçååï¼åä¹äº¦ç¶ã\n * åè§å¾æä¾çæ°æ®åå®¹è¯­å¥ä¸º select è¯­å¥æ¶ï¼å¯ä»¥å°è§å¾çè§£ä¸ºå­å¨èµ·æ¥ç select è¯­å¥ã\n * è§å¾ï¼æ¯åç¨æ·æä¾åºè¡¨æ°æ®çå¦ä¸ç§è¡¨ç°å½¢å¼ãå¨å¤§åé¡¹ç®ä¸­ï¼ä»¥åæ°æ®è¡¨æ¯è¾å¤æçæåµä¸ï¼è§å¾çä»·å¼å°±å¸æ¾åºæ¥äºï¼ä»==å¯ä»¥å¸®å©æä»¬æç»å¸¸æ¥è¯¢çç»æéæ¾å°èæè¡¨ä¸­ï¼æåä½¿ç¨æçã==\n\n\n# 5.1 åå»ºè§å¾\n\n * å¨ create view è¯­å¥ä¸­åµå¥å­æ¥è¯¢\n\n\n# 5.2 æ¥çè§å¾\n\n\n# 5.3 æ´æ°è§å¾æ°æ®ä¸è§å¾çå é¤\n\n\n# 6 å­å¨è¿ç¨ä¸å­å¨å½æ°\n\nå¯ä»¥å°å¤æçsqlé»è¾å°è£å°ä¸èµ·ã\n\n\n# 6.1 å­å¨è¿ç¨\n\næ¯ä¸ç»ç»è¿é¢åç¼è¯çsqlè¯­å¥çå°è£ãæ§è¡è¿ç¨ï¼å­å¨è¿ç¨é¢åå­å¨å¨mysqlæå¡å¨ä¸ï¼éè¦æ§è¡æ¶ï¼å®¢æ·ç«¯åªéè¦åæå¡å¨ååºè°ç¨å­å¨è¿ç¨çå½ä»¤ï¼æå¡å¨ç«¯å°±å¯ä»¥æé¢åå­å¨å¥½çè¿ä¸ç³»åsqlè¯­å¥å¨é¨æ§è¡ã\n\n\n# 6.2 å­å¨å½æ°\n\n\n# 7 è§¦åå¨ï¼äºä»¶ï¼\n\n\n# 8 sqlçæ§è¡æµç¨\n\n\n\njava ç³»ç»å¨éè¿ mysql é©±å¨å mysql æ°æ®åºè¿æ¥çæ¶åæ¯åºäº tcp/ip åè®®çï¼æ¯ä¸ªè¯·æ±é½æ¯æ°å»ºè¿æ¥åéæ¯è¿æ¥ï¼è¿æ ·å¿å¿ä¼é æä¸å¿è¦çæµªè´¹åæ§è½çä¸éãéè¿==æ°æ®åºè¿æ¥æ± ==æä¾ä¸äºåºå®çç¨æ¥è¿æ¥ççº¿ç¨ï¼é¿åè¿æ¥çé¢ç¹åå»ºåéæ¯ã\n\nçº¿ç¨è·å sql è¯­å¥ -> äº¤ç» sqlæ¥å£å¤ç -> sqlè§£æå¨å¤çsqlè¯­å¥ -> è§£æè¿çsqlè¯­å¥ç±æ¥è¯¢ä¼åå¨æ¥ä¼å -> æ§è¡å¨è°ç¨å­å¨å¼æçæ¥å£å»å®æsqlæ§è¡\n\n\n# 8.1 å­å¨å¼æ\n\ninnodbï¼äºå¡åæ°æ®åºçé¦éï¼æ¯æacidï¼æ¯æè¡éï¼è¡¨éï¼å¤é®ã\n\nmylsamï¼åºäºisamçå­å¨å¼æï¼myisam æ¥æè¾é«çæå¥ãæ¥è¯¢éåº¦ï¼ä½ä¸æ¯æäºå¡ï¼åªæ¯æè¡¨éã\n\nmemoryï¼å°è¡¨ä¸­çæ°æ®å­å¨å°åå­ä¸­ï¼ä¸ºæ¥è¯¢åå¼ç¨å¶ä»æ°æ®æä¾å¿«éè®¿é®ã\n\ninnodbä¸­çä¸ä¸ªéè¦çç»ä»¶ï¼ç¼å²æ±  buffer pool\n\n * mysql innodb å¼æä½¿ç¨ redo log(éåæ¥å¿) ä¿è¯äºå¡çæä¹æ§ï¼ä½¿ç¨ undo log(åæ»æ¥å¿) æ¥ä¿è¯äºå¡çåå­æ§ã\n * mysql innodb å¼æéè¿ éæºå¶ãmvcc ç­ææ®µæ¥ä¿è¯äºå¡çéç¦»æ§ï¼ é»è®¤æ¯æçéç¦»çº§å«æ¯ repeatable-read ï¼ãmvcc å¯ä»¥çä½æ¯è¡çº§éçä¸ä¸ªåçº§ï¼å¯ä»¥ææåå°å éæä½ï¼æä¾æ§è½ã\n * ä¿è¯äºäºå¡çæä¹æ§ãåå­æ§ãéç¦»æ§ä¹åï¼ä¸è´æ§æè½å¾å°ä¿éã\n\n# éæºå¶\n\ninnodb è¡éçå®ç°æ¹å¼\n\n**innodbè¡éæ¯éè¿ç»ç´¢å¼ä¸çç´¢å¼é¡¹å éæ¥å®ç°çï¼**è¿ä¸ç¹mysqlä¸oracleä¸åï¼åèæ¯éè¿å¨æ°æ®åä¸­å¯¹ç¸åºæ°æ®è¡å éæ¥å®ç°çãinnodbè¿ç§è¡éå®ç°ç¹ç¹æå³çï¼åªæéè¿ç´¢å¼æ¡ä»¶æ£ç´¢æ°æ®ï¼innodbæä½¿ç¨è¡çº§éï¼å¦åï¼innodbå°ä½¿ç¨è¡¨éï¼\n\nè¡¨çº§éåè¡çº§éå¯¹æ¯ï¼\n\n * è¡¨çº§éï¼ mysql ä¸­éå® ç²åº¦æå¤§ çä¸ç§éï¼å¯¹å½åæä½çæ´å¼ è¡¨å éï¼å®ç°ç®åï¼èµæºæ¶èä¹æ¯è¾å°ï¼å éå¿«ï¼ä¸ä¼åºç°æ­»éãå¶éå®ç²åº¦æå¤§ï¼è§¦åéå²çªçæ¦çæé«ï¼å¹¶ååº¦æä½ï¼myisam å innodb å¼æé½æ¯æè¡¨çº§éã\n * è¡çº§éï¼ mysql ä¸­éå® ç²åº¦æå° çä¸ç§éï¼åªéå¯¹å½åæä½çè¡è¿è¡å éã è¡çº§éè½å¤§å¤§åå°æ°æ®åºæä½çå²çªãå¶å éç²åº¦æå°ï¼å¹¶ååº¦é«ï¼ä½å éçå¼éä¹æå¤§ï¼å éæ¢ï¼ä¼åºç°æ­»éã\n\n# éç®æ³\n\n * record lockï¼è®°å½éï¼åä¸ªè¡è®°å½ä¸çé\n * gap lockï¼é´ééï¼éå®ä¸ä¸ªèå´ï¼ä¸åæ¬è®°å½æ¬èº«\n * next-key lockï¼record+gap ä¸´é®éï¼éå®ä¸ä¸ªèå´ï¼åå«è®°å½æ¬èº«\n\n# ç¼å²æ± \n\nç¬¬ä¸æ¬¡æ¥è¯¢çæ¶åä¼å°æ¥è¯¢çç»æå­å° buffer pool ä¸­ï¼è¿æ ·åé¢åæè¯·æ±çæ¶åï¼å°±ä¼åä»ç¼å²æ± ä¸­å»æ¥è¯¢ï¼å¦ææ²¡æåå»ç£çä¸­æ¥æ¾ï¼ç¶ååæ¾å° buffer pool ä¸­ã\n\n# undo æ¥å¿\n\nå¨ä¸æ¡æ°æ®è¢«å è½½å° buffer pool ä¸­çåæ¶ä¼å¨ undoæ¥å¿ä¸­è®°å½æ´æ°åçå¼\n\n# redo æ¥å¿\n\nredo è®°å½çæ¯æ°æ®ä¿®æ¹ä¹åçå¼ï¼ä¸ç®¡äºå¡æ¯å¦æäº¤é½ä¼è®°å½ä¸æ¥ï¼ä¸è¬æåµä¸ï¼redo log buffer æ°æ®åå¥ç£ççç­ç¥æ¯ç«å³å·å¥ç£ç\n\n# å°æ­¤ä¸ºæ­¢ï¼ä»==æ§è¡å¨å¼å§è°ç¨å­å¨å¼æ==æ¥å£åäºåªäºäºæå¢ï¼\n\n1.åå¤æ´æ°ä¸æ¡ sql è¯­å¥\n\n2.mysqlï¼innodbï¼ä¼åå»ç¼å²æ± ï¼bufferpoolï¼ä¸­å»æ¥æ¾è¿æ¡æ°æ®ï¼æ²¡æ¾å°å°±ä¼å»ç£çä¸­æ¥æ¾ï¼å¦ææ¥æ¾å°å°±ä¼å°è¿æ¡æ°æ®å è½½å°ç¼å²æ± ï¼bufferpoolï¼ä¸­\n\n3.å¨å è½½å° buffer pool çåæ¶ï¼ä¼å°è¿æ¡æ°æ®çåå§è®°å½ä¿å­å° undo æ¥å¿æä»¶ä¸­\n\n4.innodb ä¼å¨ buffer pool ä¸­æ§è¡æ´æ°æä½\n\n5.æ´æ°åçæ°æ®ä¼è®°å½å¨ redo log buffer ä¸­\n\n6.mysql æäº¤äºå¡çæ¶åï¼ä¼å° redo log buffer ä¸­çæ°æ®åå¥å° redo æ¥å¿æä»¶ä¸­ å·ç£çå¯ä»¥éè¿ innodb_flush_log_at_trx_commit åæ°æ¥è®¾ç½®\n\nå¼ä¸º 0 è¡¨ç¤ºä¸å·å¥ç£ç\n\nå¼ä¸º 1 è¡¨ç¤ºç«å³å·å¥ç£ç\n\nå¼ä¸º 2 è¡¨ç¤ºåå·å° os cache\n\n7.myslq éå¯çæ¶åä¼å° redo æ¥å¿æ¢å¤å°ç¼å²æ± ä¸­\n\n# bin log æ¥å¿æä»¶\n\nmysqlçº§å«çï¼ææçå­å¨å¼æé½å¯ä»¥ä½¿ç¨ï¼è®°å½æ´ä¸ªæä½è¿ç¨ãéç¨äºä¸»ä»å¤å¶åæ°æ®æ¢å¤ã\n\n\n# 9 äºå¡\n\n\n# 9.1 äºå¡çç¹æ§\n\nacidï¼\n\n 1. åå­æ§ï¼atomicityï¼ ï¼ äºå¡æ¯æå°çæ§è¡åä½ï¼ä¸åè®¸åå²ãäºå¡çåå­æ§ç¡®ä¿å¨ä½è¦ä¹å¨é¨å®æï¼è¦ä¹å®å¨ä¸èµ·ä½ç¨ï¼\n 2. ä¸è´æ§ï¼consistencyï¼ï¼ æ§è¡äºå¡ååï¼æ°æ®ä¿æä¸è´ï¼ä¾å¦è½¬è´¦ä¸å¡ä¸­ï¼æ è®ºäºå¡æ¯å¦æåï¼è½¬è´¦èåæ¶æ¬¾äººçæ»é¢åºè¯¥æ¯ä¸åçï¼\n 3. éç¦»æ§ï¼isolationï¼ï¼ å¹¶åè®¿é®æ°æ®åºæ¶ï¼ä¸ä¸ªç¨æ·çäºå¡ä¸è¢«å¶ä»äºå¡æå¹²æ°ï¼åå¹¶åäºå¡ä¹é´æ°æ®åºæ¯ç¬ç«çï¼\n 4. æä¹æ§ï¼durabililyï¼ï¼ ä¸ä¸ªäºå¡è¢«æäº¤ä¹åãå®å¯¹æ°æ®åºä¸­æ°æ®çæ¹åæ¯æä¹çï¼å³ä½¿æ°æ®åºåçæéä¹ä¸åºè¯¥å¯¹å¶æä»»ä½å½±åã\n\n\n# 9.2 æ°æ®äºå¡çå®ç°åç\n\næä»¬è¿éä»¥ mysql ç innodb å¼æä¸ºä¾æ¥ç®åè¯´ä¸ä¸ã\n\nmysql innodb å¼æä½¿ç¨ redo log(éåæ¥å¿) ä¿è¯äºå¡çæä¹æ§ï¼ä½¿ç¨ undo log(åæ»æ¥å¿) æ¥ä¿è¯äºå¡çåå­æ§ã\n\nmysql innodb å¼æéè¿ éæºå¶ãmvcc ç­ææ®µæ¥ä¿è¯äºå¡çéç¦»æ§ï¼ é»è®¤æ¯æçéç¦»çº§å«æ¯ repeatable-read ï¼ã\n\nä¿è¯äºäºå¡çæä¹æ§ãåå­æ§ãéç¦»æ§ä¹åï¼ä¸è´æ§æè½å¾å°ä¿éã\n\n\n# 9.3 å¹¶åäºå¡å¸¦æ¥çé®é¢\n\nå¨å¸åçåºç¨ç¨åºä¸­ï¼å¤ä¸ªäºå¡å¹¶åè¿è¡ï¼ç»å¸¸ä¼æä½ç¸åçæ°æ®æ¥å®æåèªçä»»å¡ï¼å¤ä¸ªç¨æ·å¯¹åä¸æ°æ®è¿è¡æä½ï¼ãå¹¶åè½ç¶æ¯å¿é¡»çï¼ä½å¯è½ä¼å¯¼è´ä»¥ä¸çé®é¢ã\n\n * èè¯»ï¼dirty readï¼: å½ä¸ä¸ªäºå¡æ­£å¨è®¿é®æ°æ®å¹¶ä¸å¯¹æ°æ®è¿è¡äºä¿®æ¹ï¼èè¿ç§ä¿®æ¹è¿æ²¡ææäº¤å°æ°æ®åºä¸­ï¼è¿æ¶å¦å¤ä¸ä¸ªäºå¡ä¹è®¿é®äºè¿ä¸ªæ°æ®ï¼ç¶åä½¿ç¨äºè¿ä¸ªæ°æ®ãå ä¸ºè¿ä¸ªæ°æ®æ¯è¿æ²¡ææäº¤çæ°æ®ï¼é£ä¹å¦å¤ä¸ä¸ªäºå¡è¯»å°çè¿ä¸ªæ°æ®æ¯âèæ°æ®âï¼ä¾æ®âèæ°æ®âæåçæä½å¯è½æ¯ä¸æ­£ç¡®çã\n * ä¸¢å¤±ä¿®æ¹ï¼lost to modifyï¼: æå¨ä¸ä¸ªäºå¡è¯»åä¸ä¸ªæ°æ®æ¶ï¼å¦å¤ä¸ä¸ªäºå¡ä¹è®¿é®äºè¯¥æ°æ®ï¼é£ä¹å¨ç¬¬ä¸ä¸ªäºå¡ä¸­ä¿®æ¹äºè¿ä¸ªæ°æ®åï¼ç¬¬äºä¸ªäºå¡ä¹ä¿®æ¹äºè¿ä¸ªæ°æ®ãè¿æ ·ç¬¬ä¸ä¸ªäºå¡åçä¿®æ¹ç»æå°±è¢«ä¸¢å¤±ï¼å æ­¤ç§°ä¸ºä¸¢å¤±ä¿®æ¹ã ä¾å¦ï¼äºå¡ 1 è¯»åæè¡¨ä¸­çæ°æ® a=20ï¼äºå¡ 2 ä¹è¯»å a=20ï¼äºå¡ 1 ä¿®æ¹ a=a-1ï¼äºå¡ 2 ä¹ä¿®æ¹ a=a-1ï¼æç»ç»æ a=19ï¼äºå¡ 1 çä¿®æ¹è¢«ä¸¢å¤±ã\n * ä¸å¯éå¤è¯»ï¼unrepeatable readï¼: æå¨ä¸ä¸ªäºå¡åå¤æ¬¡è¯»åä¸æ°æ®ãå¨è¿ä¸ªäºå¡è¿æ²¡æç»ææ¶ï¼å¦ä¸ä¸ªäºå¡ä¹è®¿é®è¯¥æ°æ®ãé£ä¹ï¼å¨ç¬¬ä¸ä¸ªäºå¡ä¸­çä¸¤æ¬¡è¯»æ°æ®ä¹é´ï¼ç±äºç¬¬äºä¸ªäºå¡çä¿®æ¹å¯¼è´ç¬¬ä¸ä¸ªäºå¡ä¸¤æ¬¡è¯»åçæ°æ®å¯è½ä¸å¤ªä¸æ ·ãè¿å°±åçäºå¨ä¸ä¸ªäºå¡åä¸¤æ¬¡è¯»å°çæ°æ®æ¯ä¸ä¸æ ·çæåµï¼å æ­¤ç§°ä¸ºä¸å¯éå¤è¯»ã\n * å¹»è¯»ï¼phantom readï¼: å¹»è¯»ä¸ä¸å¯éå¤è¯»ç±»ä¼¼ãå®åçå¨ä¸ä¸ªäºå¡ï¼t1ï¼è¯»åäºå è¡æ°æ®ï¼æ¥çå¦ä¸ä¸ªå¹¶åäºå¡ï¼t2ï¼æå¥äºä¸äºæ°æ®æ¶ãå¨éåçæ¥è¯¢ä¸­ï¼ç¬¬ä¸ä¸ªäºå¡ï¼t1ï¼å°±ä¼åç°å¤äºä¸äºåæ¬ä¸å­å¨çè®°å½ï¼å°±å¥½ååçäºå¹»è§ä¸æ ·ï¼æä»¥ç§°ä¸ºå¹»è¯»ã\n\nä¸å¯éå¤è¯»åå¹»è¯»åºå«ï¼\n\nä¸å¯éå¤è¯»çéç¹æ¯ä¿®æ¹æ¯å¦å¤æ¬¡è¯»åä¸æ¡è®°å½åç°å¶ä¸­æäºåçå¼è¢«ä¿®æ¹ï¼å¹»è¯»çéç¹å¨äºæ°å¢æèå é¤æ¯å¦å¤æ¬¡è¯»åä¸æ¡è®°å½åç°è®°å½å¢å¤æåå°äºã\n\n\n# 9.4 äºå¡çéç¦»çº§å«\n\nsql æ åå®ä¹äºåä¸ªéç¦»çº§å«ï¼\n\n * read-uncommitted(è¯»åæªæäº¤)ï¼ æä½çéç¦»çº§å«ï¼åè®¸è¯»åå°æªæäº¤çæ°æ®åæ´ï¼å¯è½ä¼å¯¼è´èè¯»ãå¹»è¯»æä¸å¯éå¤è¯»ã\n\n * read-committed(è¯»åå·²æäº¤)ï¼ åè®¸è¯»åå¹¶åäºå¡å·²ç»æäº¤çæ°æ®ï¼å¯ä»¥é»æ­¢èè¯»ï¼ä½æ¯å¹»è¯»æä¸å¯éå¤è¯»ä»æå¯è½åçã\n\n * repeatable-read(å¯éå¤è¯»)ï¼ å¯¹åä¸å­æ®µçå¤æ¬¡è¯»åç»æé½æ¯ä¸è´çï¼é¤éæ°æ®æ¯è¢«æ¬èº«äºå¡èªå·±æä¿®æ¹ï¼å¯ä»¥é»æ­¢èè¯»åä¸å¯éå¤è¯»ï¼ä½å¹»è¯»ä»æå¯è½åçã\n\n * serializable(å¯ä¸²è¡å)ï¼ æé«çéç¦»çº§å«ï¼å®å¨æä» acid çéç¦»çº§å«ãææçäºå¡ä¾æ¬¡éä¸ªæ§è¡ï¼è¿æ ·äºå¡ä¹é´å°±å®å¨ä¸å¯è½äº§çå¹²æ°ï¼ä¹å°±æ¯è¯´ï¼è¯¥çº§å«å¯ä»¥é²æ­¢èè¯»ãä¸å¯éå¤è¯»ä»¥åå¹»è¯»ã\n   \n   éç¦»çº§å«               èè¯»   ä¸å¯éå¤è¯»   å¹»è¯»\n   read-uncommitted   â    â       â\n   read-committed     Ã    â       â\n   repeatable-read    Ã    Ã       â\n   serializable       Ã    Ã       Ã\n   \n   mysql innodb ç repeatable-readï¼å¯éè¯»ï¼å¹¶ä¸ä¿è¯é¿åå¹»è¯»ï¼éè¦åºç¨ä½¿ç¨å éè¯»æ¥ä¿è¯ãèè¿ä¸ªå éåº¦ä½¿ç¨å°çæºå¶å°±æ¯ next-key locksã\n   \n   å ä¸ºéç¦»çº§å«è¶ä½ï¼äºå¡è¯·æ±çéè¶å°ï¼æä»¥å¤§é¨åæ°æ®åºç³»ç»çéç¦»çº§å«é½æ¯ read-committed(è¯»åæäº¤åå®¹) ï¼ä½æ¯ä½ è¦ç¥éçæ¯ innodb å­å¨å¼æé»è®¤ä½¿ç¨ repeatable-readï¼å¯éè¯»ï¼ å¹¶ä¸ä¼æä»»ä½æ§è½æå¤±ã\n   \n   innodb å­å¨å¼æå¨ åå¸å¼äºå¡ çæåµä¸ä¸è¬ä¼ç¨å° serializable(å¯ä¸²è¡å) éç¦»çº§å«ã\n\n\n# 10 ç´¢å¼\n\nç´¢å¼æ¯ä¸ç§ç¨äºå¿«éæ¥è¯¢åæ£ç´¢æ°æ®çæ°æ®ç»æãå¸¸è§çç´¢å¼ç»ææ: b æ ï¼ b+æ å hashã\n\nç´¢å¼çä½ç¨å°±ç¸å½äºç®å½çä½ç¨ãæä¸ªæ¯æ¹: æä»¬å¨æ¥å­å¸çæ¶åï¼å¦ææ²¡æç®å½ï¼é£æä»¬å°±åªè½ä¸é¡µä¸é¡µçå»æ¾æä»¬éè¦æ¥çé£ä¸ªå­ï¼éåº¦å¾æ¢ãå¦ææç®å½äºï¼æä»¬åªéè¦åå»ç®å½éæ¥æ¾å­çä½ç½®ï¼ç¶åç´æ¥ç¿»å°é£ä¸é¡µå°±è¡äºã\n\n\n# 10.1 ä¼ç¼ºç¹\n\nä¼ç¹ ï¼\n\n * ä½¿ç¨ç´¢å¼å¯ä»¥å¤§å¤§å å¿« æ°æ®çæ£ç´¢éåº¦ï¼å¤§å¤§åå°æ£ç´¢çæ°æ®éï¼, è¿ä¹æ¯åå»ºç´¢å¼çæä¸»è¦çåå ã\n * éè¿åå»ºå¯ä¸æ§ç´¢å¼ï¼å¯ä»¥ä¿è¯æ°æ®åºè¡¨ä¸­æ¯ä¸è¡æ°æ®çå¯ä¸æ§ã\n\nç¼ºç¹ ï¼\n\n * åå»ºç´¢å¼åç»´æ¤ç´¢å¼éè¦èè´¹è®¸å¤æ¶é´ãå½å¯¹è¡¨ä¸­çæ°æ®è¿è¡å¢å æ¹çæ¶åï¼å¦ææ°æ®æç´¢å¼ï¼é£ä¹ç´¢å¼ä¹éè¦å¨æçä¿®æ¹ï¼ä¼éä½ sql æ§è¡æçã\n * ç´¢å¼éè¦ä½¿ç¨ç©çæä»¶å­å¨ï¼ä¹ä¼èè´¹ä¸å®ç©ºé´ã\n\n\n# 10.2 ç´¢å¼çåºå±æ°æ®ç»æ\n\n# hashè¡¨ & b+æ \n\nåå¸è¡¨æ¯é®å¼å¯¹çéåï¼éè¿é®(key)å³å¯å¿«éååºå¯¹åºçå¼(value)ï¼å æ­¤åå¸è¡¨å¯ä»¥å¿«éæ£ç´¢æ°æ®ï¼æ¥è¿ oï¼1ï¼ï¼ã\n\nä¸ºä½è½å¤éè¿ key å¿«éååº valueå¢ï¼ åå å¨äº åå¸ç®æ³ï¼ä¹å«æ£åç®æ³ï¼ãéè¿åå¸ç®æ³ï¼æä»¬å¯ä»¥å¿«éæ¾å° value å¯¹åºç indexï¼æ¾å°äº index ä¹å°±æ¾å°äºå¯¹åºç valueã\n\nä½æ¯ï¼åå¸ç®æ³æä¸ª hash å²çª é®é¢ï¼ä¹å°±æ¯è¯´å¤ä¸ªä¸åç key æåå¾å°ç index ç¸åãéå¸¸æåµä¸ï¼æä»¬å¸¸ç¨çè§£å³åæ³æ¯ é¾å°åæ³ãé¾å°åæ³å°±æ¯å°åå¸å²çªæ°æ®å­æ¾å¨é¾è¡¨ä¸­ãå°±æ¯å¦ jdk1.8 ä¹å hashmap å°±æ¯éè¿é¾å°åæ³æ¥è§£å³åå¸å²çªçãä¸è¿ï¼jdk1.8 ä»¥åhashmapä¸ºäºåå°é¾è¡¨è¿é¿çæ¶åæç´¢æ¶é´è¿é¿å¼å¥äºçº¢é»æ ã\n\næ¢ç¶åå¸è¡¨è¿ä¹å¿«ï¼ä¸ºä»ä¹mysql æ²¡æä½¿ç¨å¶ä½ä¸ºç´¢å¼çæ°æ®ç»æå¢ï¼\n\n1.hash å²çªé®é¢ ï¼æä»¬ä¸é¢ä¹æå°è¿hash å²çªäºï¼ä¸è¿å¯¹äºæ°æ®åºæ¥è¯´è¿è¿ä¸ç®æå¤§çç¼ºç¹ã\n\n2.hash ç´¢å¼ä¸æ¯æé¡ºåºåèå´æ¥è¯¢(hash ç´¢å¼ä¸æ¯æé¡ºåºåèå´æ¥è¯¢æ¯å®æå¤§çç¼ºç¹ï¼ åå¦æä»¬è¦å¯¹è¡¨ä¸­çæ°æ®è¿è¡æåºæèè¿è¡èå´æ¥è¯¢ï¼é£ hash ç´¢å¼å¯å°±ä¸è¡äºã\n\n# b æ & b+æ \n\nb æ ä¹ç§° b-æ ,å¨ç§°ä¸º å¤è·¯å¹³è¡¡æ¥æ¾æ  ï¼b+ æ æ¯ b æ çä¸ç§åä½ãb æ å b+æ ä¸­ç b æ¯ balanced ï¼å¹³è¡¡ï¼çææã\n\nç®åå¤§é¨åæ°æ®åºç³»ç»åæä»¶ç³»ç»é½éç¨ b-tree æå¶åç§ b+tree ä½ä¸ºç´¢å¼ç»æã\n\nb æ & b+æ ä¸¤èæä½å¼åå¢ï¼\n\n * b æ çææèç¹æ¢å­æ¾é®(key) ä¹å­æ¾ æ°æ®(data)ï¼è b+æ åªæå¶å­èç¹å­æ¾ key å dataï¼å¶ä»åèç¹åªå­æ¾ keyã\n * b æ çå¶å­èç¹é½æ¯ç¬ç«ç;b+æ çå¶å­èç¹æä¸æ¡å¼ç¨é¾æåä¸å®ç¸é»çå¶å­èç¹ã\n * b æ çæ£ç´¢çè¿ç¨ç¸å½äºå¯¹èå´åçæ¯ä¸ªèç¹çå³é®å­åäºåæ¥æ¾ï¼å¯è½è¿æ²¡æå°è¾¾å¶å­èç¹ï¼æ£ç´¢å°±ç»æäºãè b+æ çæ£ç´¢æçå°±å¾ç¨³å®äºï¼ä»»ä½æ¥æ¾é½æ¯ä»æ ¹èç¹å°å¶å­èç¹çè¿ç¨ï¼å¶å­èç¹çé¡ºåºæ£ç´¢å¾ææ¾ã\n\n\n# 10.3 ç´¢å¼ç±»å\n\n# ä¸»é®ç´¢å¼(primary key)\n\næ°æ®è¡¨çä¸»é®åä½¿ç¨çå°±æ¯ä¸»é®ç´¢å¼ã\n\nä¸å¼ æ°æ®è¡¨æåªè½æä¸ä¸ªä¸»é®ï¼å¹¶ä¸ä¸»é®ä¸è½ä¸º nullï¼ä¸è½éå¤ã\n\nå¨ mysql ç innodb çè¡¨ä¸­ï¼å½æ²¡ææ¾ç¤ºçæå®è¡¨çä¸»é®æ¶ï¼innodb ä¼èªå¨åæ£æ¥è¡¨ä¸­æ¯å¦æå¯ä¸ç´¢å¼çå­æ®µï¼å¦ææï¼åéæ©è¯¥å­æ®µä¸ºé»è®¤çä¸»é®ï¼å¦å innodb å°ä¼èªå¨åå»ºä¸ä¸ª 6byte çèªå¢ä¸»é®ã\n\n# äºçº§ç´¢å¼(è¾å©ç´¢å¼)\n\näºçº§ç´¢å¼åç§°ä¸ºè¾å©ç´¢å¼ï¼æ¯å ä¸ºäºçº§ç´¢å¼çå¶å­èç¹å­å¨çæ°æ®æ¯ä¸»é®ãä¹å°±æ¯è¯´ï¼éè¿äºçº§ç´¢å¼ï¼å¯ä»¥å®ä½ä¸»é®çä½ç½®ã\n\nå¯ä¸ç´¢å¼ï¼æ®éç´¢å¼ï¼åç¼ç´¢å¼ç­ç´¢å¼å±äºäºçº§ç´¢å¼ã\n\n 1. å¯ä¸ç´¢å¼(unique key) ï¼å¯ä¸ç´¢å¼ä¹æ¯ä¸ç§çº¦æãå¯ä¸ç´¢å¼çå±æ§åä¸è½åºç°éå¤çæ°æ®ï¼ä½æ¯åè®¸æ°æ®ä¸º nullï¼ä¸å¼ è¡¨åè®¸åå»ºå¤ä¸ªå¯ä¸ç´¢å¼ã å»ºç«å¯ä¸ç´¢å¼çç®çå¤§é¨åæ¶åé½æ¯ä¸ºäºè¯¥å±æ§åçæ°æ®çå¯ä¸æ§ï¼èä¸æ¯ä¸ºäºæ¥è¯¢æçã\n 2. æ®éç´¢å¼(index) ï¼æ®éç´¢å¼çå¯ä¸ä½ç¨å°±æ¯ä¸ºäºå¿«éæ¥è¯¢æ°æ®ï¼ä¸å¼ è¡¨åè®¸åå»ºå¤ä¸ªæ®éç´¢å¼ï¼å¹¶åè®¸æ°æ®éå¤å nullã\n 3. åç¼ç´¢å¼(prefix) ï¼åç¼ç´¢å¼åªéç¨äºå­ç¬¦ä¸²ç±»åçæ°æ®ãåç¼ç´¢å¼æ¯å¯¹ææ¬çåå ä¸ªå­ç¬¦åå»ºç´¢å¼ï¼ç¸æ¯æ®éç´¢å¼å»ºç«çæ°æ®æ´å°ï¼ å ä¸ºåªååå ä¸ªå­ç¬¦ã\n 4. å¨æç´¢å¼(full text) ï¼å¨æç´¢å¼ä¸»è¦æ¯ä¸ºäºæ£ç´¢å¤§ææ¬æ°æ®ä¸­çå³é®å­çä¿¡æ¯ï¼æ¯ç®åæç´¢å¼ææ°æ®åºä½¿ç¨çä¸ç§ææ¯ãmysql5.6 ä¹ååªæ myisam å¼ææ¯æå¨æç´¢å¼ï¼5.6 ä¹å innodb ä¹æ¯æäºå¨æç´¢å¼ã\n\n# èéç´¢å¼ä¸éèéç´¢å¼\n\n# èéç´¢å¼\n\nèéç´¢å¼å³ç´¢å¼ç»æåæ°æ®ä¸èµ·å­æ¾çç´¢å¼ãä¸»é®ç´¢å¼å±äºèéç´¢å¼ã\n\nå¨ mysql ä¸­ï¼innodb å¼æçè¡¨ç .ibdæä»¶å°±åå«äºè¯¥è¡¨çç´¢å¼åæ°æ®ï¼å¯¹äº innodb å¼æè¡¨æ¥è¯´ï¼è¯¥è¡¨çç´¢å¼(b+æ )çæ¯ä¸ªéå¶å­èç¹å­å¨ç´¢å¼ï¼å¶å­èç¹å­å¨ç´¢å¼åç´¢å¼å¯¹åºçæ°æ®ã\n\n# èéç´¢å¼çä¼ç¹\n\nèéç´¢å¼çæ¥è¯¢éåº¦éå¸¸çå¿«ï¼å ä¸ºæ´ä¸ª b+æ æ¬èº«å°±æ¯ä¸é¢å¤åå¹³è¡¡æ ï¼å¶å­èç¹ä¹é½æ¯æåºçï¼å®ä½å°ç´¢å¼çèç¹ï¼å°±ç¸å½äºå®ä½å°äºæ°æ®ã\n\n# èéç´¢å¼çç¼ºç¹\n\n 1. ä¾èµäºæåºçæ°æ® ï¼å ä¸º b+æ æ¯å¤è·¯å¹³è¡¡æ ï¼å¦æç´¢å¼çæ°æ®ä¸æ¯æåºçï¼é£ä¹å°±éè¦å¨æå¥æ¶æåºï¼å¦ææ°æ®æ¯æ´åè¿å¥½ï¼å¦åç±»ä¼¼äºå­ç¬¦ä¸²æ uuid è¿ç§åé¿åé¾æ¯è¾çæ°æ®ï¼æå¥ææ¥æ¾çéåº¦è¯å®æ¯è¾æ¢ã\n 2. æ´æ°ä»£ä»·å¤§ ï¼ å¦æå¯¹ç´¢å¼åçæ°æ®è¢«ä¿®æ¹æ¶ï¼é£ä¹å¯¹åºçç´¢å¼ä¹å°ä¼è¢«ä¿®æ¹ï¼ èä¸åµèéç´¢å¼çå¶å­èç¹è¿å­æ¾çæ°æ®ï¼ä¿®æ¹ä»£ä»·è¯å®æ¯è¾å¤§çï¼ æä»¥å¯¹äºä¸»é®ç´¢å¼æ¥è¯´ï¼ä¸»é®ä¸è¬é½æ¯ä¸å¯è¢«ä¿®æ¹çã\n\n# éèéç´¢å¼\n\néèéç´¢å¼å³ç´¢å¼ç»æåæ°æ®åå¼å­æ¾çç´¢å¼ã\n\näºçº§ç´¢å¼å±äºéèéç´¢å¼ã\n\n# éèéç´¢å¼çä¼ç¹\n\næ´æ°ä»£ä»·æ¯èéç´¢å¼è¦å° ãéèéç´¢å¼çæ´æ°ä»£ä»·å°±æ²¡æèéç´¢å¼é£ä¹å¤§äºï¼éèéç´¢å¼çå¶å­èç¹æ¯ä¸å­æ¾æ°æ®ç\n\n# éèéç´¢å¼çç¼ºç¹\n\n 1. è·èéç´¢å¼ä¸æ ·ï¼éèéç´¢å¼ä¹ä¾èµäºæåºçæ°æ®\n 2. å¯è½ä¼äºæ¬¡æ¥è¯¢(åè¡¨) :è¿åºè¯¥æ¯éèéç´¢å¼æå¤§çç¼ºç¹äºã å½æ¥å°ç´¢å¼å¯¹åºçæéæä¸»é®åï¼å¯è½è¿éè¦æ ¹æ®æéæä¸»é®åå°æ°æ®æä»¶æè¡¨ä¸­æ¥è¯¢ã\n\n\n# 10.4 åå»ºç´¢å¼çæ³¨æäºé¡¹\n\n1.éæ©åéçå­æ®µåå»ºç´¢å¼ï¼\n\n * ä¸ä¸º null çå­æ®µ ï¼ç´¢å¼å­æ®µçæ°æ®åºè¯¥å°½éä¸ä¸º nullï¼å ä¸ºå¯¹äºæ°æ®ä¸º null çå­æ®µï¼æ°æ®åºè¾é¾ä¼åãå¦æå­æ®µé¢ç¹è¢«æ¥è¯¢ï¼ä½åé¿åä¸äºä¸º nullï¼å»ºè®®ä½¿ç¨ 0,1,true,false è¿æ ·è¯­ä¹è¾ä¸ºæ¸æ°çç­å¼æç­å­ç¬¦ä½ä¸ºæ¿ä»£ã\n * è¢«é¢ç¹æ¥è¯¢çå­æ®µ ï¼æä»¬åå»ºç´¢å¼çå­æ®µåºè¯¥æ¯æ¥è¯¢æä½éå¸¸é¢ç¹çå­æ®µã\n * è¢«ä½ä¸ºæ¡ä»¶æ¥è¯¢çå­æ®µ ï¼è¢«ä½ä¸º where æ¡ä»¶æ¥è¯¢çå­æ®µï¼åºè¯¥è¢«èèå»ºç«ç´¢å¼ã\n * é¢ç¹éè¦æåºçå­æ®µ ï¼ç´¢å¼å·²ç»æåºï¼è¿æ ·æ¥è¯¢å¯ä»¥å©ç¨ç´¢å¼çæåºï¼å å¿«æåºæ¥è¯¢æ¶é´ã\n * è¢«ç»å¸¸é¢ç¹ç¨äºè¿æ¥çå­æ®µ ï¼ç»å¸¸ç¨äºè¿æ¥çå­æ®µå¯è½æ¯ä¸äºå¤é®åï¼å¯¹äºå¤é®åå¹¶ä¸ä¸å®è¦å»ºç«å¤é®ï¼åªæ¯è¯´è¯¥åæ¶åå°è¡¨ä¸è¡¨çå³ç³»ãå¯¹äºé¢ç¹è¢«è¿æ¥æ¥è¯¢çå­æ®µï¼å¯ä»¥èèå»ºç«ç´¢å¼ï¼æé«å¤è¡¨è¿æ¥æ¥è¯¢çæçã\n\n2.è¢«é¢ç¹æ´æ°çå­æ®µåºè¯¥æéå»ºç«ç´¢å¼ã\n\nè½ç¶ç´¢å¼è½å¸¦æ¥æ¥è¯¢ä¸çæçï¼ä½æ¯ç»´æ¤ç´¢å¼çææ¬ä¹æ¯ä¸å°çã å¦æä¸ä¸ªå­æ®µä¸è¢«ç»å¸¸æ¥è¯¢ï¼åèè¢«ç»å¸¸ä¿®æ¹ï¼é£ä¹å°±æ´ä¸åºè¯¥å¨è¿ç§å­æ®µä¸å»ºç«ç´¢å¼äºã\n\n3.å°½å¯è½çèèå»ºç«èåç´¢å¼èä¸æ¯ååç´¢å¼ã\n\nå ä¸ºç´¢å¼æ¯éè¦å ç¨ç£çç©ºé´çï¼å¯ä»¥ç®åçè§£ä¸ºæ¯ä¸ªç´¢å¼é½å¯¹åºçä¸é¢ b+æ ãå¦æä¸ä¸ªè¡¨çå­æ®µè¿å¤ï¼ç´¢å¼è¿å¤ï¼é£ä¹å½è¿ä¸ªè¡¨çæ°æ®è¾¾å°ä¸ä¸ªä½éåï¼ç´¢å¼å ç¨çç©ºé´ä¹æ¯å¾å¤çï¼ä¸ä¿®æ¹ç´¢å¼æ¶ï¼èè´¹çæ¶é´ä¹æ¯è¾å¤çãå¦ææ¯èåç´¢å¼ï¼å¤ä¸ªå­æ®µå¨ä¸ä¸ªç´¢å¼ä¸ï¼é£ä¹å°ä¼èçº¦å¾å¤§ç£çç©ºé´ï¼ä¸ä¿®æ¹æ°æ®çæä½æçä¹ä¼æåã\n\n4.æ³¨æé¿ååä½ç´¢å¼ ã\n\nåä½ç´¢å¼æçæ¯ç´¢å¼çåè½ç¸åï¼è½å¤å½ä¸­ç´¢å¼(a, b)å°±è¯å®è½å½ä¸­ç´¢å¼(a) ï¼é£ä¹ç´¢å¼(a)å°±æ¯åä½ç´¢å¼ãå¦ï¼name,city ï¼åï¼name ï¼è¿ä¸¤ä¸ªç´¢å¼å°±æ¯åä½ç´¢å¼ï¼è½å¤å½ä¸­åèçæ¥è¯¢è¯å®æ¯è½å¤å½ä¸­åèç å¨å¤§å¤æ°æåµä¸ï¼é½åºè¯¥å°½éæ©å±å·²æçç´¢å¼èä¸æ¯åå»ºæ°ç´¢å¼ã\n\n5.èèå¨å­ç¬¦ä¸²ç±»åçå­æ®µä¸ä½¿ç¨åç¼ç´¢å¼ä»£æ¿æ®éç´¢å¼ã\n\nåç¼ç´¢å¼ä»éäºå­ç¬¦ä¸²ç±»åï¼è¾æ®éç´¢å¼ä¼å ç¨æ´å°çç©ºé´ï¼æä»¥å¯ä»¥èèä½¿ç¨åç¼ç´¢å¼å¸¦æ¿æ®éç´¢å¼ã\n\n\n# 11 innodbçéæºå¶åmvcc\n\n\n# 11.1 mvcc",charsets:{cjk:!0},lastUpdated:"2022/04/10, 11:42:00",lastUpdatedTimestamp:164956212e4},{title:"Spring",frontmatter:{title:"Spring",date:"2022-04-10T11:43:55.000Z",permalink:"/pages/5aa973/"},regularPath:"/02.%E6%A1%86%E6%9E%B6/01.Spring/01.%E5%9F%BA%E7%A1%80/01.Spring.html",relativePath:"02.æ¡æ¶/01.Spring/01.åºç¡/01.Spring.md",key:"v-3fccfa19",path:"/pages/5aa973/",headers:[{level:2,title:"ä¸ãæ¦è¿°",slug:"ä¸ãæ¦è¿°",normalizedTitle:"ä¸ãæ¦è¿°",charIndex:2},{level:3,title:"1.1 è®¾è®¡çå¿µåæ ¸å¿",slug:"_1-1-è®¾è®¡çå¿µåæ ¸å¿",normalizedTitle:"1.1 è®¾è®¡çå¿µåæ ¸å¿",charIndex:195},{level:3,title:"1.2 ä¼ç¼ºç¹",slug:"_1-2-ä¼ç¼ºç¹",normalizedTitle:"1.2 ä¼ç¼ºç¹",charIndex:410},{level:2,title:"äºãç»æ",slug:"äºãç»æ",normalizedTitle:"äºãç»æ",charIndex:571},{level:3,title:"2.1 ç»ææ¨¡å",slug:"_2-1-ç»ææ¨¡å",normalizedTitle:"2.1 ç»ææ¨¡å",charIndex:580},{level:3,title:"2.2 ç¨å°çè®¾è®¡æ¨¡å¼",slug:"_2-2-ç¨å°çè®¾è®¡æ¨¡å¼",normalizedTitle:"2.2 ç¨å°çè®¾è®¡æ¨¡å¼",charIndex:1314},{level:2,title:"ä¸ãIOC",slug:"ä¸ãioc",normalizedTitle:"ä¸ãioc",charIndex:1610},{level:3,title:"3.1 beanå¯¹è±¡çæ³¨å",slug:"_3-1-beanå¯¹è±¡çæ³¨å",normalizedTitle:"3.1 beanå¯¹è±¡çæ³¨å",charIndex:1791},{level:4,title:"3.1.1 @Configuration å @Bean çæ¹éæ³¨å",slug:"_3-1-1-configuration-å-bean-çæ¹éæ³¨å",normalizedTitle:"3.1.1 @configuration å @bean çæ¹éæ³¨å",charIndex:1808},{level:4,title:"3.1.2 @ComponentScan æ«æå",slug:"_3-1-2-componentscan-æ«æå",normalizedTitle:"3.1.2 @componentscan æ«æå",charIndex:2087},{level:4,title:"3.1.3 @Import",slug:"_3-1-3-import",normalizedTitle:"3.1.3 @import",charIndex:2629},{level:3,title:"3.2 æ³¨è§£å®ç°ä¾èµæ³¨å¥",slug:"_3-2-æ³¨è§£å®ç°ä¾èµæ³¨å¥",normalizedTitle:"3.2 æ³¨è§£å®ç°ä¾èµæ³¨å¥",charIndex:2917},{level:4,title:"3.2.1 @Autowired",slug:"_3-2-1-autowired",normalizedTitle:"3.2.1 @autowired",charIndex:2933},{level:4,title:"3.2.2 @Resource",slug:"_3-2-2-resource",normalizedTitle:"3.2.2 @resource",charIndex:3274},{level:4,title:"3.2.3 å¶ä»æ³¨è§£",slug:"_3-2-3-å¶ä»æ³¨è§£",normalizedTitle:"3.2.3 å¶ä»æ³¨è§£",charIndex:3517},{level:3,title:"3.3 å¶ä»æ³¨è§£çä½ç¨",slug:"_3-3-å¶ä»æ³¨è§£çä½ç¨",normalizedTitle:"3.3 å¶ä»æ³¨è§£çä½ç¨",charIndex:3609},{level:4,title:"3.3.1 @Scope",slug:"_3-3-1-scope",normalizedTitle:"3.3.1 @scope",charIndex:3624},{level:4,title:"3.3.2 @DependsOn",slug:"_3-3-2-dependson",normalizedTitle:"3.3.2 @dependson",charIndex:3702},{level:4,title:"3.3.3 @ImportSource",slug:"_3-3-3-importsource",normalizedTitle:"3.3.3 @importsource",charIndex:3857},{level:4,title:"3.3.4 @Lazy",slug:"_3-3-4-lazy",normalizedTitle:"3.3.4 @lazy",charIndex:4029},{level:4,title:"3.3.5 @Value",slug:"_3-3-5-value",normalizedTitle:"3.3.5 @value",charIndex:4233},{level:3,title:"3.4 beanççå½å¨æ",slug:"_3-4-beanççå½å¨æ",normalizedTitle:"3.4 beanççå½å¨æ",charIndex:4334},{level:3,title:"3.5 Beanå¾ªç¯ä¾èµ",slug:"_3-5-beanå¾ªç¯ä¾èµ",normalizedTitle:"3.5 beanå¾ªç¯ä¾èµ",charIndex:10152},{level:2,title:"åãAOP",slug:"åãaop",normalizedTitle:"åãaop",charIndex:10437},{level:3,title:"4.1 ä»£ç",slug:"_4-1-ä»£ç",normalizedTitle:"4.1 ä»£ç",charIndex:10621},{level:4,title:"4.1.1 éæä»£ç",slug:"_4-1-1-éæä»£ç",normalizedTitle:"4.1.1 éæä»£ç",charIndex:10631},{level:4,title:"4.1.2 å¨æä»£ç",slug:"_4-1-2-å¨æä»£ç",normalizedTitle:"4.1.2 å¨æä»£ç",charIndex:10645},{level:3,title:"4.2 AOPçä¸äºæ¦å¿µ",slug:"_4-2-aopçä¸äºæ¦å¿µ",normalizedTitle:"4.2 aopçä¸äºæ¦å¿µ",charIndex:12555},{level:2,title:"äºãäºå¡",slug:"äºãäºå¡",normalizedTitle:"äºãäºå¡",charIndex:13566},{level:3,title:"5.1 ç¼ç¨å¼äºå¡",slug:"_5-1-ç¼ç¨å¼äºå¡",normalizedTitle:"5.1 ç¼ç¨å¼äºå¡",charIndex:13636},{level:3,title:"5.2 å£°æå¼äºå¡",slug:"_5-2-å£°æå¼äºå¡",normalizedTitle:"5.2 å£°æå¼äºå¡",charIndex:13650},{level:4,title:"5.2.1 ç¸å³æ³¨è§£",slug:"_5-2-1-ç¸å³æ³¨è§£",normalizedTitle:"5.2.1 ç¸å³æ³¨è§£",charIndex:13766},{level:4,title:"5.2.2 äºå¡çä¼ æ­è¡ä¸º",slug:"_5-2-2-äºå¡çä¼ æ­è¡ä¸º",normalizedTitle:"5.2.2 äºå¡çä¼ æ­è¡ä¸º",charIndex:14822}],headersStr:"ä¸ãæ¦è¿° 1.1 è®¾è®¡çå¿µåæ ¸å¿ 1.2 ä¼ç¼ºç¹ äºãç»æ 2.1 ç»ææ¨¡å 2.2 ç¨å°çè®¾è®¡æ¨¡å¼ ä¸ãIOC 3.1 beanå¯¹è±¡çæ³¨å 3.1.1 @Configuration å @Bean çæ¹éæ³¨å 3.1.2 @ComponentScan æ«æå 3.1.3 @Import 3.2 æ³¨è§£å®ç°ä¾èµæ³¨å¥ 3.2.1 @Autowired 3.2.2 @Resource 3.2.3 å¶ä»æ³¨è§£ 3.3 å¶ä»æ³¨è§£çä½ç¨ 3.3.1 @Scope 3.3.2 @DependsOn 3.3.3 @ImportSource 3.3.4 @Lazy 3.3.5 @Value 3.4 beanççå½å¨æ 3.5 Beanå¾ªç¯ä¾èµ åãAOP 4.1 ä»£ç 4.1.1 éæä»£ç 4.1.2 å¨æä»£ç 4.2 AOPçä¸äºæ¦å¿µ äºãäºå¡ 5.1 ç¼ç¨å¼äºå¡ 5.2 å£°æå¼äºå¡ 5.2.1 ç¸å³æ³¨è§£ 5.2.2 äºå¡çä¼ æ­è¡ä¸º",content:'# ä¸ãæ¦è¿°\n\nSpringæ¯ä¸ä¸ªè½»éçº§çJavaå¼åæ¡æ¶ï¼ç®çæ¯ä¸ºäºè§£å³ä¼ä¸çº§åºç¨å¼åçä¸å¡é»è¾åå¶ä»åå±çè¦åé®é¢ã\n\nSpringå¯ä»¥åå¾å¤äºæï¼å®ä¸ºä¼ä¸çº§å¼åæä¾ç»äºä¸°å¯çåè½ï¼ä½æ¯è¿äºåè½çåºå±é½ä¾èµäºå®çä¸¤ä¸ªæ ¸å¿ç¹æ§ï¼ä¹å°±æ¯ä¾èµæ³¨å¥ï¼dependency injectionï¼DIï¼ å é¢ååé¢ç¼ç¨ï¼aspect-oriented programmingï¼AOPï¼ã\n\n\n# 1.1 è®¾è®¡çå¿µåæ ¸å¿\n\nSpringè®¾è®¡çå¿µï¼å¨JavaEEå¼åä¸­ï¼æ¯æPOJOåJavaBeanå¼åæ¹å¼ï¼ä½¿åºç¨é¢åæ¥å£å¼åï¼ååæ¯æOOï¼é¢åå¯¹è±¡ï¼è®¾è®¡æ¹æ³ï¼Springéè¿IoCå®¹å¨å®ç°å¯¹è±¡è¦åå³ç³»çç®¡çï¼å¹¶å®ç°ä¾èµåè½¬ï¼å°å¯¹è±¡ä¹é´çä¾èµå³ç³»äº¤ç»IoCå®¹å¨ï¼å®ç°è§£è¦ï¼\n\nSpringæ¡æ¶çæ ¸å¿ï¼IoCå®¹å¨åAOPæ¨¡åãéè¿IoCå®¹å¨ç®¡çPOJOå¯¹è±¡ä»¥åä»ä»¬ä¹é´çè¦åå³ç³»ï¼éè¿AOPä»¥å¨æéä¾µå¥çæ¹å¼å¢å¼ºæå¡ã\n\n\n# 1.2 ä¼ç¼ºç¹\n\n * ä¼ç¹ï¼\n   \n   1. æ¹ä¾¿è§£è¦ï¼ç®åå¼å\n   2. AOPç¼ç¨çæ¯æ\n   3. å£°æå¼äºå¡çæ¯æ\n   4. æ¹ä¾¿ç¨åºçæµè¯\n   5. æ¹ä¾¿éæåç§ä¼ç§æ¡æ¶\n   6. éä½JavaEE APIçä½¿ç¨é¾åº¦\n\n * ç¼ºç¹ï¼\n   \n   1. Springä¾èµåå°ï¼åå°å½±åæ§è½\n\n\n# äºãç»æ\n\n\n# 2.1 ç»ææ¨¡å\n\nSpring æ»å±å¤§çº¦æ 20 ä¸ªæ¨¡åï¼ ç± 1300 å¤ä¸ªä¸åçæä»¶ææã èè¿äºç»ä»¶è¢«åå«æ´åå¨æ ¸å¿å®¹å¨ï¼Core Containerï¼ ãAOPï¼Aspect Oriented Programmingï¼åè®¾å¤æ¯æï¼Instrmentationï¼ ãæ°æ®è®¿é®ä¸éæï¼Data Access/Integerationï¼ ã Webã æ¶æ¯ï¼Messagingï¼ ã Testç­ 6 ä¸ªæ¨¡åä¸­ã ä»¥ä¸æ¯ Spring 5 çæ¨¡åç»æå¾ï¼\n\n\n\n * spring coreï¼æä¾äºæ¡æ¶çåºæ¬ç»æé¨åï¼åæ¬æ§å¶åè½¬ï¼Inversion of Controlï¼IOCï¼åä¾èµæ³¨å¥ï¼Dependency Injectionï¼DIï¼åè½ã\n * spring beansï¼æä¾äºBeanFactoryï¼æ¯å·¥åæ¨¡å¼çä¸ä¸ªç»å¸å®ç°ï¼Springå°ç®¡çå¯¹è±¡ç§°ä¸ºBeanã\n * spring contextï¼æå»ºäº core å°è£ååºç¡ä¸ç context å°è£åï¼æä¾äºä¸ç§æ¡æ¶å¼çå¯¹è±¡è®¿é®æ¹æ³ã\n * spring jdbcï¼æä¾äºä¸ä¸ªJDBCçæ½è±¡å±ï¼æ¶é¤äºç¦ççJDBCç¼ç åæ°æ®åºååç¹æçéè¯¯ä»£ç è§£æï¼ ç¨äºç®åJDBCã\n * spring aopï¼æä¾äºé¢ååé¢çç¼ç¨å®ç°ï¼è®©ä½ å¯ä»¥èªå®ä¹æ¦æªå¨ãåç¹ç­ã\n * spring Webï¼æä¾äºéå¯¹ Web å¼åçéæç¹æ§ï¼ä¾å¦æä»¶ä¸ä¼ ï¼å©ç¨ servlet listeners è¿è¡ ioc å®¹å¨åå§ååéå¯¹ Web ç ApplicationContextã\n * spring testï¼ä¸»è¦ä¸ºæµè¯æä¾æ¯æçï¼æ¯æä½¿ç¨JUnitæTestNGå¯¹Springç»ä»¶è¿è¡ååæµè¯åéææµè¯ã\n\n\n# 2.2 ç¨å°çè®¾è®¡æ¨¡å¼\n\n 1. å·¥åæ¨¡å¼ï¼BeanFactoryå°±æ¯ç®åå·¥åæ¨¡å¼çä½ç°ï¼ç¨æ¥åå»ºå¯¹è±¡çå®ä¾ï¼\n 2. åä¾æ¨¡å¼ï¼Beané»è®¤ä¸ºåä¾æ¨¡å¼ã\n 3. ä»£çæ¨¡å¼ï¼SpringçAOPåè½ç¨å°äºJDKçå¨æä»£çåCGLIBå­èç çæææ¯ï¼\n 4. æ¨¡æ¿æ¹æ³ï¼ç¨æ¥è§£å³ä»£ç éå¤çé®é¢ãæ¯å¦. RestTemplate, JmsTemplate, JpaTemplateã\n 5. è§å¯èæ¨¡å¼ï¼å®ä¹å¯¹è±¡é®ä¸ç§ä¸å¯¹å¤çä¾èµå³ç³»ï¼å½ä¸ä¸ªå¯¹è±¡çç¶æåçæ¹åæ¶ï¼ææä¾èµäºå®çå¯¹è±¡é½ä¼å¾å°éç¥è¢«å¶å¨æ´æ°ï¼å¦Springä¸­listenerçå®ç°âApplicationListenerã\n\n\n# ä¸ãIOC\n\nInversion of Control å®æä¼ ç»ä¸ç±ç¨åºä»£ç ç´æ¥ææ§çå¯¹è±¡çè°ç¨æäº¤ç»å®¹å¨ï¼éè¿å®¹å¨æ¥å®ç°å¯¹è±¡ç»ä»¶çè£éåç®¡çãæè°çâæ§å¶åè½¬âæ¦å¿µå°±æ¯å¯¹ç»ä»¶å¯¹è±¡æ§å¶æçè½¬ç§»ï¼ä»ç¨åºä»£ç æ¬èº«è½¬ç§»å°äºå¤é¨å®¹å¨ã\n\nSpring IOC è´è´£åå»ºå¯¹è±¡ï¼ç®¡çå¯¹è±¡ï¼éè¿ä¾èµæ³¨å¥ï¼DIï¼ï¼ï¼è£éå¯¹è±¡ï¼éç½®å¯¹è±¡ï¼å¹¶ä¸ç®¡çè¿äºå¯¹è±¡çæ´ä¸ªçå½å¨æã\n\n\n# 3.1 beanå¯¹è±¡çæ³¨å\n\n# 3.1.1 @Configuration å @Bean çæ¹éæ³¨å\n\n@Configurationå å¨ç±»ä¸ï¼è®©è¿ä¸ªç±»çåè½ç­åäºä¸ä¸ª bean.xml éç½®æä»¶ã\n\næ³¨æ\n\nè¢« @Configuration ä¿®é¥°çç±»ï¼springå®¹å¨ä¸­ä¼éè¿cglibç»è¿ä¸ªç±»åå»ºä¸ä¸ªä»£çï¼ä»£çä¼æ¦æªææè¢« @Bean ä¿®é¥°çæ¹æ³ï¼é»è®¤æåµï¼beanä¸ºåä¾ï¼ä¸ç¡®ä¿è¿äºæ¹æ³åªè¢«è°ç¨ä¸æ¬¡ï¼ä»èç¡®ä¿è¿äºbeanæ¯åä¸ä¸ªbeanï¼å³åä¾çã\n\n@Beanç¨å°æ¹æ³ä¸ï¼ç±»ä¼¼äº bean.xml éç½®æä»¶ä¸­ç bean åç´ ï¼ç¨æ¥å¨ spring å®¹å¨ä¸­æ³¨åä¸ä¸ª beanã\n\n# 3.1.2 @ComponentScan æ«æå\n\n@ComponentScanè¿ä¸ªæ³¨è§£ä¼è®©springå»æ«ææäºååå¶å­åä¸­ææçç±»ï¼ç¶åå°æ»¡è¶³ä¸å®æ¡ä»¶çç±»ä½ä¸ºbeanæ³¨åå°springå®¹å¨å®¹å¨ä¸­ã\n\næç¤º\n\næä»¥ç©è¿ä¸ªæ³¨è§£ï¼ä¸»è¦å³æ³¨2ä¸ªé®é¢ï¼\n\nç¬¬ä¸ä¸ªï¼éè¦æ«æåªäºåï¼éè¿valueãbackPackagesãbasePackageClassesè¿3ä¸ªåæ°æ¥æ§å¶\n\nç¬¬äºï¼è¿æ»¤å¨æåªäºï¼éè¿useDefaultFiltersãincludeFiltersãexcludeFiltersè¿3ä¸ªåæ°æ¥æ§å¶è¿æ»¤å¨\n\nè¿ä¸¤ä¸ªé®é¢ææ¸æ¥äºï¼å°±å¯ä»¥ç¡®å®åªäºç±»ä¼è¢«æ³¨åå°å®¹å¨ä¸­ã\n\né»è®¤æåµä¸ï¼ä»»ä½åæ°é½ä¸è®¾ç½®çæåµä¸ï¼æ­¤æ¶ï¼ä¼å°@ComponentScanä¿®é¥°çç±»æå¨çåä½ä¸ºæ«æåï¼é»è®¤æåµä¸useDefaultFiltersä¸ºtrueï¼è¿ä¸ªä¸ºtrueçæ¶åï¼springå®¹å¨åé¨ä¼ä½¿ç¨é»è®¤è¿æ»¤å¨ï¼è§åæ¯ï¼å¡æ¯ç±»ä¸æ@Repositoryã@Serviceã@Controllerã@Componentè¿å ä¸ªæ³¨è§£ä¸­çä»»ä½ä¸ä¸ªçï¼é£ä¹è¿ä¸ªç±»å°±ä¼è¢«ä½ä¸ºbeanæ³¨åå°springå®¹å¨ä¸­ï¼æä»¥é»è®¤æåµä¸ï¼åªéå¨ç±»ä¸å ä¸è¿å ä¸ªæ³¨è§£ä¸­çä»»ä½ä¸ä¸ªï¼è¿äºç±»å°±ä¼èªå¨äº¤ç»springå®¹å¨æ¥ç®¡çäºã\n\n# 3.1.3 @Import\n\n@Importå¯ä»¥ç¨æ¥æ¹éå¯¼å¥éè¦æ³¨åçåç§ç±»ï¼å¦æ®éçç±»ãéç½®ç±»ï¼å®åå®ææ®éç±»åéç½®ç±»ä¸­ææbeançæ³¨åã\n\næ³¨æ\n\n@Importçvalueå¸¸è§çæ5ç§ç¨æ³\n\n 1. valueä¸ºæ®éçç±»\n 2. valueä¸º@Configurationæ æ³¨çç±»\n 3. valueä¸º@CompontentScanæ æ³¨çç±»\n 4. valueä¸ºImportBeanDefinitionRegistraræ¥å£ç±»å\n 5. valueä¸ºImportSelectoræ¥å£ç±»å\n 6. valueä¸ºDeferredImportSelectoræ¥å£ç±»å\n\n\n# 3.2 æ³¨è§£å®ç°ä¾èµæ³¨å¥\n\n# 3.2.1 @Autowired\n\nå®ç°ä¾èµæ³¨å¥ï¼springå®¹å¨ä¼å¯¹beanä¸­ææå­æ®µãæ¹æ³è¿è¡éåï¼æ æ³¨æ@Autowiredæ³¨è§£çï¼é½ä¼è¿è¡æ³¨å¥ã\n\nå¤ä¸ªåæ°çæ¶åï¼æ¹æ³ä¸é¢ç@Autowireé»è®¤å¯¹æ¹æ³ä¸­ææåæ°èµ·æï¼å¦ææä»¬æ³å¯¹æä¸ªåæ°è¿è¡ç¹å®çéç½®ï¼å¯ä»¥å¨åæ°ä¸å ä¸@Autowired(required = false)ï¼è¿ä¸ªéç½®ä¼è¦çæ¹æ³ä¸é¢ç@Autowiredéç½®ã\n\nrequiredä¸ºfalseï¼è¡¨ç¤ºè¿ä¸ªbeanä¸æ¯å¼ºå¶æ³¨å¥çï¼è½æ¾å°å°±æ³¨å¥ï¼æ¾ä¸å°å°±æ³¨å¥ä¸ä¸ªnullå¯¹è±¡\n\næ³¨æ\n\n@Autowired æ¥æ¾åéèçè¿ç¨\n\næç±»åæ¾->éè¿éå®ç¬¦@Qualifierè¿æ»¤->@Primary->@Priority->æ ¹æ®åç§°æ¾ï¼å­æ®µåç§°æèæ¹æ³åç§°ï¼\n\n# 3.2.2 @Resource\n\nå@Autowiredæ³¨è§£ç±»ä¼¼ï¼ä¹æ¯ç¨æ¥æ³¨å¥ä¾èµçå¯¹è±¡çï¼springå®¹å¨ä¼å¯¹beanä¸­ææå­æ®µãæ¹æ³è¿è¡éåï¼æ æ³¨æ@Resourceæ³¨è§£çï¼é½ä¼è¿è¡æ³¨å¥ã\n\næ³¨æ\n\n@Resource æ¥æ¾åéèçè¿ç¨\n\nåæResourceçnameå¼ä½ä¸ºbeanåç§°æ¾->æåç§°ï¼å­æ®µåç§°ãæ¹æ³åç§°ãsetå±æ§åç§°ï¼æ¾->æç±»åæ¾->éè¿éå®ç¬¦@Qualifierè¿æ»¤->@Primary->@Priority->æ ¹æ®åç§°æ¾ï¼å­æ®µåç§°æèæ¹æ³åæ°åç§°ï¼\n\n# 3.2.3 å¶ä»æ³¨è§£\n\n * @Qualifierï¼å¯ä»¥å¨ä¾èµæ³¨å¥æ¥æ¾åéèçè¿ç¨ä¸­å¯¹åéèè¿è¡è¿æ»¤ãç¨å¨ç±»ãå­æ®µãæ¹æ³åæ¹æ³åæ°ä¸\n * @Primaryï¼è®¾ç½®ä¸ºä¸»è¦åéè\n\n\n# 3.3 å¶ä»æ³¨è§£çä½ç¨\n\n# 3.3.1 @Scope\n\næå®beançä½ç¨åã\n\nç¨æ³ï¼\n\n 1. å@Compontentä¸èµ·ä½¿ç¨å¨ç±»ä¸\n 2. å@Beanä¸èµ·æ æ³¨å¨æ¹æ³ä¸\n\n# 3.3.2 @DependsOn\n\næå®å½åbeanä¾èµçbeanï¼@DependsOnå¯ä»¥æå®å½åbeanä¾èµçbeanï¼éè¿è¿ä¸ªå¯ä»¥ç¡®ä¿@DependsOnæå®çbeanå¨å½åbeanåå»ºä¹åååå»ºå¥½\n\nç¨æ³ï¼\n\n 1. å@Compontentä¸èµ·ä½¿ç¨å¨ç±»ä¸\n 2. å@Beanä¸èµ·æ æ³¨å¨æ¹æ³ä¸\n\n# 3.3.3 @ImportSource\n\néç½®ç±»ä¸­å¯¼å¥beanå®ä¹çéç½®æä»¶ï¼æäºé¡¹ç®ï¼åæå¯è½éç¨xmlçæ¹å¼éç½®beanï¼åæå¯è½æ³éç¨springæ³¨è§£çæ¹å¼æ¥éæé¡¹ç®ï¼ä½æ¯æäºèçæ¨¡åå¯è½è¿æ¯xmlçæ¹å¼ï¼springä¸ºäºæ¹ä¾¿å¨æ³¨è§£æ¹å¼ä¸­å¼å®¹èçxmlçæ¹å¼ï¼æä¾äº@ImportResourceæ³¨è§£æ¥å¼å¥beanå®ä¹çéç½®æä»¶ã\n\n# 3.3.4 @Lazy\n\nå»¶è¿åå§åï¼@Lazyç­æäºbean xmlä¸­beanåç´ çlazy-initå±æ§ï¼å¯ä»¥å®ç°beançå»¶è¿åå§åã\n\nç¨æ³ï¼\n\n 1. å@Compontentä¸èµ·æ æ³¨å¨ç±»ä¸ï¼å¯ä»¥æ¯è¿ä¸ªç±»å»¶è¿åå§å\n 2. å@Configurationä¸èµ·æ æ³¨å¨éç½®ç±»ä¸­ï¼å¯ä»¥è®©å½åéç½®ç±»ä¸­éè¿@Beanæ³¨åçbeanå»¶è¿åå§å\n 3. å@Beanä¸èµ·ä½¿ç¨ï¼å¯ä»¥ä½¿å½åbeanå»¶è¿åå§å\n\n# 3.3.5 @Value\n\n@Valueå¯ä»¥æ æ³¨å¨å­æ®µä¸é¢ï¼å¯ä»¥å¼å¥å¤é¨éç½®æä»¶ä¸­çæ°æ®ï¼æ¯å¦å¯ä»¥å°æ°æ®åºçä¸äºéç½®ä¿¡æ¯æ¾å¨éç½®æä»¶ä¸­ï¼ç¶åéè¿@Valueçæ¹å¼å°å¶æ³¨å¥å°beançä¸äºå­æ®µä¸­\n\n\n# 3.4 beanççå½å¨æ\n\n 1. å°åç§æ¹å¼å®ä¹çbeançä¿¡æ¯ï¼è§£ææBeanDefinitionå¯¹è±¡,æ³¨åå°springå®¹å¨ä¸­ã\n    \n    æ³¨æ\n    \n    BeanDefinitionéé¢éé¢åå«äºbeanå®ä¹çåç§ä¿¡æ¯ï¼å¦ï¼beanå¯¹åºçclassãscopeãlazyä¿¡æ¯ãdependOnä¿¡æ¯ãautowireCandidateï¼æ¯å¦æ¯åéå¯¹è±¡ï¼ãprimaryï¼æ¯å¦æ¯ä¸»è¦çåéèï¼ç­ä¿¡æ¯ã\n\n 2. bean çæ³¨å\n    \n    beanæ³¨åé¶æ®µéè¦ç¨å°ä¸ä¸ªéå¸¸éè¦çæ¥å£ï¼BeanDefinitionRegistry\n    \n    BeanDefinitionRegistryå¯ä¸å®ç°ï¼DefaultListableBeanFactory\n\n 3. BeanDefinitionåå¹¶é¶æ®µ\n    \n    å¯è½æä»¬å®ä¹beançæ¶åæç¶å­beanå³ç³»ï¼æ­¤æ¶å­BeanDefinitionä¸­çä¿¡æ¯æ¯ä¸å®æ´çï¼æ¯å¦è®¾ç½®å±æ§çæ¶åéç½®å¨ç¶BeanDefinitionä¸­ï¼æ­¤æ¶å­BeanDefinitionä¸­æ¯æ²¡æè¿äºä¿¡æ¯çï¼éè¦å°å­beançBeanDefinitionåç¶beançBeanDefinitionè¿è¡åå¹¶ï¼å¾å°æç»çä¸ä¸ªRootBeanDefinitionï¼åå¹¶ä¹åå¾å°çRootBeanDefinitionåå«beanå®ä¹çææä¿¡æ¯ï¼åå«äºä»ç¶beanä¸­ç»§ç»§æ¿è¿æ¥çææä¿¡æ¯ï¼åç»­beançææåå»ºå·¥ä½å°±æ¯ä¾é åå¹¶ä¹åBeanDefinitionæ¥è¿è¡çã\n\n 4. Bean Classå è½½é¶æ®µ è¿ä¸ªé¶æ®µå°±æ¯å°beançclassåç§°è½¬æ¢ä¸ºClassç±»åçå¯¹è±¡ãæ­¤æ¶ä¼å¯¹é¶æ®µ3ä¸­åå¹¶äº§ççRootBeanDefinitionä¸­çbeanClassè¿è¡è§£æï¼å°beançç±»åè½¬æ¢ä¸ºClasså¯¹è±¡ï¼ç¶åèµå¼ç»beanClasså­æ®µã\n\n 5. éè¿åå°è°ç¨beançæé å¨ï¼å®ä¾åbean\n    \n    Beanå®ä¾ååæä½\n    \n    åæ¥çä¸ä¸DefaultListableBeanFactoryï¼è¿ä¸ªç±»ä¸­æä¸ªéå¸¸éå¸¸éè¦çå­æ®µï¼\n    \n    private final List<BeanPostProcessor> beanPostProcessors = new CopyOnWriteArrayList<>();\n    \n    \n    æ¯ä¸ä¸ªBeanPostProcessorç±»åçéå\n    \n    BeanPostProcessoræ¯ä¸ä¸ªæ¥å£ï¼è¿æå¾å¤å­æ¥å£ï¼è¿äºæ¥å£ä¸­æä¾äºå¾å¤æ¹æ³ï¼springå¨beançå½å¨æçä¸åé¶æ®µï¼ä¼è°ç¨ä¸é¢è¿ä¸ªåè¡¨ä¸­çBeanPostProcessorä¸­çä¸äºæ¹æ³ï¼æ¥å¯¹çå½å¨æè¿è¡æ©å±ï¼beançå½å¨æä¸­çæææ©å±ç¹é½æ¯ä¾é è¿ä¸ªéåä¸­çBeanPostProcessoræ¥å®ç°çï¼æä»¥å¦æå¤§å®¶æ³å¯¹beanççå½å¨æè¿è¡å¹²é¢ï¼è¿åä¸å®è¦ææ¡å¥½ã\n    \n    æ³¨æï¼æ¬æä¸­å¾å¤ä»¥BeanPostProcessorç»å°¾çï¼é½å®ç°äºBeanPostProcessoræ¥å£ï¼æäºæ¯ç´æ¥å®ç°çï¼æäºæ¯å®ç°äºå®çå­æ¥å£ã\n    \n    Beanå®ä¾åä¹åä¼è°ç¨ä¸æ®µä»£ç ï¼\n    \n    @Nullable\n        protected Object applyBeanPostProcessorsBeforeInstantiation(Class<?> beanClass, String beanName) {\n            for (BeanPostProcessor bp : getBeanPostProcessors()) {\n                if (bp instanceof InstantiationAwareBeanPostProcessor) {\n                    InstantiationAwareBeanPostProcessor ibp = (InstantiationAwareBeanPostProcessor) bp;\n                    Object result = ibp.postProcessBeforeInstantiation(beanClass, beanName);\n                    if (result != null) {\n                        return result;\n                    }\n                }\n            }\n            return null;\n        }\n    \n    \n    è¿æ®µä»£ç å¨beanå®ä¾åä¹åç»å¼åèçäºä¸ªå£å­ï¼å¼åèèªå·±å¯ä»¥å¨è¿ä¸ªå°æ¹ç´æ¥å»åå»ºä¸ä¸ªå¯¹è±¡ä½ä¸ºbeanå®ä¾ï¼èè·³è¿springåé¨å®ä¾åbeançè¿ç¨ã\n    \n    ä¸é¢ä»£ç ä¸­è½®è¯¢beanPostProcessorsåè¡¨ï¼å¦æç±»åæ¯InstantiationAwareBeanPostProcessorï¼ å°è¯è°ç¨InstantiationAwareBeanPostProcessor#postProcessBeforeInstantiationè·åbeançå®ä¾å¯¹è±¡ï¼å¦æè½å¤è·åå°ï¼é£ä¹å°è¿åå¼ä½ä¸ºå½åbeançå®ä¾ï¼é£ä¹springèªå¸¦çå®ä¾åbeançè¿ç¨å°±è¢«è·³è¿äºã\n    \n    postProcessBeforeInstantiationæ¹æ³å¦ä¸ï¼\n    \n    default Object postProcessBeforeInstantiation(Class<?> beanClass, String beanName) throws BeansException {\n        return null;\n    }\n    \n    \n    > è¿ä¸ªå°æ¹ç»å¼åèæä¾äºä¸ä¸ªæ©å±ç¹ï¼åè®¸å¼åèå¨è¿ä¸ªæ¹æ³ä¸­ç´æ¥è¿åbeançä¸ä¸ªå®ä¾ã\n    \n    å®éä¸ï¼å¨å®ä¾ååé¶æ®µå¯¹beançåå»ºè¿è¡å¹²é¢çæåµï¼ç¨çéå¸¸å°ï¼æä»¥å¤§é¨åbeançåå»ºè¿ä¼ç»§ç»­èµ°ä¸é¢çé¶æ®µã\n    \n    Beanå®ä¾åæä½\n    \n    è¿ä¸ªè¿ç¨å¯ä»¥å¹²ä»ä¹ï¼\n    \n    è¿ä¸ªè¿ç¨ä¼éè¿åå°æ¥è°ç¨beançæé å¨æ¥åå»ºbeançå®ä¾ã\n    \n    å·ä½éè¦ä½¿ç¨åªä¸ªæé å¨ï¼springä¸ºå¼åèæä¾äºä¸ä¸ªæ¥å£ï¼åè®¸å¼åèèªå·±æ¥å¤æ­ç¨åªä¸ªæé å¨ã\n    \n    çä¸ä¸è¿åçä»£ç é»è¾ï¼\n    \n    for (BeanPostProcessor bp : getBeanPostProcessors()) {\n        if (bp instanceof SmartInstantiationAwareBeanPostProcessor) {\n            SmartInstantiationAwareBeanPostProcessor ibp = (SmartInstantiationAwareBeanPostProcessor) bp;\n            Constructor<?>[] ctors = ibp.determineCandidateConstructors(beanClass, beanName);\n            if (ctors != null) {\n                return ctors;\n            }\n        }\n    }\n    \n    \n    ä¼è°ç¨SmartInstantiationAwareBeanPostProcessoræ¥å£çdetermineCandidateConstructorsæ¹æ³ï¼è¿ä¸ªæ¹æ³ä¼è¿ååéçæé å¨åè¡¨ï¼ä¹å¯ä»¥è¿åç©ºï¼çä¸ä¸è¿ä¸ªæ¹æ³çæºç ï¼\n    \n    @Nullable\n    default Constructor<?>[] determineCandidateConstructors(Class<?> beanClass, String beanName)\n    throws BeansException {\n    \n        return null;\n    }\n    \n    \n    è¿ä¸ªæ¹æ³æä¸ªæ¯è¾éè¦çå®ç°ç±»\n    \n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor\n    \n    \n    å¯ä»¥å°@Autowiredæ æ³¨çæ¹æ³ä½ä¸ºåéæé å¨è¿åã\n\n 6. beançå±æ§å¡«å\n    \n    æ³¨æ\n    \n    Bean å±æ§èµå¼åä¼è°ç¨InstantiationAwareBeanPostProcessoræ¥å£çpostProcessPropertiesæ¹æ³\n    \n    Bean å±æ§èµå¼é¶æ®µï¼è¿ä¸ªè¿ç¨æ¯è¾ç®åäºï¼å¾ªç¯å¤çPropertyValuesä¸­çå±æ§å¼ä¿¡æ¯ï¼éè¿åå°è°ç¨setæ¹æ³å°å±æ§çå¼è®¾ç½®å°beanå®ä¾ä¸­ã\n\n 7. beançåå§åé¶æ®µ\n    \n    * Bean Aware æ¥å£åè°\n      \n      private void invokeAwareMethods(final String beanName, final Object bean) {\n              if (bean instanceof Aware) {\n                  if (bean instanceof BeanNameAware) {\n                      ((BeanNameAware) bean).setBeanName(beanName);\n                  }\n                  if (bean instanceof BeanClassLoaderAware) {\n                      ClassLoader bcl = getBeanClassLoader();\n                      if (bcl != null) {\n                          ((BeanClassLoaderAware) bean).setBeanClassLoader(bcl);\n                      }\n                  }\n                  if (bean instanceof BeanFactoryAware) {\n                      ((BeanFactoryAware) bean).setBeanFactory(AbstractAutowireCapableBeanFactory.this);\n                  }\n              }\n          }\n      \n      \n      å¦ææä»¬çbeanå®ä¾å®ç°äºä¸é¢çæ¥å£ï¼ä¼æç§ä¸é¢çé¡ºåºä¾æ¬¡è¿è¡è°ç¨ï¼\n      \n      BeanNameAwareï¼å°beançåç§°æ³¨å¥è¿å»\n      BeanClassLoaderAwareï¼å°BeanClassLoaderæ³¨å¥è¿å»\n      BeanFactoryAwareï¼å°BeanFactoryæ³¨å¥è¿å»\n      \n    \n    * åå§åå\n      \n      ä¼è°ç¨BeanPostProcessorçpostProcessBeforeInitializationæ¹æ³ï¼è¥è¿ånullï¼å½åæ¹æ³å°ç»æã\n    \n    * åå§åé¶æ®µ\n      \n      2ä¸ªæ­¥éª¤\n      \n      1. è°ç¨InitializingBeanæ¥å£çafterPropertiesSetæ¹æ³\n      2. è°ç¨å®ä¹beançæ¶åæå®çåå§åæ¹æ³ï¼@Bean(initMethod = "åå§åçæ¹æ³")ï¼ã\n    \n    * åå§åå\n      \n      è°ç¨BeanPostProcessoræ¥å£çpostProcessAfterInitializationæ¹æ³ï¼è¿ånullçæ¶åï¼ä¼ä¸­æ­ä¸é¢çæä½ã\n\n 8. beançä½¿ç¨é¶æ®µ\n\n 9. beançéæ¯é¶æ®µ\n    \n    ç¬è®°\n    \n     3. è§¦åbeanéæ¯çå ç§æ¹å¼:\n    \n     4. è°ç¨org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory#destroyBean\n    \n     5. è°ç¨org.springframework.beans.factory.config.ConfigurableBeanFactory#destroySingletons\n    \n     6. è°ç¨ApplicationContextä¸­çcloseæ¹æ³\n    \n    Beanéæ¯é¶æ®µä¼ä¾æ¬¡æ§è¡\n    \n     1. è½®è¯¢beanPostProcessorsåè¡¨ï¼å¦ææ¯DestructionAwareBeanPostProcessorè¿ç§ç±»åçï¼ä¼è°ç¨å¶åé¨çpostProcessBeforeDestructionæ¹æ³\n     2. å¦æbeanå®ç°äºorg.springframework.beans.factory.DisposableBeanæ¥å£ï¼ä¼è°ç¨è¿ä¸ªæ¥å£ä¸­çdestroyæ¹æ³\n     3. è°ç¨beanèªå®ä¹çéæ¯æ¹æ³(@Bean(destroyMethod = "éæ¯çæ¹æ³"))\n\n\n# 3.5 Beanå¾ªç¯ä¾èµ\n\nå¤ä¸ªbeanä¹é´ç¸äºä¾èµï¼å½¢æäºä¸ä¸ªé­ç¯ã\n\næ£æµå¾ªç¯ä¾èµï¼æ£æµå¾ªç¯ä¾èµæ¯è¾ç®åï¼ä½¿ç¨ä¸ä¸ªåè¡¨æ¥è®°å½æ­£å¨åå»ºä¸­çbeanï¼beanåå»ºä¹åï¼åå»è®°å½ä¸­çä¸ä¸èªå·±æ¯å¦å·²ç»å¨åè¡¨ä¸­äºï¼å¦æå¨ï¼è¯´æå­å¨å¾ªç¯ä¾èµï¼å¦æä¸å¨ï¼åå°å¶å å¥å°è¿ä¸ªåè¡¨ï¼beanåå»ºå®æ¯ä¹åï¼å°å¶åä»è¿ä¸ªåè¡¨ä¸­ç§»é¤ã\n\nè§£å³å¾ªç¯ä¾èµï¼\n\n * æé å¨çå¾ªç¯ä¾èµæ æ³è§£å³\n * åªæåä¾çbeanä¼éè¿ä¸çº§ç¼å­æåæ´é²æ¥è§£å³å¾ªç¯ä¾èµçé®é¢ï¼èéåä¾çbeanï¼æ¯æ¬¡ä»å®¹å¨ä¸­è·åé½æ¯ä¸ä¸ªæ°çå¯¹è±¡ï¼é½ä¼éæ°åå»ºï¼æä»¥éåä¾çbeanæ¯æ²¡æç¼å­çï¼ä¸ä¼å°å¶æ¾å°ä¸çº§ç¼å­ä¸­ã\n\n\n# åãAOP\n\né¢ååé¢ç¼ç¨ï¼springä¸­æä¾çä¸äºéå¸¸çé¼çåè½é½æ¯éè¿aopå®ç°çï¼æ¯å¦ä¸é¢è¿äºå¤§å®¶æ¯è¾çæçåè½\n\nspringäºå¡ç®¡çï¼@Transactional\n\nspringå¼æ­¥å¤çï¼@EnableAsync\n\nspringç¼å­ææ¯çä½¿ç¨ï¼@EnableCaching\n\nspringä¸­åç§æ¦æªå¨ï¼@EnableAspectJAutoProxy\n\n\n# 4.1 ä»£ç\n\n# 4.1.1 éæä»£ç\n\n# 4.1.2 å¨æä»£ç\n\n * JDK å¨æä»£ç\n   \n   jdkä¸­ä¸ºå®ç°ä»£çæä¾äºæ¯æï¼ä¸»è¦ç¨å°2ä¸ªç±»ï¼\n   \n   java.lang.reflect.Proxy\n   java.lang.reflect.InvocationHandler\n   \n   \n   * proxy\n     \n     éé¢çä¸äºéè¦çéææ¹æ³\n     \n     //ä¸ºæå®çæ¥å£åå»ºä»£çç±»ï¼è¿åä»£çç±»çClasså¯¹è±¡\n     public static Class<?> getProxyClass(ClassLoader loader,Class<?>... interfaces)\n     //åå»ºä»£çç±»çå®ä¾å¯¹è±¡\n     public static Object newProxyInstance(ClassLoader loader,\n                                           Class<?>[] interfaces,\n                                           InvocationHandler h)\n     //å¤æ­æå®çç±»æ¯å¦æ¯ä¸ä¸ªä»£çç±»\n     public static boolean isProxyClass(Class<?> cl)\n     //è·åä»£çå¯¹è±¡çInvocationHandlerå¯¹è±¡\n     public static InvocationHandler getInvocationHandler(Object proxy)\n         throws IllegalArgumentException\n     \n     \n     åå»ºæ¹å¼ä¸:\n     \n     ç¬è®°\n     \n      1. è°ç¨Proxy.getProxyClassæ¹æ³è·åä»£çç±»çClasså¯¹è±¡\n      2. ä½¿ç¨InvocationHandleræ¥å£åå»ºä»£çç±»çå¤çå¨\n      3. éè¿ä»£çç±»åInvocationHandleråå»ºä»£çå¯¹è±¡\n      4. ä¸é¢å·²ç»åå»ºå¥½ä»£çå¯¹è±¡äºï¼æ¥çæä»¬å°±å¯ä»¥ä½¿ç¨ä»£çå¯¹è±¡äº\n     \n     åå»ºæ¹å¼äº:\n     \n     ç¬è®°\n     \n      5. ä½¿ç¨InvocationHandleræ¥å£åå»ºä»£çç±»çå¤çå¨\n      6. ä½¿ç¨Proxyç±»çéææ¹æ³newProxyInstanceç´æ¥åå»ºä»£çå¯¹è±¡\n      7. ä½¿ç¨ä»£çå¯¹è±¡\n\næ³¨æ\n\nJDKå¨æä»£çåªè½ä¸ºæ¥å£ææ¥å£çå®ç°ç±»åå»ºä»£çç±»ï¼ä¸è½ç´æ¥ç»æ®éç±»åå»ºä»£çç±»ã\n\nJDKå¨æä»£çæ¯ç¼è¯æ¶å¢å¼ºã\n\n * CGLIB å¨æä»£ç\n\njdkå¨æä»£çåªè½ä¸ºæ¥å£åå»ºä»£çï¼ä½¿ç¨ä¸æå±éæ§ãå®éçåºæ¯ä¸­æä»¬çç±»ä¸ä¸å®ææ¥å£ï¼æ­¤æ¶å¦ææä»¬æ³ä¸ºæ®éçç±»ä¹å®ç°ä»£çåè½ï¼æä»¬å°±éè¦ç¨å°cglibæ¥å®ç°äºã\n\ncglibæ¯ä¸ä¸ªå¼ºå¤§ãé«æ§è½çå­èç çæåºï¼å®ç¨äºå¨è¿è¡æ¶æ©å±Javaç±»åå®ç°æ¥å£ï¼æ¬è´¨ä¸å®æ¯éè¿å¨æççæä¸ä¸ªå­ç±»å»è¦çæè¦ä»£ççç±»ï¼éfinalä¿®é¥°çç±»åæ¹æ³ï¼ãEnhancerå¯è½æ¯CGLIBä¸­æå¸¸ç¨çä¸ä¸ªç±»ï¼åjdkä¸­çProxyä¸åçæ¯ï¼Enhanceræ¢è½å¤ä»£çæ®éçclassï¼ä¹è½å¤ä»£çæ¥å£ã\n\nåå»ºæ¹å¼ï¼\n\nç¬è®°\n\n 1. å®ä¹ä¸ä¸ªç±»ï¼\n 2. èªå®ä¹ MethodInterceptor å¹¶éå intercept æ¹æ³ï¼interceptç¨äºæ¦æªå¢å¼ºè¢«ä»£çç±»çæ¹æ³ï¼å JDK å¨æä»£çä¸­ç invoke æ¹æ³ç±»ä¼¼ï¼\n 3. éè¿ Enhancer ç±»ç create()åå»ºä»£çç±»ï¼\n\nç¹ç¹ï¼\n\n 1. cglibå¼¥è¡¥äºjdkå¨æä»£ççä¸è¶³ï¼jdkå¨æä»£çåªè½ä¸ºæ¥å£åå»ºä»£çï¼ècglibéå¸¸å¼ºå¤§ï¼ä¸ç®¡æ¯æ¥å£è¿æ¯ç±»ï¼é½å¯ä»¥ä½¿ç¨cglibæ¥åå»ºä»£ç\n 2. cglibåå»ºä»£ççè¿ç¨ï¼ç¸å½äºåå»ºäºä¸ä¸ªæ°çç±»ï¼å¯ä»¥éè¿cglibæ¥éç½®è¿ä¸ªæ°çç±»éè¦å®ç°çæ¥å£ï¼ä»¥åéè¦ç»§æ¿çç¶ç±»\n 3. cglibå¯ä»¥ä¸ºç±»åå»ºä»£çï¼ä½æ¯è¿ä¸ªç±»ä¸è½æ¯finalç±»åçï¼cglibä¸ºç±»åå»ºä»£ççè¿ç¨ï¼å®éä¸ä¸ºéè¿ç»§æ¿æ¥å®ç°çï¼ç¸å½äºç»éè¦è¢«ä»£ççç±»åå»ºäºä¸ä¸ªå­ç±»ï¼ç¶åä¼éåç¶ç±»ä¸­çæ¹æ³ï¼æ¥è¿è¡å¢å¼ºï¼ç»§æ¿çç¹æ§å¤§å®¶åºè¯¥é½ç¥éï¼finalä¿®é¥°çç±»æ¯ä¸è½è¢«ç»§æ¿çï¼finalä¿®é¥°çæ¹æ³ä¸è½è¢«éåï¼staticä¿®é¥°çæ¹æ³ä¹ä¸è½è¢«éåï¼privateä¿®é¥°çæ¹æ³ä¹ä¸è½è¢«å­ç±»éåï¼èå¶ä»ç±»åçæ¹æ³é½å¯ä»¥è¢«å­ç±»éåï¼è¢«éåçè¿äºæ¹æ³å¯ä»¥éè¿cglibè¿è¡æ¦æªå¢å¼º\n\n\n# 4.2 AOPçä¸äºæ¦å¿µ\n\n * ç®æ å¯¹è±¡(target)\n   \n   ç®æ å¯¹è±¡æå°è¦è¢«å¢å¼ºçå¯¹è±¡ï¼å³åå«ä¸»ä¸å¡é»è¾çç±»å¯¹è±¡ã\n\n * è¿æ¥ç¹(JoinPoint)\n   \n   ç¨åºæ§è¡è¿ç¨ä¸­æç¡®çç¹ï¼å¦æ¹æ³çè°ç¨æç¹å®çå¼å¸¸è¢«æåºã\n   \n   è¿æ¥ç¹ç±ä¸¤ä¸ªä¿¡æ¯ç¡®å®ï¼\n   \n   æ¹æ³(è¡¨ç¤ºç¨åºæ§è¡ç¹ï¼å³å¨åªä¸ªç®æ æ¹æ³)\n   \n   ç¸å¯¹ç¹(è¡¨ç¤ºæ¹ä½ï¼å³ç®æ æ¹æ³çä»ä¹ä½ç½®ï¼æ¯å¦è°ç¨åï¼åç­)\n   \n   ç®åæ¥è¯´ï¼è¿æ¥ç¹å°±æ¯è¢«æ¦æªå°çç¨åºæ§è¡ç¹ï¼å ä¸ºSpringåªæ¯ææ¹æ³ç±»åçè¿æ¥ç¹ï¼æä»¥å¨Springä¸­è¿æ¥ç¹å°±æ¯è¢«æ¦æªå°çæ¹æ³ã\n\n * ä»£çå¯¹è±¡(Proxy)\n   \n   AOPä¸­ä¼éè¿ä»£ççæ¹å¼ï¼å¯¹ç®æ å¯¹è±¡çæä¸ä¸ªä»£çå¯¹è±¡ï¼ä»£çå¯¹è±¡ä¸­ä¼å å¥éè¦å¢å¼ºåè½ï¼éè¿ä»£çå¯¹è±¡æ¥é´æ¥çæ¹å¼ç®æ å¯¹è±¡ï¼èµ·å°å¢å¼ºç®æ å¯¹è±¡çææã\n\n * éç¥(Advice)\n   \n   éè¦å¨ç®æ å¯¹è±¡ä¸­å¢å¼ºçåè½ï¼å¦ä¸é¢è¯´çï¼ä¸å¡æ¹æ³åéªè¯ç¨æ·çåè½ãæ¹æ³æ§è¡ä¹åæå°æ¹æ³çæ§è¡æ¥å¿ã\n   \n   éç¥ä¸­æ2ä¸ªéè¦çä¿¡æ¯ï¼æ¹æ³çä»ä¹å°æ¹ï¼æ§è¡ä»ä¹æä½ï¼è¿2ä¸ªä¿¡æ¯éè¿éç¥æ¥æå®ã\n   \n   æ¹æ³çä»ä¹å°æ¹ï¼ä¹åãä¹åãåè£¹ç®æ æ¹æ³ãæ¹æ³æåºå¼å¸¸åç­ã\n   \n   å¦ï¼\n   \n   å¨æ¹æ³æ§è¡ä¹åéªè¯ç¨æ·æ¯å¦ææã\n   \n   å¨æ¹æ³æ§è¡ä¹åï¼æå°æ¹æ³çæ§è¡èæ¶ã\n   \n   å¨æ¹æ³æåºå¼å¸¸åï¼è®°å½å¼å¸¸ä¿¡æ¯åéå°mqã\n\n * åå¥ç¹(Pointcut )\n   \n   ç¨æ¥æå®éè¦å°éç¥ä½¿ç¨å°åªäºå°æ¹ï¼æ¯å¦éè¦ç¨å¨åªäºç±»çåªäºæ¹æ³ä¸ï¼åå¥ç¹å°±æ¯åè¿ä¸ªéç½®çã\n\n * åé¢ï¼Aspectï¼\n   \n   éç¥ï¼Adviceï¼ååå¥ç¹ï¼Pointcutï¼çç»åãåé¢æ¥å®ä¹å¨åªäºå°æ¹ï¼Pointcutï¼æ§è¡ä»ä¹æä½ï¼Adviceï¼ã\n\n * é¡¾é®ï¼Advisor)\n   \n   Advisor å¶å®å®å°±æ¯ Pointcut ä¸ Advice çç»åï¼Advice æ¯è¦å¢å¼ºçé»è¾ï¼èå¢å¼ºçé»è¾è¦å¨ä»ä¹å°æ¹æ§è¡æ¯éè¿Pointcutæ¥æå®çï¼æä»¥ Advice å¿éä¸ Pointcut ç»åå¨ä¸èµ·ï¼è¿å°±è¯çäº Advisor è¿ä¸ªç±»ï¼spring Aopä¸­æä¾äºä¸ä¸ªAdvisoræ¥å£å°Pointcut ä¸ Advice çç»åèµ·æ¥ã\n   \n   Advisoræå¥½å ä¸ªç§°å¼ï¼é¡¾é®ãéç¥å¨ã\n\n\n# äºãäºå¡\n\nspring ä½¿ç¨äºå¡çä¸¤ç§æ¹å¼ï¼\n\n * ç¼ç¨å¼äºå¡:ç¡¬ç¼ç çæ¹å¼\n * å£°æå¼äºå¡:@Transactionçæ¹å¼\n\n\n# 5.1 ç¼ç¨å¼äºå¡\n\n\n# 5.2 å£°æå¼äºå¡\n\næè°å£°æå¼äºå¡ï¼å°±æ¯éè¿éç½®çæ¹å¼ï¼æ¯å¦éè¿éç½®æä»¶ï¼xmlï¼æèæ³¨è§£çæ¹å¼ï¼åè¯springï¼åªäºæ¹æ³éè¦springå¸®å¿ç®¡çäºå¡ï¼ç¶åå¼åèåªç¨å³æ³¨ä¸å¡ä»£ç ï¼èäºå¡çäºæspringèªå¨å¸®æä»¬æ§å¶ã\n\n# 5.2.1 ç¸å³æ³¨è§£\n\n * @EnableTransactionManagement\n   \n   ç¬è®°\n   \n   å½springå®¹å¨å¯å¨çæ¶åï¼åç°æ@EnableTransactionManagementæ³¨è§£ï¼æ­¤æ¶ä¼æ¦æªææbeançåå»ºï¼æ«æçä¸ä¸beanä¸æ¯å¦æ@Transactionæ³¨è§£ï¼ç±»ãæèç¶ç±»ãæèæ¥å£ãæèæ¹æ³ä¸­æè¿ä¸ªæ³¨è§£é½å¯ä»¥ï¼ï¼å¦ææè¿ä¸ªæ³¨è§£ï¼springä¼éè¿aopçæ¹å¼ç»beançæä»£çå¯¹è±¡ï¼ä»£çå¯¹è±¡ä¸­ä¼å¢å ä¸ä¸ªæ¦æªå¨ï¼æ¦æªå¨ä¼æ¦æªbeanä¸­publicæ¹æ³æ§è¡ï¼ä¼å¨æ¹æ³æ§è¡ä¹åå¯å¨äºå¡ï¼æ¹æ³æ§è¡å®æ¯ä¹åæäº¤æèåæ»äºå¡ã\n   \n   * å®ä¹äºå¡ç®¡çå¨ äºå¡äº¤ç»springç®¡çï¼é£ä¹ä½ è¯å®è¦åå»ºä¸ä¸ªæèå¤ä¸ªäºå¡ç®¡çèï¼æè¿äºç®¡çèæ¥ç®¡çå·ä½çäºå¡ï¼æ¯å¦å¯å¨äºå¡ãæäº¤äºå¡ãåæ»äºå¡ï¼è¿äºé½æ¯ç®¡çèæ¥è´è´£çã\n   \n   springä¸­ä½¿ç¨PlatformTransactionManagerè¿ä¸ªæ¥å£æ¥è¡¨ç¤ºäºå¡ç®¡çèã\n   \n   PlatformTransactionManagerå¤ä¸ªå®ç°ç±»ï¼ç¨æ¥åºå¯¹ä¸åçç¯å¢\n   \n   1. JpaTransactionManagerï¼å¦æä½ ç¨jpaæ¥æä½dbï¼é£ä¹éè¦ç¨è¿ä¸ªç®¡çå¨æ¥å¸®ä½ æ§å¶äºå¡ã\n   2. DataSourceTransactionManagerï¼å¦æä½ ç¨æ¯æå®æ°æ®æºçæ¹å¼ï¼æ¯å¦æä½æ°æ®åºç¨çæ¯ï¼JdbcTemplateãmybatis ibatisï¼é£ä¹éè¦ç¨è¿ä¸ªç®¡çå¨æ¥å¸®ä½ æ§å¶äºå¡ã\n   3. HibernateTransactionManagerï¼å¦æä½ ç¨hibernateæ¥æä½dbï¼é£ä¹éè¦ç¨è¿ä¸ªç®¡çå¨æ¥å¸®ä½ æ§å¶äºå¡\n   4. JtaTransactionManagerï¼å¦æä½ ç¨çæ¯javaä¸­çjtaæ¥æä½dbï¼è¿ç§éå¸¸æ¯åå¸å¼äºå¡ï¼æ­¤æ¶éè¦ç¨è¿ç§ç®¡çå¨æ¥æ§å¶äºå¡ã\n\n * @Transaction\n   \n   éä½¿ç¨äºå¡çç®æ ä¸å @Transactionæ³¨è§£\n   \n   * @Transactionæ¾å¨æ¥å£ä¸ï¼é£ä¹æ¥å£çå®ç°ç±»ä¸­ææpublicé½è¢«springèªå¨å ä¸äºå¡\n   * @Transactionæ¾å¨ç±»ä¸ï¼é£ä¹å½åç±»ä»¥åå¶ä¸æ éçº§å­ç±»ä¸­ææpubilcæ¹æ³å°è¢«springèªå¨å ä¸äºå¡\n   * @Transactionæ¾å¨publicæ¹æ³ä¸ï¼é£ä¹è¯¥æ¹æ³å°è¢«springèªå¨å ä¸äºå¡\n   * æ³¨æï¼@Transactionåªå¯¹publicæ¹æ³ææ\n\n# 5.2.2 äºå¡çä¼ æ­è¡ä¸º\n\näºå¡ä¼ æ­è¡ä¸ºï¼propagation behaviorï¼æçå°±æ¯å½ä¸ä¸ªäºå¡æ¹æ³è¢«å¦ä¸ä¸ªäºå¡æ¹æ³è°ç¨æ¶ï¼è¿ä¸ªäºå¡æ¹æ³åºè¯¥å¦ä½è¿è¡ã\n\n\n\n 1. PROPAGATION_REQUIRED',normalizedContent:'# ä¸ãæ¦è¿°\n\nspringæ¯ä¸ä¸ªè½»éçº§çjavaå¼åæ¡æ¶ï¼ç®çæ¯ä¸ºäºè§£å³ä¼ä¸çº§åºç¨å¼åçä¸å¡é»è¾åå¶ä»åå±çè¦åé®é¢ã\n\nspringå¯ä»¥åå¾å¤äºæï¼å®ä¸ºä¼ä¸çº§å¼åæä¾ç»äºä¸°å¯çåè½ï¼ä½æ¯è¿äºåè½çåºå±é½ä¾èµäºå®çä¸¤ä¸ªæ ¸å¿ç¹æ§ï¼ä¹å°±æ¯ä¾èµæ³¨å¥ï¼dependency injectionï¼diï¼ å é¢ååé¢ç¼ç¨ï¼aspect-oriented programmingï¼aopï¼ã\n\n\n# 1.1 è®¾è®¡çå¿µåæ ¸å¿\n\nspringè®¾è®¡çå¿µï¼å¨javaeeå¼åä¸­ï¼æ¯æpojoåjavabeanå¼åæ¹å¼ï¼ä½¿åºç¨é¢åæ¥å£å¼åï¼ååæ¯æooï¼é¢åå¯¹è±¡ï¼è®¾è®¡æ¹æ³ï¼springéè¿iocå®¹å¨å®ç°å¯¹è±¡è¦åå³ç³»çç®¡çï¼å¹¶å®ç°ä¾èµåè½¬ï¼å°å¯¹è±¡ä¹é´çä¾èµå³ç³»äº¤ç»iocå®¹å¨ï¼å®ç°è§£è¦ï¼\n\nspringæ¡æ¶çæ ¸å¿ï¼iocå®¹å¨åaopæ¨¡åãéè¿iocå®¹å¨ç®¡çpojoå¯¹è±¡ä»¥åä»ä»¬ä¹é´çè¦åå³ç³»ï¼éè¿aopä»¥å¨æéä¾µå¥çæ¹å¼å¢å¼ºæå¡ã\n\n\n# 1.2 ä¼ç¼ºç¹\n\n * ä¼ç¹ï¼\n   \n   1. æ¹ä¾¿è§£è¦ï¼ç®åå¼å\n   2. aopç¼ç¨çæ¯æ\n   3. å£°æå¼äºå¡çæ¯æ\n   4. æ¹ä¾¿ç¨åºçæµè¯\n   5. æ¹ä¾¿éæåç§ä¼ç§æ¡æ¶\n   6. éä½javaee apiçä½¿ç¨é¾åº¦\n\n * ç¼ºç¹ï¼\n   \n   1. springä¾èµåå°ï¼åå°å½±åæ§è½\n\n\n# äºãç»æ\n\n\n# 2.1 ç»ææ¨¡å\n\nspring æ»å±å¤§çº¦æ 20 ä¸ªæ¨¡åï¼ ç± 1300 å¤ä¸ªä¸åçæä»¶ææã èè¿äºç»ä»¶è¢«åå«æ´åå¨æ ¸å¿å®¹å¨ï¼core containerï¼ ãaopï¼aspect oriented programmingï¼åè®¾å¤æ¯æï¼instrmentationï¼ ãæ°æ®è®¿é®ä¸éæï¼data access/integerationï¼ ã webã æ¶æ¯ï¼messagingï¼ ã testç­ 6 ä¸ªæ¨¡åä¸­ã ä»¥ä¸æ¯ spring 5 çæ¨¡åç»æå¾ï¼\n\n\n\n * spring coreï¼æä¾äºæ¡æ¶çåºæ¬ç»æé¨åï¼åæ¬æ§å¶åè½¬ï¼inversion of controlï¼iocï¼åä¾èµæ³¨å¥ï¼dependency injectionï¼diï¼åè½ã\n * spring beansï¼æä¾äºbeanfactoryï¼æ¯å·¥åæ¨¡å¼çä¸ä¸ªç»å¸å®ç°ï¼springå°ç®¡çå¯¹è±¡ç§°ä¸ºbeanã\n * spring contextï¼æå»ºäº core å°è£ååºç¡ä¸ç context å°è£åï¼æä¾äºä¸ç§æ¡æ¶å¼çå¯¹è±¡è®¿é®æ¹æ³ã\n * spring jdbcï¼æä¾äºä¸ä¸ªjdbcçæ½è±¡å±ï¼æ¶é¤äºç¦ççjdbcç¼ç åæ°æ®åºååç¹æçéè¯¯ä»£ç è§£æï¼ ç¨äºç®åjdbcã\n * spring aopï¼æä¾äºé¢ååé¢çç¼ç¨å®ç°ï¼è®©ä½ å¯ä»¥èªå®ä¹æ¦æªå¨ãåç¹ç­ã\n * spring webï¼æä¾äºéå¯¹ web å¼åçéæç¹æ§ï¼ä¾å¦æä»¶ä¸ä¼ ï¼å©ç¨ servlet listeners è¿è¡ ioc å®¹å¨åå§ååéå¯¹ web ç applicationcontextã\n * spring testï¼ä¸»è¦ä¸ºæµè¯æä¾æ¯æçï¼æ¯æä½¿ç¨junitætestngå¯¹springç»ä»¶è¿è¡ååæµè¯åéææµè¯ã\n\n\n# 2.2 ç¨å°çè®¾è®¡æ¨¡å¼\n\n 1. å·¥åæ¨¡å¼ï¼beanfactoryå°±æ¯ç®åå·¥åæ¨¡å¼çä½ç°ï¼ç¨æ¥åå»ºå¯¹è±¡çå®ä¾ï¼\n 2. åä¾æ¨¡å¼ï¼beané»è®¤ä¸ºåä¾æ¨¡å¼ã\n 3. ä»£çæ¨¡å¼ï¼springçaopåè½ç¨å°äºjdkçå¨æä»£çåcglibå­èç çæææ¯ï¼\n 4. æ¨¡æ¿æ¹æ³ï¼ç¨æ¥è§£å³ä»£ç éå¤çé®é¢ãæ¯å¦. resttemplate, jmstemplate, jpatemplateã\n 5. è§å¯èæ¨¡å¼ï¼å®ä¹å¯¹è±¡é®ä¸ç§ä¸å¯¹å¤çä¾èµå³ç³»ï¼å½ä¸ä¸ªå¯¹è±¡çç¶æåçæ¹åæ¶ï¼ææä¾èµäºå®çå¯¹è±¡é½ä¼å¾å°éç¥è¢«å¶å¨æ´æ°ï¼å¦springä¸­listenerçå®ç°âapplicationlistenerã\n\n\n# ä¸ãioc\n\ninversion of control å®æä¼ ç»ä¸ç±ç¨åºä»£ç ç´æ¥ææ§çå¯¹è±¡çè°ç¨æäº¤ç»å®¹å¨ï¼éè¿å®¹å¨æ¥å®ç°å¯¹è±¡ç»ä»¶çè£éåç®¡çãæè°çâæ§å¶åè½¬âæ¦å¿µå°±æ¯å¯¹ç»ä»¶å¯¹è±¡æ§å¶æçè½¬ç§»ï¼ä»ç¨åºä»£ç æ¬èº«è½¬ç§»å°äºå¤é¨å®¹å¨ã\n\nspring ioc è´è´£åå»ºå¯¹è±¡ï¼ç®¡çå¯¹è±¡ï¼éè¿ä¾èµæ³¨å¥ï¼diï¼ï¼ï¼è£éå¯¹è±¡ï¼éç½®å¯¹è±¡ï¼å¹¶ä¸ç®¡çè¿äºå¯¹è±¡çæ´ä¸ªçå½å¨æã\n\n\n# 3.1 beanå¯¹è±¡çæ³¨å\n\n# 3.1.1 @configuration å @bean çæ¹éæ³¨å\n\n@configurationå å¨ç±»ä¸ï¼è®©è¿ä¸ªç±»çåè½ç­åäºä¸ä¸ª bean.xml éç½®æä»¶ã\n\næ³¨æ\n\nè¢« @configuration ä¿®é¥°çç±»ï¼springå®¹å¨ä¸­ä¼éè¿cglibç»è¿ä¸ªç±»åå»ºä¸ä¸ªä»£çï¼ä»£çä¼æ¦æªææè¢« @bean ä¿®é¥°çæ¹æ³ï¼é»è®¤æåµï¼beanä¸ºåä¾ï¼ä¸ç¡®ä¿è¿äºæ¹æ³åªè¢«è°ç¨ä¸æ¬¡ï¼ä»èç¡®ä¿è¿äºbeanæ¯åä¸ä¸ªbeanï¼å³åä¾çã\n\n@beanç¨å°æ¹æ³ä¸ï¼ç±»ä¼¼äº bean.xml éç½®æä»¶ä¸­ç bean åç´ ï¼ç¨æ¥å¨ spring å®¹å¨ä¸­æ³¨åä¸ä¸ª beanã\n\n# 3.1.2 @componentscan æ«æå\n\n@componentscanè¿ä¸ªæ³¨è§£ä¼è®©springå»æ«ææäºååå¶å­åä¸­ææçç±»ï¼ç¶åå°æ»¡è¶³ä¸å®æ¡ä»¶çç±»ä½ä¸ºbeanæ³¨åå°springå®¹å¨å®¹å¨ä¸­ã\n\næç¤º\n\næä»¥ç©è¿ä¸ªæ³¨è§£ï¼ä¸»è¦å³æ³¨2ä¸ªé®é¢ï¼\n\nç¬¬ä¸ä¸ªï¼éè¦æ«æåªäºåï¼éè¿valueãbackpackagesãbasepackageclassesè¿3ä¸ªåæ°æ¥æ§å¶\n\nç¬¬äºï¼è¿æ»¤å¨æåªäºï¼éè¿usedefaultfiltersãincludefiltersãexcludefiltersè¿3ä¸ªåæ°æ¥æ§å¶è¿æ»¤å¨\n\nè¿ä¸¤ä¸ªé®é¢ææ¸æ¥äºï¼å°±å¯ä»¥ç¡®å®åªäºç±»ä¼è¢«æ³¨åå°å®¹å¨ä¸­ã\n\né»è®¤æåµä¸ï¼ä»»ä½åæ°é½ä¸è®¾ç½®çæåµä¸ï¼æ­¤æ¶ï¼ä¼å°@componentscanä¿®é¥°çç±»æå¨çåä½ä¸ºæ«æåï¼é»è®¤æåµä¸usedefaultfiltersä¸ºtrueï¼è¿ä¸ªä¸ºtrueçæ¶åï¼springå®¹å¨åé¨ä¼ä½¿ç¨é»è®¤è¿æ»¤å¨ï¼è§åæ¯ï¼å¡æ¯ç±»ä¸æ@repositoryã@serviceã@controllerã@componentè¿å ä¸ªæ³¨è§£ä¸­çä»»ä½ä¸ä¸ªçï¼é£ä¹è¿ä¸ªç±»å°±ä¼è¢«ä½ä¸ºbeanæ³¨åå°springå®¹å¨ä¸­ï¼æä»¥é»è®¤æåµä¸ï¼åªéå¨ç±»ä¸å ä¸è¿å ä¸ªæ³¨è§£ä¸­çä»»ä½ä¸ä¸ªï¼è¿äºç±»å°±ä¼èªå¨äº¤ç»springå®¹å¨æ¥ç®¡çäºã\n\n# 3.1.3 @import\n\n@importå¯ä»¥ç¨æ¥æ¹éå¯¼å¥éè¦æ³¨åçåç§ç±»ï¼å¦æ®éçç±»ãéç½®ç±»ï¼å®åå®ææ®éç±»åéç½®ç±»ä¸­ææbeançæ³¨åã\n\næ³¨æ\n\n@importçvalueå¸¸è§çæ5ç§ç¨æ³\n\n 1. valueä¸ºæ®éçç±»\n 2. valueä¸º@configurationæ æ³¨çç±»\n 3. valueä¸º@compontentscanæ æ³¨çç±»\n 4. valueä¸ºimportbeandefinitionregistraræ¥å£ç±»å\n 5. valueä¸ºimportselectoræ¥å£ç±»å\n 6. valueä¸ºdeferredimportselectoræ¥å£ç±»å\n\n\n# 3.2 æ³¨è§£å®ç°ä¾èµæ³¨å¥\n\n# 3.2.1 @autowired\n\nå®ç°ä¾èµæ³¨å¥ï¼springå®¹å¨ä¼å¯¹beanä¸­ææå­æ®µãæ¹æ³è¿è¡éåï¼æ æ³¨æ@autowiredæ³¨è§£çï¼é½ä¼è¿è¡æ³¨å¥ã\n\nå¤ä¸ªåæ°çæ¶åï¼æ¹æ³ä¸é¢ç@autowireé»è®¤å¯¹æ¹æ³ä¸­ææåæ°èµ·æï¼å¦ææä»¬æ³å¯¹æä¸ªåæ°è¿è¡ç¹å®çéç½®ï¼å¯ä»¥å¨åæ°ä¸å ä¸@autowired(required = false)ï¼è¿ä¸ªéç½®ä¼è¦çæ¹æ³ä¸é¢ç@autowiredéç½®ã\n\nrequiredä¸ºfalseï¼è¡¨ç¤ºè¿ä¸ªbeanä¸æ¯å¼ºå¶æ³¨å¥çï¼è½æ¾å°å°±æ³¨å¥ï¼æ¾ä¸å°å°±æ³¨å¥ä¸ä¸ªnullå¯¹è±¡\n\næ³¨æ\n\n@autowired æ¥æ¾åéèçè¿ç¨\n\næç±»åæ¾->éè¿éå®ç¬¦@qualifierè¿æ»¤->@primary->@priority->æ ¹æ®åç§°æ¾ï¼å­æ®µåç§°æèæ¹æ³åç§°ï¼\n\n# 3.2.2 @resource\n\nå@autowiredæ³¨è§£ç±»ä¼¼ï¼ä¹æ¯ç¨æ¥æ³¨å¥ä¾èµçå¯¹è±¡çï¼springå®¹å¨ä¼å¯¹beanä¸­ææå­æ®µãæ¹æ³è¿è¡éåï¼æ æ³¨æ@resourceæ³¨è§£çï¼é½ä¼è¿è¡æ³¨å¥ã\n\næ³¨æ\n\n@resource æ¥æ¾åéèçè¿ç¨\n\nåæresourceçnameå¼ä½ä¸ºbeanåç§°æ¾->æåç§°ï¼å­æ®µåç§°ãæ¹æ³åç§°ãsetå±æ§åç§°ï¼æ¾->æç±»åæ¾->éè¿éå®ç¬¦@qualifierè¿æ»¤->@primary->@priority->æ ¹æ®åç§°æ¾ï¼å­æ®µåç§°æèæ¹æ³åæ°åç§°ï¼\n\n# 3.2.3 å¶ä»æ³¨è§£\n\n * @qualifierï¼å¯ä»¥å¨ä¾èµæ³¨å¥æ¥æ¾åéèçè¿ç¨ä¸­å¯¹åéèè¿è¡è¿æ»¤ãç¨å¨ç±»ãå­æ®µãæ¹æ³åæ¹æ³åæ°ä¸\n * @primaryï¼è®¾ç½®ä¸ºä¸»è¦åéè\n\n\n# 3.3 å¶ä»æ³¨è§£çä½ç¨\n\n# 3.3.1 @scope\n\næå®beançä½ç¨åã\n\nç¨æ³ï¼\n\n 1. å@compontentä¸èµ·ä½¿ç¨å¨ç±»ä¸\n 2. å@beanä¸èµ·æ æ³¨å¨æ¹æ³ä¸\n\n# 3.3.2 @dependson\n\næå®å½åbeanä¾èµçbeanï¼@dependsonå¯ä»¥æå®å½åbeanä¾èµçbeanï¼éè¿è¿ä¸ªå¯ä»¥ç¡®ä¿@dependsonæå®çbeanå¨å½åbeanåå»ºä¹åååå»ºå¥½\n\nç¨æ³ï¼\n\n 1. å@compontentä¸èµ·ä½¿ç¨å¨ç±»ä¸\n 2. å@beanä¸èµ·æ æ³¨å¨æ¹æ³ä¸\n\n# 3.3.3 @importsource\n\néç½®ç±»ä¸­å¯¼å¥beanå®ä¹çéç½®æä»¶ï¼æäºé¡¹ç®ï¼åæå¯è½éç¨xmlçæ¹å¼éç½®beanï¼åæå¯è½æ³éç¨springæ³¨è§£çæ¹å¼æ¥éæé¡¹ç®ï¼ä½æ¯æäºèçæ¨¡åå¯è½è¿æ¯xmlçæ¹å¼ï¼springä¸ºäºæ¹ä¾¿å¨æ³¨è§£æ¹å¼ä¸­å¼å®¹èçxmlçæ¹å¼ï¼æä¾äº@importresourceæ³¨è§£æ¥å¼å¥beanå®ä¹çéç½®æä»¶ã\n\n# 3.3.4 @lazy\n\nå»¶è¿åå§åï¼@lazyç­æäºbean xmlä¸­beanåç´ çlazy-initå±æ§ï¼å¯ä»¥å®ç°beançå»¶è¿åå§åã\n\nç¨æ³ï¼\n\n 1. å@compontentä¸èµ·æ æ³¨å¨ç±»ä¸ï¼å¯ä»¥æ¯è¿ä¸ªç±»å»¶è¿åå§å\n 2. å@configurationä¸èµ·æ æ³¨å¨éç½®ç±»ä¸­ï¼å¯ä»¥è®©å½åéç½®ç±»ä¸­éè¿@beanæ³¨åçbeanå»¶è¿åå§å\n 3. å@beanä¸èµ·ä½¿ç¨ï¼å¯ä»¥ä½¿å½åbeanå»¶è¿åå§å\n\n# 3.3.5 @value\n\n@valueå¯ä»¥æ æ³¨å¨å­æ®µä¸é¢ï¼å¯ä»¥å¼å¥å¤é¨éç½®æä»¶ä¸­çæ°æ®ï¼æ¯å¦å¯ä»¥å°æ°æ®åºçä¸äºéç½®ä¿¡æ¯æ¾å¨éç½®æä»¶ä¸­ï¼ç¶åéè¿@valueçæ¹å¼å°å¶æ³¨å¥å°beançä¸äºå­æ®µä¸­\n\n\n# 3.4 beanççå½å¨æ\n\n 1. å°åç§æ¹å¼å®ä¹çbeançä¿¡æ¯ï¼è§£ææbeandefinitionå¯¹è±¡,æ³¨åå°springå®¹å¨ä¸­ã\n    \n    æ³¨æ\n    \n    beandefinitionéé¢éé¢åå«äºbeanå®ä¹çåç§ä¿¡æ¯ï¼å¦ï¼beanå¯¹åºçclassãscopeãlazyä¿¡æ¯ãdependonä¿¡æ¯ãautowirecandidateï¼æ¯å¦æ¯åéå¯¹è±¡ï¼ãprimaryï¼æ¯å¦æ¯ä¸»è¦çåéèï¼ç­ä¿¡æ¯ã\n\n 2. bean çæ³¨å\n    \n    beanæ³¨åé¶æ®µéè¦ç¨å°ä¸ä¸ªéå¸¸éè¦çæ¥å£ï¼beandefinitionregistry\n    \n    beandefinitionregistryå¯ä¸å®ç°ï¼defaultlistablebeanfactory\n\n 3. beandefinitionåå¹¶é¶æ®µ\n    \n    å¯è½æä»¬å®ä¹beançæ¶åæç¶å­beanå³ç³»ï¼æ­¤æ¶å­beandefinitionä¸­çä¿¡æ¯æ¯ä¸å®æ´çï¼æ¯å¦è®¾ç½®å±æ§çæ¶åéç½®å¨ç¶beandefinitionä¸­ï¼æ­¤æ¶å­beandefinitionä¸­æ¯æ²¡æè¿äºä¿¡æ¯çï¼éè¦å°å­beançbeandefinitionåç¶beançbeandefinitionè¿è¡åå¹¶ï¼å¾å°æç»çä¸ä¸ªrootbeandefinitionï¼åå¹¶ä¹åå¾å°çrootbeandefinitionåå«beanå®ä¹çææä¿¡æ¯ï¼åå«äºä»ç¶beanä¸­ç»§ç»§æ¿è¿æ¥çææä¿¡æ¯ï¼åç»­beançææåå»ºå·¥ä½å°±æ¯ä¾é åå¹¶ä¹åbeandefinitionæ¥è¿è¡çã\n\n 4. bean classå è½½é¶æ®µ è¿ä¸ªé¶æ®µå°±æ¯å°beançclassåç§°è½¬æ¢ä¸ºclassç±»åçå¯¹è±¡ãæ­¤æ¶ä¼å¯¹é¶æ®µ3ä¸­åå¹¶äº§ççrootbeandefinitionä¸­çbeanclassè¿è¡è§£æï¼å°beançç±»åè½¬æ¢ä¸ºclasså¯¹è±¡ï¼ç¶åèµå¼ç»beanclasså­æ®µã\n\n 5. éè¿åå°è°ç¨beançæé å¨ï¼å®ä¾åbean\n    \n    beanå®ä¾ååæä½\n    \n    åæ¥çä¸ä¸defaultlistablebeanfactoryï¼è¿ä¸ªç±»ä¸­æä¸ªéå¸¸éå¸¸éè¦çå­æ®µï¼\n    \n    private final list<beanpostprocessor> beanpostprocessors = new copyonwritearraylist<>();\n    \n    \n    æ¯ä¸ä¸ªbeanpostprocessorç±»åçéå\n    \n    beanpostprocessoræ¯ä¸ä¸ªæ¥å£ï¼è¿æå¾å¤å­æ¥å£ï¼è¿äºæ¥å£ä¸­æä¾äºå¾å¤æ¹æ³ï¼springå¨beançå½å¨æçä¸åé¶æ®µï¼ä¼è°ç¨ä¸é¢è¿ä¸ªåè¡¨ä¸­çbeanpostprocessorä¸­çä¸äºæ¹æ³ï¼æ¥å¯¹çå½å¨æè¿è¡æ©å±ï¼beançå½å¨æä¸­çæææ©å±ç¹é½æ¯ä¾é è¿ä¸ªéåä¸­çbeanpostprocessoræ¥å®ç°çï¼æä»¥å¦æå¤§å®¶æ³å¯¹beanççå½å¨æè¿è¡å¹²é¢ï¼è¿åä¸å®è¦ææ¡å¥½ã\n    \n    æ³¨æï¼æ¬æä¸­å¾å¤ä»¥beanpostprocessorç»å°¾çï¼é½å®ç°äºbeanpostprocessoræ¥å£ï¼æäºæ¯ç´æ¥å®ç°çï¼æäºæ¯å®ç°äºå®çå­æ¥å£ã\n    \n    beanå®ä¾åä¹åä¼è°ç¨ä¸æ®µä»£ç ï¼\n    \n    @nullable\n        protected object applybeanpostprocessorsbeforeinstantiation(class<?> beanclass, string beanname) {\n            for (beanpostprocessor bp : getbeanpostprocessors()) {\n                if (bp instanceof instantiationawarebeanpostprocessor) {\n                    instantiationawarebeanpostprocessor ibp = (instantiationawarebeanpostprocessor) bp;\n                    object result = ibp.postprocessbeforeinstantiation(beanclass, beanname);\n                    if (result != null) {\n                        return result;\n                    }\n                }\n            }\n            return null;\n        }\n    \n    \n    è¿æ®µä»£ç å¨beanå®ä¾åä¹åç»å¼åèçäºä¸ªå£å­ï¼å¼åèèªå·±å¯ä»¥å¨è¿ä¸ªå°æ¹ç´æ¥å»åå»ºä¸ä¸ªå¯¹è±¡ä½ä¸ºbeanå®ä¾ï¼èè·³è¿springåé¨å®ä¾åbeançè¿ç¨ã\n    \n    ä¸é¢ä»£ç ä¸­è½®è¯¢beanpostprocessorsåè¡¨ï¼å¦æç±»åæ¯instantiationawarebeanpostprocessorï¼ å°è¯è°ç¨instantiationawarebeanpostprocessor#postprocessbeforeinstantiationè·åbeançå®ä¾å¯¹è±¡ï¼å¦æè½å¤è·åå°ï¼é£ä¹å°è¿åå¼ä½ä¸ºå½åbeançå®ä¾ï¼é£ä¹springèªå¸¦çå®ä¾åbeançè¿ç¨å°±è¢«è·³è¿äºã\n    \n    postprocessbeforeinstantiationæ¹æ³å¦ä¸ï¼\n    \n    default object postprocessbeforeinstantiation(class<?> beanclass, string beanname) throws beansexception {\n        return null;\n    }\n    \n    \n    > è¿ä¸ªå°æ¹ç»å¼åèæä¾äºä¸ä¸ªæ©å±ç¹ï¼åè®¸å¼åèå¨è¿ä¸ªæ¹æ³ä¸­ç´æ¥è¿åbeançä¸ä¸ªå®ä¾ã\n    \n    å®éä¸ï¼å¨å®ä¾ååé¶æ®µå¯¹beançåå»ºè¿è¡å¹²é¢çæåµï¼ç¨çéå¸¸å°ï¼æä»¥å¤§é¨åbeançåå»ºè¿ä¼ç»§ç»­èµ°ä¸é¢çé¶æ®µã\n    \n    beanå®ä¾åæä½\n    \n    è¿ä¸ªè¿ç¨å¯ä»¥å¹²ä»ä¹ï¼\n    \n    è¿ä¸ªè¿ç¨ä¼éè¿åå°æ¥è°ç¨beançæé å¨æ¥åå»ºbeançå®ä¾ã\n    \n    å·ä½éè¦ä½¿ç¨åªä¸ªæé å¨ï¼springä¸ºå¼åèæä¾äºä¸ä¸ªæ¥å£ï¼åè®¸å¼åèèªå·±æ¥å¤æ­ç¨åªä¸ªæé å¨ã\n    \n    çä¸ä¸è¿åçä»£ç é»è¾ï¼\n    \n    for (beanpostprocessor bp : getbeanpostprocessors()) {\n        if (bp instanceof smartinstantiationawarebeanpostprocessor) {\n            smartinstantiationawarebeanpostprocessor ibp = (smartinstantiationawarebeanpostprocessor) bp;\n            constructor<?>[] ctors = ibp.determinecandidateconstructors(beanclass, beanname);\n            if (ctors != null) {\n                return ctors;\n            }\n        }\n    }\n    \n    \n    ä¼è°ç¨smartinstantiationawarebeanpostprocessoræ¥å£çdeterminecandidateconstructorsæ¹æ³ï¼è¿ä¸ªæ¹æ³ä¼è¿ååéçæé å¨åè¡¨ï¼ä¹å¯ä»¥è¿åç©ºï¼çä¸ä¸è¿ä¸ªæ¹æ³çæºç ï¼\n    \n    @nullable\n    default constructor<?>[] determinecandidateconstructors(class<?> beanclass, string beanname)\n    throws beansexception {\n    \n        return null;\n    }\n    \n    \n    è¿ä¸ªæ¹æ³æä¸ªæ¯è¾éè¦çå®ç°ç±»\n    \n    org.springframework.beans.factory.annotation.autowiredannotationbeanpostprocessor\n    \n    \n    å¯ä»¥å°@autowiredæ æ³¨çæ¹æ³ä½ä¸ºåéæé å¨è¿åã\n\n 6. beançå±æ§å¡«å\n    \n    æ³¨æ\n    \n    bean å±æ§èµå¼åä¼è°ç¨instantiationawarebeanpostprocessoræ¥å£çpostprocesspropertiesæ¹æ³\n    \n    bean å±æ§èµå¼é¶æ®µï¼è¿ä¸ªè¿ç¨æ¯è¾ç®åäºï¼å¾ªç¯å¤çpropertyvaluesä¸­çå±æ§å¼ä¿¡æ¯ï¼éè¿åå°è°ç¨setæ¹æ³å°å±æ§çå¼è®¾ç½®å°beanå®ä¾ä¸­ã\n\n 7. beançåå§åé¶æ®µ\n    \n    * bean aware æ¥å£åè°\n      \n      private void invokeawaremethods(final string beanname, final object bean) {\n              if (bean instanceof aware) {\n                  if (bean instanceof beannameaware) {\n                      ((beannameaware) bean).setbeanname(beanname);\n                  }\n                  if (bean instanceof beanclassloaderaware) {\n                      classloader bcl = getbeanclassloader();\n                      if (bcl != null) {\n                          ((beanclassloaderaware) bean).setbeanclassloader(bcl);\n                      }\n                  }\n                  if (bean instanceof beanfactoryaware) {\n                      ((beanfactoryaware) bean).setbeanfactory(abstractautowirecapablebeanfactory.this);\n                  }\n              }\n          }\n      \n      \n      å¦ææä»¬çbeanå®ä¾å®ç°äºä¸é¢çæ¥å£ï¼ä¼æç§ä¸é¢çé¡ºåºä¾æ¬¡è¿è¡è°ç¨ï¼\n      \n      beannameawareï¼å°beançåç§°æ³¨å¥è¿å»\n      beanclassloaderawareï¼å°beanclassloaderæ³¨å¥è¿å»\n      beanfactoryawareï¼å°beanfactoryæ³¨å¥è¿å»\n      \n    \n    * åå§åå\n      \n      ä¼è°ç¨beanpostprocessorçpostprocessbeforeinitializationæ¹æ³ï¼è¥è¿ånullï¼å½åæ¹æ³å°ç»æã\n    \n    * åå§åé¶æ®µ\n      \n      2ä¸ªæ­¥éª¤\n      \n      1. è°ç¨initializingbeanæ¥å£çafterpropertiessetæ¹æ³\n      2. è°ç¨å®ä¹beançæ¶åæå®çåå§åæ¹æ³ï¼@bean(initmethod = "åå§åçæ¹æ³")ï¼ã\n    \n    * åå§åå\n      \n      è°ç¨beanpostprocessoræ¥å£çpostprocessafterinitializationæ¹æ³ï¼è¿ånullçæ¶åï¼ä¼ä¸­æ­ä¸é¢çæä½ã\n\n 8. beançä½¿ç¨é¶æ®µ\n\n 9. beançéæ¯é¶æ®µ\n    \n    ç¬è®°\n    \n     3. è§¦åbeanéæ¯çå ç§æ¹å¼:\n    \n     4. è°ç¨org.springframework.beans.factory.support.abstractautowirecapablebeanfactory#destroybean\n    \n     5. è°ç¨org.springframework.beans.factory.config.configurablebeanfactory#destroysingletons\n    \n     6. è°ç¨applicationcontextä¸­çcloseæ¹æ³\n    \n    beanéæ¯é¶æ®µä¼ä¾æ¬¡æ§è¡\n    \n     1. è½®è¯¢beanpostprocessorsåè¡¨ï¼å¦ææ¯destructionawarebeanpostprocessorè¿ç§ç±»åçï¼ä¼è°ç¨å¶åé¨çpostprocessbeforedestructionæ¹æ³\n     2. å¦æbeanå®ç°äºorg.springframework.beans.factory.disposablebeanæ¥å£ï¼ä¼è°ç¨è¿ä¸ªæ¥å£ä¸­çdestroyæ¹æ³\n     3. è°ç¨beanèªå®ä¹çéæ¯æ¹æ³(@bean(destroymethod = "éæ¯çæ¹æ³"))\n\n\n# 3.5 beanå¾ªç¯ä¾èµ\n\nå¤ä¸ªbeanä¹é´ç¸äºä¾èµï¼å½¢æäºä¸ä¸ªé­ç¯ã\n\næ£æµå¾ªç¯ä¾èµï¼æ£æµå¾ªç¯ä¾èµæ¯è¾ç®åï¼ä½¿ç¨ä¸ä¸ªåè¡¨æ¥è®°å½æ­£å¨åå»ºä¸­çbeanï¼beanåå»ºä¹åï¼åå»è®°å½ä¸­çä¸ä¸èªå·±æ¯å¦å·²ç»å¨åè¡¨ä¸­äºï¼å¦æå¨ï¼è¯´æå­å¨å¾ªç¯ä¾èµï¼å¦æä¸å¨ï¼åå°å¶å å¥å°è¿ä¸ªåè¡¨ï¼beanåå»ºå®æ¯ä¹åï¼å°å¶åä»è¿ä¸ªåè¡¨ä¸­ç§»é¤ã\n\nè§£å³å¾ªç¯ä¾èµï¼\n\n * æé å¨çå¾ªç¯ä¾èµæ æ³è§£å³\n * åªæåä¾çbeanä¼éè¿ä¸çº§ç¼å­æåæ´é²æ¥è§£å³å¾ªç¯ä¾èµçé®é¢ï¼èéåä¾çbeanï¼æ¯æ¬¡ä»å®¹å¨ä¸­è·åé½æ¯ä¸ä¸ªæ°çå¯¹è±¡ï¼é½ä¼éæ°åå»ºï¼æä»¥éåä¾çbeanæ¯æ²¡æç¼å­çï¼ä¸ä¼å°å¶æ¾å°ä¸çº§ç¼å­ä¸­ã\n\n\n# åãaop\n\né¢ååé¢ç¼ç¨ï¼springä¸­æä¾çä¸äºéå¸¸çé¼çåè½é½æ¯éè¿aopå®ç°çï¼æ¯å¦ä¸é¢è¿äºå¤§å®¶æ¯è¾çæçåè½\n\nspringäºå¡ç®¡çï¼@transactional\n\nspringå¼æ­¥å¤çï¼@enableasync\n\nspringç¼å­ææ¯çä½¿ç¨ï¼@enablecaching\n\nspringä¸­åç§æ¦æªå¨ï¼@enableaspectjautoproxy\n\n\n# 4.1 ä»£ç\n\n# 4.1.1 éæä»£ç\n\n# 4.1.2 å¨æä»£ç\n\n * jdk å¨æä»£ç\n   \n   jdkä¸­ä¸ºå®ç°ä»£çæä¾äºæ¯æï¼ä¸»è¦ç¨å°2ä¸ªç±»ï¼\n   \n   java.lang.reflect.proxy\n   java.lang.reflect.invocationhandler\n   \n   \n   * proxy\n     \n     éé¢çä¸äºéè¦çéææ¹æ³\n     \n     //ä¸ºæå®çæ¥å£åå»ºä»£çç±»ï¼è¿åä»£çç±»çclasså¯¹è±¡\n     public static class<?> getproxyclass(classloader loader,class<?>... interfaces)\n     //åå»ºä»£çç±»çå®ä¾å¯¹è±¡\n     public static object newproxyinstance(classloader loader,\n                                           class<?>[] interfaces,\n                                           invocationhandler h)\n     //å¤æ­æå®çç±»æ¯å¦æ¯ä¸ä¸ªä»£çç±»\n     public static boolean isproxyclass(class<?> cl)\n     //è·åä»£çå¯¹è±¡çinvocationhandlerå¯¹è±¡\n     public static invocationhandler getinvocationhandler(object proxy)\n         throws illegalargumentexception\n     \n     \n     åå»ºæ¹å¼ä¸:\n     \n     ç¬è®°\n     \n      1. è°ç¨proxy.getproxyclassæ¹æ³è·åä»£çç±»çclasså¯¹è±¡\n      2. ä½¿ç¨invocationhandleræ¥å£åå»ºä»£çç±»çå¤çå¨\n      3. éè¿ä»£çç±»åinvocationhandleråå»ºä»£çå¯¹è±¡\n      4. ä¸é¢å·²ç»åå»ºå¥½ä»£çå¯¹è±¡äºï¼æ¥çæä»¬å°±å¯ä»¥ä½¿ç¨ä»£çå¯¹è±¡äº\n     \n     åå»ºæ¹å¼äº:\n     \n     ç¬è®°\n     \n      5. ä½¿ç¨invocationhandleræ¥å£åå»ºä»£çç±»çå¤çå¨\n      6. ä½¿ç¨proxyç±»çéææ¹æ³newproxyinstanceç´æ¥åå»ºä»£çå¯¹è±¡\n      7. ä½¿ç¨ä»£çå¯¹è±¡\n\næ³¨æ\n\njdkå¨æä»£çåªè½ä¸ºæ¥å£ææ¥å£çå®ç°ç±»åå»ºä»£çç±»ï¼ä¸è½ç´æ¥ç»æ®éç±»åå»ºä»£çç±»ã\n\njdkå¨æä»£çæ¯ç¼è¯æ¶å¢å¼ºã\n\n * cglib å¨æä»£ç\n\njdkå¨æä»£çåªè½ä¸ºæ¥å£åå»ºä»£çï¼ä½¿ç¨ä¸æå±éæ§ãå®éçåºæ¯ä¸­æä»¬çç±»ä¸ä¸å®ææ¥å£ï¼æ­¤æ¶å¦ææä»¬æ³ä¸ºæ®éçç±»ä¹å®ç°ä»£çåè½ï¼æä»¬å°±éè¦ç¨å°cglibæ¥å®ç°äºã\n\ncglibæ¯ä¸ä¸ªå¼ºå¤§ãé«æ§è½çå­èç çæåºï¼å®ç¨äºå¨è¿è¡æ¶æ©å±javaç±»åå®ç°æ¥å£ï¼æ¬è´¨ä¸å®æ¯éè¿å¨æççæä¸ä¸ªå­ç±»å»è¦çæè¦ä»£ççç±»ï¼éfinalä¿®é¥°çç±»åæ¹æ³ï¼ãenhancerå¯è½æ¯cglibä¸­æå¸¸ç¨çä¸ä¸ªç±»ï¼åjdkä¸­çproxyä¸åçæ¯ï¼enhanceræ¢è½å¤ä»£çæ®éçclassï¼ä¹è½å¤ä»£çæ¥å£ã\n\nåå»ºæ¹å¼ï¼\n\nç¬è®°\n\n 1. å®ä¹ä¸ä¸ªç±»ï¼\n 2. èªå®ä¹ methodinterceptor å¹¶éå intercept æ¹æ³ï¼interceptç¨äºæ¦æªå¢å¼ºè¢«ä»£çç±»çæ¹æ³ï¼å jdk å¨æä»£çä¸­ç invoke æ¹æ³ç±»ä¼¼ï¼\n 3. éè¿ enhancer ç±»ç create()åå»ºä»£çç±»ï¼\n\nç¹ç¹ï¼\n\n 1. cglibå¼¥è¡¥äºjdkå¨æä»£ççä¸è¶³ï¼jdkå¨æä»£çåªè½ä¸ºæ¥å£åå»ºä»£çï¼ècglibéå¸¸å¼ºå¤§ï¼ä¸ç®¡æ¯æ¥å£è¿æ¯ç±»ï¼é½å¯ä»¥ä½¿ç¨cglibæ¥åå»ºä»£ç\n 2. cglibåå»ºä»£ççè¿ç¨ï¼ç¸å½äºåå»ºäºä¸ä¸ªæ°çç±»ï¼å¯ä»¥éè¿cglibæ¥éç½®è¿ä¸ªæ°çç±»éè¦å®ç°çæ¥å£ï¼ä»¥åéè¦ç»§æ¿çç¶ç±»\n 3. cglibå¯ä»¥ä¸ºç±»åå»ºä»£çï¼ä½æ¯è¿ä¸ªç±»ä¸è½æ¯finalç±»åçï¼cglibä¸ºç±»åå»ºä»£ççè¿ç¨ï¼å®éä¸ä¸ºéè¿ç»§æ¿æ¥å®ç°çï¼ç¸å½äºç»éè¦è¢«ä»£ççç±»åå»ºäºä¸ä¸ªå­ç±»ï¼ç¶åä¼éåç¶ç±»ä¸­çæ¹æ³ï¼æ¥è¿è¡å¢å¼ºï¼ç»§æ¿çç¹æ§å¤§å®¶åºè¯¥é½ç¥éï¼finalä¿®é¥°çç±»æ¯ä¸è½è¢«ç»§æ¿çï¼finalä¿®é¥°çæ¹æ³ä¸è½è¢«éåï¼staticä¿®é¥°çæ¹æ³ä¹ä¸è½è¢«éåï¼privateä¿®é¥°çæ¹æ³ä¹ä¸è½è¢«å­ç±»éåï¼èå¶ä»ç±»åçæ¹æ³é½å¯ä»¥è¢«å­ç±»éåï¼è¢«éåçè¿äºæ¹æ³å¯ä»¥éè¿cglibè¿è¡æ¦æªå¢å¼º\n\n\n# 4.2 aopçä¸äºæ¦å¿µ\n\n * ç®æ å¯¹è±¡(target)\n   \n   ç®æ å¯¹è±¡æå°è¦è¢«å¢å¼ºçå¯¹è±¡ï¼å³åå«ä¸»ä¸å¡é»è¾çç±»å¯¹è±¡ã\n\n * è¿æ¥ç¹(joinpoint)\n   \n   ç¨åºæ§è¡è¿ç¨ä¸­æç¡®çç¹ï¼å¦æ¹æ³çè°ç¨æç¹å®çå¼å¸¸è¢«æåºã\n   \n   è¿æ¥ç¹ç±ä¸¤ä¸ªä¿¡æ¯ç¡®å®ï¼\n   \n   æ¹æ³(è¡¨ç¤ºç¨åºæ§è¡ç¹ï¼å³å¨åªä¸ªç®æ æ¹æ³)\n   \n   ç¸å¯¹ç¹(è¡¨ç¤ºæ¹ä½ï¼å³ç®æ æ¹æ³çä»ä¹ä½ç½®ï¼æ¯å¦è°ç¨åï¼åç­)\n   \n   ç®åæ¥è¯´ï¼è¿æ¥ç¹å°±æ¯è¢«æ¦æªå°çç¨åºæ§è¡ç¹ï¼å ä¸ºspringåªæ¯ææ¹æ³ç±»åçè¿æ¥ç¹ï¼æä»¥å¨springä¸­è¿æ¥ç¹å°±æ¯è¢«æ¦æªå°çæ¹æ³ã\n\n * ä»£çå¯¹è±¡(proxy)\n   \n   aopä¸­ä¼éè¿ä»£ççæ¹å¼ï¼å¯¹ç®æ å¯¹è±¡çæä¸ä¸ªä»£çå¯¹è±¡ï¼ä»£çå¯¹è±¡ä¸­ä¼å å¥éè¦å¢å¼ºåè½ï¼éè¿ä»£çå¯¹è±¡æ¥é´æ¥çæ¹å¼ç®æ å¯¹è±¡ï¼èµ·å°å¢å¼ºç®æ å¯¹è±¡çææã\n\n * éç¥(advice)\n   \n   éè¦å¨ç®æ å¯¹è±¡ä¸­å¢å¼ºçåè½ï¼å¦ä¸é¢è¯´çï¼ä¸å¡æ¹æ³åéªè¯ç¨æ·çåè½ãæ¹æ³æ§è¡ä¹åæå°æ¹æ³çæ§è¡æ¥å¿ã\n   \n   éç¥ä¸­æ2ä¸ªéè¦çä¿¡æ¯ï¼æ¹æ³çä»ä¹å°æ¹ï¼æ§è¡ä»ä¹æä½ï¼è¿2ä¸ªä¿¡æ¯éè¿éç¥æ¥æå®ã\n   \n   æ¹æ³çä»ä¹å°æ¹ï¼ä¹åãä¹åãåè£¹ç®æ æ¹æ³ãæ¹æ³æåºå¼å¸¸åç­ã\n   \n   å¦ï¼\n   \n   å¨æ¹æ³æ§è¡ä¹åéªè¯ç¨æ·æ¯å¦ææã\n   \n   å¨æ¹æ³æ§è¡ä¹åï¼æå°æ¹æ³çæ§è¡èæ¶ã\n   \n   å¨æ¹æ³æåºå¼å¸¸åï¼è®°å½å¼å¸¸ä¿¡æ¯åéå°mqã\n\n * åå¥ç¹(pointcut )\n   \n   ç¨æ¥æå®éè¦å°éç¥ä½¿ç¨å°åªäºå°æ¹ï¼æ¯å¦éè¦ç¨å¨åªäºç±»çåªäºæ¹æ³ä¸ï¼åå¥ç¹å°±æ¯åè¿ä¸ªéç½®çã\n\n * åé¢ï¼aspectï¼\n   \n   éç¥ï¼adviceï¼ååå¥ç¹ï¼pointcutï¼çç»åãåé¢æ¥å®ä¹å¨åªäºå°æ¹ï¼pointcutï¼æ§è¡ä»ä¹æä½ï¼adviceï¼ã\n\n * é¡¾é®ï¼advisor)\n   \n   advisor å¶å®å®å°±æ¯ pointcut ä¸ advice çç»åï¼advice æ¯è¦å¢å¼ºçé»è¾ï¼èå¢å¼ºçé»è¾è¦å¨ä»ä¹å°æ¹æ§è¡æ¯éè¿pointcutæ¥æå®çï¼æä»¥ advice å¿éä¸ pointcut ç»åå¨ä¸èµ·ï¼è¿å°±è¯çäº advisor è¿ä¸ªç±»ï¼spring aopä¸­æä¾äºä¸ä¸ªadvisoræ¥å£å°pointcut ä¸ advice çç»åèµ·æ¥ã\n   \n   advisoræå¥½å ä¸ªç§°å¼ï¼é¡¾é®ãéç¥å¨ã\n\n\n# äºãäºå¡\n\nspring ä½¿ç¨äºå¡çä¸¤ç§æ¹å¼ï¼\n\n * ç¼ç¨å¼äºå¡:ç¡¬ç¼ç çæ¹å¼\n * å£°æå¼äºå¡:@transactionçæ¹å¼\n\n\n# 5.1 ç¼ç¨å¼äºå¡\n\n\n# 5.2 å£°æå¼äºå¡\n\næè°å£°æå¼äºå¡ï¼å°±æ¯éè¿éç½®çæ¹å¼ï¼æ¯å¦éè¿éç½®æä»¶ï¼xmlï¼æèæ³¨è§£çæ¹å¼ï¼åè¯springï¼åªäºæ¹æ³éè¦springå¸®å¿ç®¡çäºå¡ï¼ç¶åå¼åèåªç¨å³æ³¨ä¸å¡ä»£ç ï¼èäºå¡çäºæspringèªå¨å¸®æä»¬æ§å¶ã\n\n# 5.2.1 ç¸å³æ³¨è§£\n\n * @enabletransactionmanagement\n   \n   ç¬è®°\n   \n   å½springå®¹å¨å¯å¨çæ¶åï¼åç°æ@enabletransactionmanagementæ³¨è§£ï¼æ­¤æ¶ä¼æ¦æªææbeançåå»ºï¼æ«æçä¸ä¸beanä¸æ¯å¦æ@transactionæ³¨è§£ï¼ç±»ãæèç¶ç±»ãæèæ¥å£ãæèæ¹æ³ä¸­æè¿ä¸ªæ³¨è§£é½å¯ä»¥ï¼ï¼å¦ææè¿ä¸ªæ³¨è§£ï¼springä¼éè¿aopçæ¹å¼ç»beançæä»£çå¯¹è±¡ï¼ä»£çå¯¹è±¡ä¸­ä¼å¢å ä¸ä¸ªæ¦æªå¨ï¼æ¦æªå¨ä¼æ¦æªbeanä¸­publicæ¹æ³æ§è¡ï¼ä¼å¨æ¹æ³æ§è¡ä¹åå¯å¨äºå¡ï¼æ¹æ³æ§è¡å®æ¯ä¹åæäº¤æèåæ»äºå¡ã\n   \n   * å®ä¹äºå¡ç®¡çå¨ äºå¡äº¤ç»springç®¡çï¼é£ä¹ä½ è¯å®è¦åå»ºä¸ä¸ªæèå¤ä¸ªäºå¡ç®¡çèï¼æè¿äºç®¡çèæ¥ç®¡çå·ä½çäºå¡ï¼æ¯å¦å¯å¨äºå¡ãæäº¤äºå¡ãåæ»äºå¡ï¼è¿äºé½æ¯ç®¡çèæ¥è´è´£çã\n   \n   springä¸­ä½¿ç¨platformtransactionmanagerè¿ä¸ªæ¥å£æ¥è¡¨ç¤ºäºå¡ç®¡çèã\n   \n   platformtransactionmanagerå¤ä¸ªå®ç°ç±»ï¼ç¨æ¥åºå¯¹ä¸åçç¯å¢\n   \n   1. jpatransactionmanagerï¼å¦æä½ ç¨jpaæ¥æä½dbï¼é£ä¹éè¦ç¨è¿ä¸ªç®¡çå¨æ¥å¸®ä½ æ§å¶äºå¡ã\n   2. datasourcetransactionmanagerï¼å¦æä½ ç¨æ¯æå®æ°æ®æºçæ¹å¼ï¼æ¯å¦æä½æ°æ®åºç¨çæ¯ï¼jdbctemplateãmybatis ibatisï¼é£ä¹éè¦ç¨è¿ä¸ªç®¡çå¨æ¥å¸®ä½ æ§å¶äºå¡ã\n   3. hibernatetransactionmanagerï¼å¦æä½ ç¨hibernateæ¥æä½dbï¼é£ä¹éè¦ç¨è¿ä¸ªç®¡çå¨æ¥å¸®ä½ æ§å¶äºå¡\n   4. jtatransactionmanagerï¼å¦æä½ ç¨çæ¯javaä¸­çjtaæ¥æä½dbï¼è¿ç§éå¸¸æ¯åå¸å¼äºå¡ï¼æ­¤æ¶éè¦ç¨è¿ç§ç®¡çå¨æ¥æ§å¶äºå¡ã\n\n * @transaction\n   \n   éä½¿ç¨äºå¡çç®æ ä¸å @transactionæ³¨è§£\n   \n   * @transactionæ¾å¨æ¥å£ä¸ï¼é£ä¹æ¥å£çå®ç°ç±»ä¸­ææpublicé½è¢«springèªå¨å ä¸äºå¡\n   * @transactionæ¾å¨ç±»ä¸ï¼é£ä¹å½åç±»ä»¥åå¶ä¸æ éçº§å­ç±»ä¸­ææpubilcæ¹æ³å°è¢«springèªå¨å ä¸äºå¡\n   * @transactionæ¾å¨publicæ¹æ³ä¸ï¼é£ä¹è¯¥æ¹æ³å°è¢«springèªå¨å ä¸äºå¡\n   * æ³¨æï¼@transactionåªå¯¹publicæ¹æ³ææ\n\n# 5.2.2 äºå¡çä¼ æ­è¡ä¸º\n\näºå¡ä¼ æ­è¡ä¸ºï¼propagation behaviorï¼æçå°±æ¯å½ä¸ä¸ªäºå¡æ¹æ³è¢«å¦ä¸ä¸ªäºå¡æ¹æ³è°ç¨æ¶ï¼è¿ä¸ªäºå¡æ¹æ³åºè¯¥å¦ä½è¿è¡ã\n\n\n\n 1. propagation_required',charsets:{cjk:!0},lastUpdated:"2022/04/15, 21:19:01",lastUpdatedTimestamp:1650028741e3},{title:"JWT",frontmatter:{title:"JWT",date:"2022-04-07T20:26:24.000Z",permalink:"/pages/ce6c78/"},regularPath:"/02.%E6%A1%86%E6%9E%B6/01.Spring/10.%E5%AE%89%E5%85%A8%E6%A1%86%E6%9E%B6/01.JWT.html",relativePath:"02.æ¡æ¶/01.Spring/10.å®å¨æ¡æ¶/01.JWT.md",key:"v-33a08dcd",path:"/pages/ce6c78/",headers:[{level:2,title:"åå±å²",slug:"åå±å²",normalizedTitle:"åå±å²",charIndex:2},{level:2,title:"Cookie",slug:"cookie",normalizedTitle:"cookie",charIndex:1871},{level:2,title:"Session",slug:"session",normalizedTitle:"session",charIndex:2095},{level:2,title:"Token",slug:"token",normalizedTitle:"token",charIndex:1545},{level:2,title:"Tokençèµ·æº",slug:"tokençèµ·æº",normalizedTitle:"tokençèµ·æº",charIndex:2726},{level:3,title:"åºäºæå¡å¨çéªè¯",slug:"åºäºæå¡å¨çéªè¯",normalizedTitle:"åºäºæå¡å¨çéªè¯",charIndex:2782},{level:3,title:"åºäºæå¡å¨éªè¯æ¹å¼æ´é²çä¸äºé®é¢",slug:"åºäºæå¡å¨éªè¯æ¹å¼æ´é²çä¸äºé®é¢",normalizedTitle:"åºäºæå¡å¨éªè¯æ¹å¼æ´é²çä¸äºé®é¢",charIndex:2949},{level:3,title:"åºäºTokençéªè¯åç",slug:"åºäºtokençéªè¯åç",normalizedTitle:"åºäºtokençéªè¯åç",charIndex:3281},{level:2,title:"Tokensçä¼å¿",slug:"tokensçä¼å¿",normalizedTitle:"tokensçä¼å¿",charIndex:3958}],headersStr:"åå±å² Cookie Session Token Tokençèµ·æº åºäºæå¡å¨çéªè¯ åºäºæå¡å¨éªè¯æ¹å¼æ´é²çä¸äºé®é¢ åºäºTokençéªè¯åç Tokensçä¼å¿",content:"# åå±å²\n\n1ãå¾ä¹å¾ä¹ä»¥åï¼Web åºæ¬ä¸å°±æ¯ææ¡£çæµè§èå·²ï¼ æ¢ç¶æ¯æµè§ï¼ä½ä¸ºæå¡å¨ï¼ ä¸éè¦è®°å½è°å¨æä¸æ®µæ¶é´éé½æµè§äºä»ä¹ææ¡£ï¼æ¯æ¬¡è¯·æ±é½æ¯ä¸ä¸ªæ°çHTTPåè®®ï¼ å°±æ¯è¯·æ±å ååºï¼ å°¤å¶æ¯æä¸ç¨è®°ä½æ¯è°åååäºHTTPè¯·æ±ï¼ æ¯ä¸ªè¯·æ±å¯¹ææ¥è¯´é½æ¯å¨æ°çãè¿æ®µæ¶é´å¾å¨ç®ã\n\n2ãä½æ¯éçäº¤äºå¼Webåºç¨çå´èµ·ï¼åå¨çº¿è´­ç©ç½ç«ï¼éè¦ç»å½çç½ç«ç­ç­ï¼é©¬ä¸å°±é¢ä¸´ä¸ä¸ªé®é¢ï¼é£å°±æ¯è¦ç®¡çä¼è¯ï¼å¿é¡»è®°ä½åªäºäººç»å½ç³»ç»ï¼ åªäºäººå¾èªå·±çè´­ç©è½¦ä¸­æ¾ååï¼ ä¹å°±æ¯è¯´æå¿é¡»ææ¯ä¸ªäººåºåå¼ï¼è¿å°±æ¯ä¸ä¸ªä¸å°çææï¼å ä¸ºHTTPè¯·æ±æ¯æ ç¶æçï¼æä»¥æ³åºçåæ³å°±æ¯ç»å¤§å®¶åä¸ä¸ªä¼è¯æ è¯(session id), è¯´ç½äºå°±æ¯ä¸ä¸ªéæºçå­ä¸²ï¼æ¯ä¸ªäººæ¶å°çé½ä¸ä¸æ ·ï¼ æ¯æ¬¡å¤§å®¶åæåèµ·HTTPè¯·æ±çæ¶åï¼æè¿ä¸ªå­ç¬¦ä¸²ç»ä¸å¹¶æè¿æ¥ï¼ è¿æ ·æå°±è½åºåå¼è°æ¯è°äº\n\n3ãè¿æ ·å¤§å®¶å¾å¨ç®äºï¼å¯æ¯æå¡å¨å°±ä¸å¨ç®äºï¼æ¯ä¸ªäººåªéè¦ä¿å­èªå·±çsession idï¼èæå¡å¨è¦ä¿å­ææäººçsession id ï¼å¦æè®¿é®æå¡å¨å¤äºï¼ å°±å¾ç±æåä¸ä¸ï¼çè³å åä¸ä¸ªã\n\nè¿å¯¹æå¡å¨è¯´æ¯ä¸ä¸ªå·¨å¤§çå¼é ï¼ ä¸¥éçéå¶äºæå¡å¨æ©å±è½åï¼ æ¯å¦è¯´æç¨ä¸¤ä¸ªæºå¨ç»æäºä¸ä¸ªéç¾¤ï¼ å°Féè¿æºå¨Aç»å½äºç³»ç»ï¼ é£session idä¼ä¿å­å¨æºå¨Aä¸ï¼ åè®¾å°Fçä¸ä¸æ¬¡è¯·æ±è¢«è½¬åå°æºå¨Bæä¹åï¼æºå¨Bå¯æ²¡æå°Fç session idåã\n\nææ¶åä¼éç¨ä¸ç¹å°ä¼ä¿©ï¼ session sticky ï¼ å°±æ¯è®©å°Fçè¯·æ±ä¸ç´ç²è¿å¨æºå¨Aä¸ï¼ ä½æ¯è¿ä¹ä¸ç®¡ç¨ï¼ è¦æ¯æºå¨Aææäºï¼ è¿å¾è½¬å°æºå¨Bå»ã\n\né£åªå¥½åsession çå¤å¶äºï¼ æsession id å¨ä¸¤ä¸ªæºå¨ä¹é´æ¬æ¥æ¬å»ï¼ å¿«ç´¯æ­»äºã\n\n\n\nåæ¥æä¸ªå«Memcachedçæ¯äºæï¼æsession id éä¸­å­å¨å°ä¸ä¸ªå°æ¹ï¼ ææçæºå¨é½æ¥è®¿é®è¿ä¸ªå°æ¹çæ°æ®ï¼ è¿æ ·ä¸æ¥ï¼å°±ä¸ç¨å¤å¶äºï¼ ä½æ¯å¢å äºåç¹å¤±è´¥çå¯è½æ§ï¼ è¦æ¯é£ä¸ªè´è´£session çæºå¨æäºï¼ ææäººé½å¾éæ°ç»å½ä¸éï¼ ä¼°è®¡å¾è¢«äººéªæ­»ã\n\n\n\nä¹å°è¯æè¿ä¸ªåç¹çæºå¨ä¹æåºéç¾¤ï¼å¢å å¯é æ§ï¼ ä½ä¸ç®¡å¦ä½ï¼ è¿å°å°çsession å¯¹ææ¥è¯´æ¯ä¸ä¸ªæ²éçè´æ\n\n4ãäºæ¯æäººå°±ä¸ç´å¨æèï¼ æä¸ºä»ä¹è¦ä¿å­è¿å¯æ¶çsessionå¢ï¼ åªè®©æ¯ä¸ªå®¢æ·ç«¯å»ä¿å­è¯¥å¤å¥½ï¼\n\nå¯æ¯å¦ æä¸ä¿å­è¿äºsession id , æä¹éªè¯å®¢æ·ç«¯åç»æçsession id çç¡®æ¯æçæçå¢ï¼ å¦æä¸å»éªè¯ï¼æä»¬é½ä¸ç¥éä»ä»¬æ¯ä¸æ¯åæ³ç»å½çç¨æ·ï¼ é£äºä¸æå¥½æçå®¶ä¼ä»¬å°±å¯ä»¥ä¼ªé session id , ä¸ºææ¬²ä¸ºäºã\n\nå¯ï¼å¯¹äºï¼å³é®ç¹å°±æ¯éªè¯ ï¼\n\næ¯å¦è¯´ï¼ å°Få·²ç»ç»å½äºç³»ç»ï¼ æç»ä»åä¸ä¸ªä»¤ç(token)ï¼ éè¾¹åå«äºå°Fç user idï¼ ä¸ä¸æ¬¡å°F åæ¬¡éè¿Http è¯·æ±è®¿é®æçæ¶åï¼ æè¿ä¸ªtoken éè¿Http header å¸¦è¿æ¥ä¸å°±å¯ä»¥äºã\n\nä¸è¿è¿åsession idæ²¡ææ¬è´¨åºå«åï¼ ä»»ä½äººé½å¯ä»¥å¯ä»¥ä¼ªé ï¼ æä»¥æå¾æ³ç¹å¿åæ³ï¼ è®©å«äººä¼ªé ä¸äºã\n\né£å°±å¯¹æ°æ®åä¸ä¸ªç­¾åå§ï¼ æ¯å¦è¯´æç¨HMAC-SHA256 ç®æ³ï¼å ä¸ä¸ä¸ªåªæææç¥éçå¯é¥ï¼ å¯¹æ°æ®åä¸ä¸ªç­¾åï¼ æè¿ä¸ªç­¾ååæ°æ®ä¸èµ·ä½ä¸ºtoken ï¼ ç±äºå¯é¥å«äººä¸ç¥éï¼ å°±æ æ³ä¼ªé tokenäºã\n\n\n\nè¿ä¸ªtoken æä¸ä¿å­ï¼ å½å°Fæè¿ä¸ªtoken ç»æåè¿æ¥çæ¶åï¼æåç¨åæ ·çHMAC-SHA256 ç®æ³ååæ ·çå¯é¥ï¼å¯¹æ°æ®åè®¡ç®ä¸æ¬¡ç­¾åï¼ åtoken ä¸­çç­¾ååä¸ªæ¯è¾ï¼ å¦æç¸åï¼ æå°±ç¥éå°Få·²ç»ç»å½è¿äºï¼å¹¶ä¸å¯ä»¥ç´æ¥åå°å°Fçuser id , å¦æä¸ç¸åï¼ æ°æ®é¨åè¯å®è¢«äººç¯¡æ¹è¿ï¼ æå°±åè¯åéèï¼å¯¹ä¸èµ·ï¼æ²¡æè®¤è¯ã\n\n\n\nToken ä¸­çæ°æ®æ¯ææä¿å­çï¼è½ç¶æä¼ç¨Base64åä¸ç¼ç ï¼ ä½é£ä¸æ¯å å¯ï¼ï¼ è¿æ¯å¯ä»¥è¢«å«äººçå°çï¼ æä»¥æä¸è½å¨å¶ä¸­ä¿å­åå¯ç è¿æ ·çææä¿¡æ¯ã\n\nå½ç¶ï¼ å¦æä¸ä¸ªäººçtoken è¢«å«äººå·èµ°äºï¼ é£æä¹æ²¡åæ³ï¼ æä¹ä¼è®¤ä¸ºå°å·å°±æ¯åæ³ç¨æ·ï¼ è¿å¶å®åä¸ä¸ªäººçsession id è¢«å«äººå·èµ°æ¯ä¸æ ·çã\n\nè¿æ ·ä¸æ¥ï¼ æå°±ä¸ä¿å­session id äºï¼ æåªæ¯çætoken , ç¶åéªè¯token ï¼ æç¨æçCPUè®¡ç®æ¶é´è·åäºæç session å­å¨ç©ºé´ ï¼\n\nè§£é¤äºsession idè¿ä¸ªè´æï¼ å¯ä»¥è¯´æ¯æ äºä¸èº«è½»ï¼ æçæºå¨éç¾¤ç°å¨å¯ä»¥è½»æ¾å°åæ°´å¹³æ©å±ï¼ ç¨æ·è®¿é®éå¢å¤§ï¼ ç´æ¥å æºå¨å°±è¡ãè¿ç§æ ç¶æçæè§å®å¨æ¯å¤ªå¥½äºï¼\n\n\n# Cookie\n\ncookie æ¯ä¸ä¸ªéå¸¸å·ä½çä¸è¥¿ï¼æçå°±æ¯æµè§å¨éé¢è½æ°¸ä¹å­å¨çä¸ç§æ°æ®ï¼ä»ä»æ¯æµè§å¨å®ç°çä¸ç§æ°æ®å­å¨åè½ã\n\ncookieç±æå¡å¨çæï¼åéç»æµè§å¨ï¼æµè§å¨æcookieä»¥kvå½¢å¼ä¿å­å°æä¸ªç®å½ä¸çææ¬æä»¶åï¼ä¸ä¸æ¬¡è¯·æ±åä¸ç½ç«æ¶ä¼æè¯¥cookieåéç»æå¡å¨ãç±äºcookieæ¯å­å¨å®¢æ·ç«¯ä¸çï¼æä»¥æµè§å¨å å¥äºä¸äºéå¶ç¡®ä¿cookieä¸ä¼è¢«æ¶æä½¿ç¨ï¼åæ¶ä¸ä¼å æ®å¤ªå¤ç£çç©ºé´ï¼æä»¥æ¯ä¸ªåçcookieæ°éæ¯æéçã\n\n\n# Session\n\nsession ä»å­é¢ä¸è®²ï¼å°±æ¯ä¼è¯ãè¿ä¸ªå°±ç±»ä¼¼äºä½ åä¸ä¸ªäººäº¤è°ï¼ä½ æä¹ç¥éå½ååä½ äº¤è°çæ¯å¼ ä¸èä¸æ¯æåå¢ï¼å¯¹æ¹è¯å®ææç§ç¹å¾ï¼é¿ç¸ç­ï¼è¡¨æä»å°±æ¯å¼ ä¸ã\n\nsession ä¹æ¯ç±»ä¼¼çéçï¼æå¡å¨è¦ç¥éå½ååè¯·æ±ç»èªå·±çæ¯è°ãä¸ºäºåè¿ç§åºåï¼æå¡å¨å°±è¦ç»æ¯ä¸ªå®¢æ·ç«¯åéä¸åçâèº«ä»½æ è¯âï¼ç¶åå®¢æ·ç«¯æ¯æ¬¡åæå¡å¨åè¯·æ±çæ¶åï¼é½å¸¦ä¸è¿ä¸ªâèº«ä»½æ è¯âï¼æå¡å¨å°±ç¥éè¿ä¸ªè¯·æ±æ¥èªäºè°äºãè³äºå®¢æ·ç«¯æä¹ä¿å­è¿ä¸ªâèº«ä»½æ è¯âï¼å¯ä»¥æå¾å¤ç§æ¹å¼ï¼å¯¹äºæµè§å¨å®¢æ·ç«¯ï¼å¤§å®¶é½é»è®¤éç¨ cookie çæ¹å¼ã\n\næå¡å¨ä½¿ç¨sessionæç¨æ·çä¿¡æ¯ä¸´æ¶ä¿å­å¨äºæå¡å¨ä¸ï¼ç¨æ·ç¦»å¼ç½ç«åsessionä¼è¢«éæ¯ãè¿ç§ç¨æ·ä¿¡æ¯å­å¨æ¹å¼ç¸å¯¹cookieæ¥è¯´æ´å®å¨ï¼å¯æ¯sessionæä¸ä¸ªç¼ºé·ï¼å¦æwebæå¡å¨åäºè´è½½åè¡¡ï¼é£ä¹ä¸ä¸ä¸ªæä½è¯·æ±å°äºå¦ä¸å°æå¡å¨çæ¶åsessionä¼ä¸¢å¤±ã\n\n\n# Token\n\nå¨Webé¢ååºäºTokençèº«ä»½éªè¯éå¤å¯è§ãå¨å¤§å¤æ°ä½¿ç¨Web APIçäºèç½å¬å¸ä¸­ï¼tokens æ¯å¤ç¨æ·ä¸å¤çè®¤è¯çæä½³æ¹å¼ã\n\nä»¥ä¸å ç¹ç¹æ§ä¼è®©ä½ å¨ç¨åºä¸­ä½¿ç¨åºäºTokençèº«ä»½éªè¯\n\n 1. æ ç¶æãå¯æ©å±\n 2. æ¯æç§»å¨è®¾å¤\n 3. è·¨ç¨åºè°ç¨\n 4. å®å¨\n\né£äºä½¿ç¨åºäºTokençèº«ä»½éªè¯çå¤§ä½¬ä»¬\n\nå¤§é¨åä½ è§å°è¿çAPIåWebåºç¨é½ä½¿ç¨tokensãä¾å¦Facebook, Twitter, Google+, GitHubç­ã\n\n\n# Tokençèµ·æº\n\nå¨ä»ç»åºäºTokençèº«ä»½éªè¯çåçä¸ä¼å¿ä¹åï¼ä¸å¦¨åççä¹åçè®¤è¯é½æ¯æä¹åçã\n\n\n# åºäºæå¡å¨çéªè¯\n\næä»¬é½æ¯ç¥éHTTPåè®®æ¯æ ç¶æçï¼è¿ç§æ ç¶ææå³çç¨åºéè¦éªè¯æ¯ä¸æ¬¡è¯·æ±ï¼ä»èè¾¨å«å®¢æ·ç«¯çèº«ä»½ã\n\nå¨è¿ä¹åï¼ç¨åºé½æ¯éè¿å¨æå¡ç«¯å­å¨çç»å½ä¿¡æ¯æ¥è¾¨å«è¯·æ±çãè¿ç§æ¹å¼ä¸è¬é½æ¯éè¿å­å¨Sessionæ¥å®æã\n\néçWebï¼åºç¨ç¨åºï¼å·²ç»ç§»å¨ç«¯çå´èµ·ï¼è¿ç§éªè¯çæ¹å¼éæ¸æ´é²åºäºé®é¢ãå°¤å¶æ¯å¨å¯æ©å±æ§æ¹é¢ã\n\n\n# åºäºæå¡å¨éªè¯æ¹å¼æ´é²çä¸äºé®é¢\n\n 1. Seesionï¼ æ¯æ¬¡è®¤è¯ç¨æ·åèµ·è¯·æ±æ¶ï¼æå¡å¨éè¦å»åå»ºä¸ä¸ªè®°å½æ¥å­å¨ä¿¡æ¯ãå½è¶æ¥è¶å¤çç¨æ·åè¯·æ±æ¶ï¼åå­çå¼éä¹ä¼ä¸æ­å¢å ã\n 2. å¯æ©å±æ§ï¼ å¨æå¡ç«¯çåå­ä¸­ä½¿ç¨Seesionå­å¨ç»å½ä¿¡æ¯ï¼ä¼´éèæ¥çæ¯å¯æ©å±æ§é®é¢ã\n 3. CORS(è·¨åèµæºå±äº«)ï¼ å½æä»¬éè¦è®©æ°æ®è·¨å¤å°ç§»å¨è®¾å¤ä¸ä½¿ç¨æ¶ï¼è·¨åèµæºçå±äº«ä¼æ¯ä¸ä¸ªè®©äººå¤´ç¼çé®é¢ãå¨ä½¿ç¨Ajaxæåå¦ä¸ä¸ªåçèµæºï¼å°±å¯ä»¥ä¼åºç°ç¦æ­¢è¯·æ±çæåµã\n 4. CSRF(è·¨ç«è¯·æ±ä¼ªé )ï¼ ç¨æ·å¨è®¿é®é¶è¡ç½ç«æ¶ï¼ä»ä»¬å¾å®¹æåå°è·¨ç«è¯·æ±ä¼ªé çæ»å»ï¼å¹¶ä¸è½å¤è¢«å©ç¨å¶è®¿é®å¶ä»çç½ç«ã\n\nå¨è¿äºé®é¢ä¸­ï¼å¯æ©å±è¡æ¯æçªåºçãå æ­¤æä»¬æå¿è¦å»å¯»æ±ä¸ç§æ´æè¡ä¹ææçæ¹æ³ã\n\n\n# åºäºTokençéªè¯åç\n\nåºäºTokençèº«ä»½éªè¯æ¯æ ç¶æçï¼æä»¬ä¸å°ç¨æ·ä¿¡æ¯å­å¨æå¡å¨æSessionä¸­ã\n\nè¿ç§æ¦å¿µè§£å³äºå¨æå¡ç«¯å­å¨ä¿¡æ¯æ¶çè®¸å¤é®é¢\n\n> NoSessionæå³çä½ çç¨åºå¯ä»¥æ ¹æ®éè¦å»å¢åæºå¨ï¼èä¸ç¨å»æå¿ç¨æ·æ¯å¦ç»å½ã\n\nåºäºTokençèº«ä»½éªè¯çè¿ç¨å¦ä¸:\n\n 1. ç¨æ·éè¿ç¨æ·ååå¯ç åéè¯·æ±ã\n 2. ç¨åºéªè¯ã\n 3. ç¨åºè¿åä¸ä¸ªç­¾åçtoken ç»å®¢æ·ç«¯ã\n 4. å®¢æ·ç«¯å¨å­token,å¹¶ä¸æ¯æ¬¡ç¨äºæ¯æ¬¡åéè¯·æ±ã\n 5. æå¡ç«¯éªè¯tokenå¹¶è¿åæ°æ®ã\n\næ¯ä¸æ¬¡è¯·æ±é½éè¦tokenãtokenåºè¯¥å¨HTTPçå¤´é¨åéä»èä¿è¯äºHttpè¯·æ±æ ç¶æãæä»¬åæ ·éè¿è®¾ç½®æå¡å¨å±æ§Access-Control-Allow-Origin:* ï¼è®©æå¡å¨è½æ¥åå°æ¥èªææåçè¯·æ±ã\n\néè¦ä¸»è¦çæ¯ï¼å¨ACAOå¤´é¨æ æ(designating)*æ¶ï¼ä¸å¾å¸¦æåHTTPè®¤è¯ï¼å®¢æ·ç«¯SSLè¯ä¹¦åcookiesçè¯ä¹¦ã\n\nå®ç°æè·¯ï¼\n\n\n\n 1. ç¨æ·ç»å½æ ¡éªï¼æ ¡éªæååå°±è¿åTokenç»å®¢æ·ç«¯ã\n 2. å®¢æ·ç«¯æ¶å°æ°æ®åä¿å­å¨å®¢æ·ç«¯\n 3. å®¢æ·ç«¯æ¯æ¬¡è®¿é®APIæ¯æºå¸¦Tokenå°æå¡å¨ç«¯ã\n 4. æå¡å¨ç«¯éç¨filterè¿æ»¤å¨æ ¡éªãæ ¡éªæååè¿åè¯·æ±æ°æ®ï¼æ ¡éªå¤±è´¥åè¿åéè¯¯ç \n\nå½æä»¬å¨ç¨åºä¸­è®¤è¯äºä¿¡æ¯å¹¶åå¾tokenä¹åï¼æä»¬ä¾¿è½éè¿è¿ä¸ªTokenåè®¸å¤çäºæã\n\næä»¬çè³è½åºäºåå»ºä¸ä¸ªåºäºæéçtokenä¼ ç»ç¬¬ä¸æ¹åºç¨ç¨åºï¼è¿äºç¬¬ä¸æ¹ç¨åºè½å¤è·åå°æä»¬çæ°æ®ï¼å½ç¶åªæå¨æä»¬åè®¸çç¹å®çtokenï¼\n\n\n# Tokensçä¼å¿\n\næ ç¶æãå¯æ©å±\n\nå¨å®¢æ·ç«¯å­å¨çTokensæ¯æ ç¶æçï¼å¹¶ä¸è½å¤è¢«æ©å±ãåºäºè¿ç§æ ç¶æåä¸å­å¨Sessionä¿¡æ¯ï¼è´è½½è´è½½åè¡¡å¨è½å¤å°ç¨æ·ä¿¡æ¯ä»ä¸ä¸ªæå¡ä¼ å°å¶ä»æå¡å¨ä¸ã\n\nå¦ææä»¬å°å·²éªè¯çç¨æ·çä¿¡æ¯ä¿å­å¨Sessionä¸­ï¼åæ¯æ¬¡è¯·æ±é½éè¦ç¨æ·åå·²éªè¯çæå¡å¨åééªè¯ä¿¡æ¯(ç§°ä¸ºSessionäº²åæ§)ãç¨æ·éå¤§æ¶ï¼å¯è½ä¼é æä¸äºæ¥å µã\n\nä½æ¯ä¸è¦çæ¥ãä½¿ç¨tokensä¹åè¿äºé®é¢é½è¿åèè§£ï¼å ä¸ºtokensèªå·±holdä½äºç¨æ·çéªè¯ä¿¡æ¯ã\n\nå®å¨æ§\n\nè¯·æ±ä¸­åétokenèä¸åæ¯åécookieè½å¤é²æ­¢CSRF(è·¨ç«è¯·æ±ä¼ªé )ãå³ä½¿å¨å®¢æ·ç«¯ä½¿ç¨cookieå­å¨tokenï¼cookieä¹ä»ä»æ¯ä¸ä¸ªå­å¨æºå¶èä¸æ¯ç¨äºè®¤è¯ãä¸å°ä¿¡æ¯å­å¨å¨Sessionä¸­ï¼è®©æä»¬å°äºå¯¹sessionæä½ã\n\ntokenæ¯ææ¶æçï¼ä¸æ®µæ¶é´ä¹åç¨æ·éè¦éæ°éªè¯ãæä»¬ä¹ä¸ä¸å®éè¦ç­å°tokenèªå¨å¤±æï¼tokenææ¤åçæä½ï¼éè¿token revocataionå¯ä»¥ä½¿ä¸ä¸ªç¹å®çtokenææ¯ä¸ç»æç¸åè®¤è¯çtokenæ æã\n\nå¯æ©å±æ§\n\nTokensè½å¤åå»ºä¸å¶å®ç¨åºå±äº«æéçç¨åºãä¾å¦ï¼è½å°ä¸ä¸ªéä¾¿çç¤¾äº¤å¸å·åèªå·±çå¤§å·(Fackbookææ¯Twitter)èç³»èµ·æ¥ãå½éè¿æå¡ç»å½Twitter(æä»¬å°è¿ä¸ªè¿ç¨Buffer)æ¶ï¼æä»¬å¯ä»¥å°è¿äºBufferéå°Twitterçæ°æ®æµä¸(we are allowing Buffer to post to our Twitter stream)ã\n\nä½¿ç¨tokensæ¶ï¼å¯ä»¥æä¾å¯éçæéç»ç¬¬ä¸æ¹åºç¨ç¨åºãå½ç¨æ·æ³è®©å¦ä¸ä¸ªåºç¨ç¨åºè®¿é®å®ä»¬çæ°æ®ï¼æä»¬å¯ä»¥éè¿å»ºç«èªå·±çAPIï¼å¾åºç¹æ®æéçtokensã\n\nå¤å¹³å°è·¨å\n\næä»¬æååæ¥è°è®ºä¸ä¸CORS(è·¨åèµæºå±äº«)ï¼å¯¹åºç¨ç¨åºåæå¡è¿è¡æ©å±çæ¶åï¼éè¦ä»å¥åç§åç§çè®¾å¤ååºç¨ç¨åºã\n\n> Having our API just serve data, we can also make the design choice to serve assets from a CDN. This eliminates the issues that CORS brings up after we set a quick header configuration for our application.\n\nåªè¦ç¨æ·æä¸ä¸ªéè¿äºéªè¯çtokenï¼æ°æ®åèµæºå°±è½å¤å¨ä»»ä½åä¸è¢«è¯·æ±å°ã\n\nAccess-Control-Allow-Origin: *\n\n\nåºäºæ ååå»ºtokençæ¶åï¼ä½ å¯ä»¥è®¾å®ä¸äºéé¡¹ãæä»¬å¨åç»­çæç« ä¸­ä¼è¿è¡æ´å è¯¦å°½çæè¿°ï¼ä½æ¯æ åçç¨æ³ä¼å¨JSON Web Tokensä½ç°ã\n\næè¿çç¨åºåææ¡£æ¯ä¾ç»JSON Web Tokensçãå®æ¯æä¼å¤çè¯­è¨ãè¿æå³å¨æªæ¥çä½¿ç¨ä¸­ä½ å¯ä»¥çæ­£çè½¬æ¢ä½ çè®¤è¯æºå¶ã",normalizedContent:"# åå±å²\n\n1ãå¾ä¹å¾ä¹ä»¥åï¼web åºæ¬ä¸å°±æ¯ææ¡£çæµè§èå·²ï¼ æ¢ç¶æ¯æµè§ï¼ä½ä¸ºæå¡å¨ï¼ ä¸éè¦è®°å½è°å¨æä¸æ®µæ¶é´éé½æµè§äºä»ä¹ææ¡£ï¼æ¯æ¬¡è¯·æ±é½æ¯ä¸ä¸ªæ°çhttpåè®®ï¼ å°±æ¯è¯·æ±å ååºï¼ å°¤å¶æ¯æä¸ç¨è®°ä½æ¯è°åååäºhttpè¯·æ±ï¼ æ¯ä¸ªè¯·æ±å¯¹ææ¥è¯´é½æ¯å¨æ°çãè¿æ®µæ¶é´å¾å¨ç®ã\n\n2ãä½æ¯éçäº¤äºå¼webåºç¨çå´èµ·ï¼åå¨çº¿è´­ç©ç½ç«ï¼éè¦ç»å½çç½ç«ç­ç­ï¼é©¬ä¸å°±é¢ä¸´ä¸ä¸ªé®é¢ï¼é£å°±æ¯è¦ç®¡çä¼è¯ï¼å¿é¡»è®°ä½åªäºäººç»å½ç³»ç»ï¼ åªäºäººå¾èªå·±çè´­ç©è½¦ä¸­æ¾ååï¼ ä¹å°±æ¯è¯´æå¿é¡»ææ¯ä¸ªäººåºåå¼ï¼è¿å°±æ¯ä¸ä¸ªä¸å°çææï¼å ä¸ºhttpè¯·æ±æ¯æ ç¶æçï¼æä»¥æ³åºçåæ³å°±æ¯ç»å¤§å®¶åä¸ä¸ªä¼è¯æ è¯(session id), è¯´ç½äºå°±æ¯ä¸ä¸ªéæºçå­ä¸²ï¼æ¯ä¸ªäººæ¶å°çé½ä¸ä¸æ ·ï¼ æ¯æ¬¡å¤§å®¶åæåèµ·httpè¯·æ±çæ¶åï¼æè¿ä¸ªå­ç¬¦ä¸²ç»ä¸å¹¶æè¿æ¥ï¼ è¿æ ·æå°±è½åºåå¼è°æ¯è°äº\n\n3ãè¿æ ·å¤§å®¶å¾å¨ç®äºï¼å¯æ¯æå¡å¨å°±ä¸å¨ç®äºï¼æ¯ä¸ªäººåªéè¦ä¿å­èªå·±çsession idï¼èæå¡å¨è¦ä¿å­ææäººçsession id ï¼å¦æè®¿é®æå¡å¨å¤äºï¼ å°±å¾ç±æåä¸ä¸ï¼çè³å åä¸ä¸ªã\n\nè¿å¯¹æå¡å¨è¯´æ¯ä¸ä¸ªå·¨å¤§çå¼é ï¼ ä¸¥éçéå¶äºæå¡å¨æ©å±è½åï¼ æ¯å¦è¯´æç¨ä¸¤ä¸ªæºå¨ç»æäºä¸ä¸ªéç¾¤ï¼ å°féè¿æºå¨aç»å½äºç³»ç»ï¼ é£session idä¼ä¿å­å¨æºå¨aä¸ï¼ åè®¾å°fçä¸ä¸æ¬¡è¯·æ±è¢«è½¬åå°æºå¨bæä¹åï¼æºå¨bå¯æ²¡æå°fç session idåã\n\nææ¶åä¼éç¨ä¸ç¹å°ä¼ä¿©ï¼ session sticky ï¼ å°±æ¯è®©å°fçè¯·æ±ä¸ç´ç²è¿å¨æºå¨aä¸ï¼ ä½æ¯è¿ä¹ä¸ç®¡ç¨ï¼ è¦æ¯æºå¨aææäºï¼ è¿å¾è½¬å°æºå¨bå»ã\n\né£åªå¥½åsession çå¤å¶äºï¼ æsession id å¨ä¸¤ä¸ªæºå¨ä¹é´æ¬æ¥æ¬å»ï¼ å¿«ç´¯æ­»äºã\n\n\n\nåæ¥æä¸ªå«memcachedçæ¯äºæï¼æsession id éä¸­å­å¨å°ä¸ä¸ªå°æ¹ï¼ ææçæºå¨é½æ¥è®¿é®è¿ä¸ªå°æ¹çæ°æ®ï¼ è¿æ ·ä¸æ¥ï¼å°±ä¸ç¨å¤å¶äºï¼ ä½æ¯å¢å äºåç¹å¤±è´¥çå¯è½æ§ï¼ è¦æ¯é£ä¸ªè´è´£session çæºå¨æäºï¼ ææäººé½å¾éæ°ç»å½ä¸éï¼ ä¼°è®¡å¾è¢«äººéªæ­»ã\n\n\n\nä¹å°è¯æè¿ä¸ªåç¹çæºå¨ä¹æåºéç¾¤ï¼å¢å å¯é æ§ï¼ ä½ä¸ç®¡å¦ä½ï¼ è¿å°å°çsession å¯¹ææ¥è¯´æ¯ä¸ä¸ªæ²éçè´æ\n\n4ãäºæ¯æäººå°±ä¸ç´å¨æèï¼ æä¸ºä»ä¹è¦ä¿å­è¿å¯æ¶çsessionå¢ï¼ åªè®©æ¯ä¸ªå®¢æ·ç«¯å»ä¿å­è¯¥å¤å¥½ï¼\n\nå¯æ¯å¦ æä¸ä¿å­è¿äºsession id , æä¹éªè¯å®¢æ·ç«¯åç»æçsession id çç¡®æ¯æçæçå¢ï¼ å¦æä¸å»éªè¯ï¼æä»¬é½ä¸ç¥éä»ä»¬æ¯ä¸æ¯åæ³ç»å½çç¨æ·ï¼ é£äºä¸æå¥½æçå®¶ä¼ä»¬å°±å¯ä»¥ä¼ªé session id , ä¸ºææ¬²ä¸ºäºã\n\nå¯ï¼å¯¹äºï¼å³é®ç¹å°±æ¯éªè¯ ï¼\n\næ¯å¦è¯´ï¼ å°få·²ç»ç»å½äºç³»ç»ï¼ æç»ä»åä¸ä¸ªä»¤ç(token)ï¼ éè¾¹åå«äºå°fç user idï¼ ä¸ä¸æ¬¡å°f åæ¬¡éè¿http è¯·æ±è®¿é®æçæ¶åï¼ æè¿ä¸ªtoken éè¿http header å¸¦è¿æ¥ä¸å°±å¯ä»¥äºã\n\nä¸è¿è¿åsession idæ²¡ææ¬è´¨åºå«åï¼ ä»»ä½äººé½å¯ä»¥å¯ä»¥ä¼ªé ï¼ æä»¥æå¾æ³ç¹å¿åæ³ï¼ è®©å«äººä¼ªé ä¸äºã\n\né£å°±å¯¹æ°æ®åä¸ä¸ªç­¾åå§ï¼ æ¯å¦è¯´æç¨hmac-sha256 ç®æ³ï¼å ä¸ä¸ä¸ªåªæææç¥éçå¯é¥ï¼ å¯¹æ°æ®åä¸ä¸ªç­¾åï¼ æè¿ä¸ªç­¾ååæ°æ®ä¸èµ·ä½ä¸ºtoken ï¼ ç±äºå¯é¥å«äººä¸ç¥éï¼ å°±æ æ³ä¼ªé tokenäºã\n\n\n\nè¿ä¸ªtoken æä¸ä¿å­ï¼ å½å°fæè¿ä¸ªtoken ç»æåè¿æ¥çæ¶åï¼æåç¨åæ ·çhmac-sha256 ç®æ³ååæ ·çå¯é¥ï¼å¯¹æ°æ®åè®¡ç®ä¸æ¬¡ç­¾åï¼ åtoken ä¸­çç­¾ååä¸ªæ¯è¾ï¼ å¦æç¸åï¼ æå°±ç¥éå°få·²ç»ç»å½è¿äºï¼å¹¶ä¸å¯ä»¥ç´æ¥åå°å°fçuser id , å¦æä¸ç¸åï¼ æ°æ®é¨åè¯å®è¢«äººç¯¡æ¹è¿ï¼ æå°±åè¯åéèï¼å¯¹ä¸èµ·ï¼æ²¡æè®¤è¯ã\n\n\n\ntoken ä¸­çæ°æ®æ¯ææä¿å­çï¼è½ç¶æä¼ç¨base64åä¸ç¼ç ï¼ ä½é£ä¸æ¯å å¯ï¼ï¼ è¿æ¯å¯ä»¥è¢«å«äººçå°çï¼ æä»¥æä¸è½å¨å¶ä¸­ä¿å­åå¯ç è¿æ ·çææä¿¡æ¯ã\n\nå½ç¶ï¼ å¦æä¸ä¸ªäººçtoken è¢«å«äººå·èµ°äºï¼ é£æä¹æ²¡åæ³ï¼ æä¹ä¼è®¤ä¸ºå°å·å°±æ¯åæ³ç¨æ·ï¼ è¿å¶å®åä¸ä¸ªäººçsession id è¢«å«äººå·èµ°æ¯ä¸æ ·çã\n\nè¿æ ·ä¸æ¥ï¼ æå°±ä¸ä¿å­session id äºï¼ æåªæ¯çætoken , ç¶åéªè¯token ï¼ æç¨æçcpuè®¡ç®æ¶é´è·åäºæç session å­å¨ç©ºé´ ï¼\n\nè§£é¤äºsession idè¿ä¸ªè´æï¼ å¯ä»¥è¯´æ¯æ äºä¸èº«è½»ï¼ æçæºå¨éç¾¤ç°å¨å¯ä»¥è½»æ¾å°åæ°´å¹³æ©å±ï¼ ç¨æ·è®¿é®éå¢å¤§ï¼ ç´æ¥å æºå¨å°±è¡ãè¿ç§æ ç¶æçæè§å®å¨æ¯å¤ªå¥½äºï¼\n\n\n# cookie\n\ncookie æ¯ä¸ä¸ªéå¸¸å·ä½çä¸è¥¿ï¼æçå°±æ¯æµè§å¨éé¢è½æ°¸ä¹å­å¨çä¸ç§æ°æ®ï¼ä»ä»æ¯æµè§å¨å®ç°çä¸ç§æ°æ®å­å¨åè½ã\n\ncookieç±æå¡å¨çæï¼åéç»æµè§å¨ï¼æµè§å¨æcookieä»¥kvå½¢å¼ä¿å­å°æä¸ªç®å½ä¸çææ¬æä»¶åï¼ä¸ä¸æ¬¡è¯·æ±åä¸ç½ç«æ¶ä¼æè¯¥cookieåéç»æå¡å¨ãç±äºcookieæ¯å­å¨å®¢æ·ç«¯ä¸çï¼æä»¥æµè§å¨å å¥äºä¸äºéå¶ç¡®ä¿cookieä¸ä¼è¢«æ¶æä½¿ç¨ï¼åæ¶ä¸ä¼å æ®å¤ªå¤ç£çç©ºé´ï¼æä»¥æ¯ä¸ªåçcookieæ°éæ¯æéçã\n\n\n# session\n\nsession ä»å­é¢ä¸è®²ï¼å°±æ¯ä¼è¯ãè¿ä¸ªå°±ç±»ä¼¼äºä½ åä¸ä¸ªäººäº¤è°ï¼ä½ æä¹ç¥éå½ååä½ äº¤è°çæ¯å¼ ä¸èä¸æ¯æåå¢ï¼å¯¹æ¹è¯å®ææç§ç¹å¾ï¼é¿ç¸ç­ï¼è¡¨æä»å°±æ¯å¼ ä¸ã\n\nsession ä¹æ¯ç±»ä¼¼çéçï¼æå¡å¨è¦ç¥éå½ååè¯·æ±ç»èªå·±çæ¯è°ãä¸ºäºåè¿ç§åºåï¼æå¡å¨å°±è¦ç»æ¯ä¸ªå®¢æ·ç«¯åéä¸åçâèº«ä»½æ è¯âï¼ç¶åå®¢æ·ç«¯æ¯æ¬¡åæå¡å¨åè¯·æ±çæ¶åï¼é½å¸¦ä¸è¿ä¸ªâèº«ä»½æ è¯âï¼æå¡å¨å°±ç¥éè¿ä¸ªè¯·æ±æ¥èªäºè°äºãè³äºå®¢æ·ç«¯æä¹ä¿å­è¿ä¸ªâèº«ä»½æ è¯âï¼å¯ä»¥æå¾å¤ç§æ¹å¼ï¼å¯¹äºæµè§å¨å®¢æ·ç«¯ï¼å¤§å®¶é½é»è®¤éç¨ cookie çæ¹å¼ã\n\næå¡å¨ä½¿ç¨sessionæç¨æ·çä¿¡æ¯ä¸´æ¶ä¿å­å¨äºæå¡å¨ä¸ï¼ç¨æ·ç¦»å¼ç½ç«åsessionä¼è¢«éæ¯ãè¿ç§ç¨æ·ä¿¡æ¯å­å¨æ¹å¼ç¸å¯¹cookieæ¥è¯´æ´å®å¨ï¼å¯æ¯sessionæä¸ä¸ªç¼ºé·ï¼å¦æwebæå¡å¨åäºè´è½½åè¡¡ï¼é£ä¹ä¸ä¸ä¸ªæä½è¯·æ±å°äºå¦ä¸å°æå¡å¨çæ¶åsessionä¼ä¸¢å¤±ã\n\n\n# token\n\nå¨webé¢ååºäºtokençèº«ä»½éªè¯éå¤å¯è§ãå¨å¤§å¤æ°ä½¿ç¨web apiçäºèç½å¬å¸ä¸­ï¼tokens æ¯å¤ç¨æ·ä¸å¤çè®¤è¯çæä½³æ¹å¼ã\n\nä»¥ä¸å ç¹ç¹æ§ä¼è®©ä½ å¨ç¨åºä¸­ä½¿ç¨åºäºtokençèº«ä»½éªè¯\n\n 1. æ ç¶æãå¯æ©å±\n 2. æ¯æç§»å¨è®¾å¤\n 3. è·¨ç¨åºè°ç¨\n 4. å®å¨\n\né£äºä½¿ç¨åºäºtokençèº«ä»½éªè¯çå¤§ä½¬ä»¬\n\nå¤§é¨åä½ è§å°è¿çapiåwebåºç¨é½ä½¿ç¨tokensãä¾å¦facebook, twitter, google+, githubç­ã\n\n\n# tokençèµ·æº\n\nå¨ä»ç»åºäºtokençèº«ä»½éªè¯çåçä¸ä¼å¿ä¹åï¼ä¸å¦¨åççä¹åçè®¤è¯é½æ¯æä¹åçã\n\n\n# åºäºæå¡å¨çéªè¯\n\næä»¬é½æ¯ç¥éhttpåè®®æ¯æ ç¶æçï¼è¿ç§æ ç¶ææå³çç¨åºéè¦éªè¯æ¯ä¸æ¬¡è¯·æ±ï¼ä»èè¾¨å«å®¢æ·ç«¯çèº«ä»½ã\n\nå¨è¿ä¹åï¼ç¨åºé½æ¯éè¿å¨æå¡ç«¯å­å¨çç»å½ä¿¡æ¯æ¥è¾¨å«è¯·æ±çãè¿ç§æ¹å¼ä¸è¬é½æ¯éè¿å­å¨sessionæ¥å®æã\n\néçwebï¼åºç¨ç¨åºï¼å·²ç»ç§»å¨ç«¯çå´èµ·ï¼è¿ç§éªè¯çæ¹å¼éæ¸æ´é²åºäºé®é¢ãå°¤å¶æ¯å¨å¯æ©å±æ§æ¹é¢ã\n\n\n# åºäºæå¡å¨éªè¯æ¹å¼æ´é²çä¸äºé®é¢\n\n 1. seesionï¼ æ¯æ¬¡è®¤è¯ç¨æ·åèµ·è¯·æ±æ¶ï¼æå¡å¨éè¦å»åå»ºä¸ä¸ªè®°å½æ¥å­å¨ä¿¡æ¯ãå½è¶æ¥è¶å¤çç¨æ·åè¯·æ±æ¶ï¼åå­çå¼éä¹ä¼ä¸æ­å¢å ã\n 2. å¯æ©å±æ§ï¼ å¨æå¡ç«¯çåå­ä¸­ä½¿ç¨seesionå­å¨ç»å½ä¿¡æ¯ï¼ä¼´éèæ¥çæ¯å¯æ©å±æ§é®é¢ã\n 3. cors(è·¨åèµæºå±äº«)ï¼ å½æä»¬éè¦è®©æ°æ®è·¨å¤å°ç§»å¨è®¾å¤ä¸ä½¿ç¨æ¶ï¼è·¨åèµæºçå±äº«ä¼æ¯ä¸ä¸ªè®©äººå¤´ç¼çé®é¢ãå¨ä½¿ç¨ajaxæåå¦ä¸ä¸ªåçèµæºï¼å°±å¯ä»¥ä¼åºç°ç¦æ­¢è¯·æ±çæåµã\n 4. csrf(è·¨ç«è¯·æ±ä¼ªé )ï¼ ç¨æ·å¨è®¿é®é¶è¡ç½ç«æ¶ï¼ä»ä»¬å¾å®¹æåå°è·¨ç«è¯·æ±ä¼ªé çæ»å»ï¼å¹¶ä¸è½å¤è¢«å©ç¨å¶è®¿é®å¶ä»çç½ç«ã\n\nå¨è¿äºé®é¢ä¸­ï¼å¯æ©å±è¡æ¯æçªåºçãå æ­¤æä»¬æå¿è¦å»å¯»æ±ä¸ç§æ´æè¡ä¹ææçæ¹æ³ã\n\n\n# åºäºtokençéªè¯åç\n\nåºäºtokençèº«ä»½éªè¯æ¯æ ç¶æçï¼æä»¬ä¸å°ç¨æ·ä¿¡æ¯å­å¨æå¡å¨æsessionä¸­ã\n\nè¿ç§æ¦å¿µè§£å³äºå¨æå¡ç«¯å­å¨ä¿¡æ¯æ¶çè®¸å¤é®é¢\n\n> nosessionæå³çä½ çç¨åºå¯ä»¥æ ¹æ®éè¦å»å¢åæºå¨ï¼èä¸ç¨å»æå¿ç¨æ·æ¯å¦ç»å½ã\n\nåºäºtokençèº«ä»½éªè¯çè¿ç¨å¦ä¸:\n\n 1. ç¨æ·éè¿ç¨æ·ååå¯ç åéè¯·æ±ã\n 2. ç¨åºéªè¯ã\n 3. ç¨åºè¿åä¸ä¸ªç­¾åçtoken ç»å®¢æ·ç«¯ã\n 4. å®¢æ·ç«¯å¨å­token,å¹¶ä¸æ¯æ¬¡ç¨äºæ¯æ¬¡åéè¯·æ±ã\n 5. æå¡ç«¯éªè¯tokenå¹¶è¿åæ°æ®ã\n\næ¯ä¸æ¬¡è¯·æ±é½éè¦tokenãtokenåºè¯¥å¨httpçå¤´é¨åéä»èä¿è¯äºhttpè¯·æ±æ ç¶æãæä»¬åæ ·éè¿è®¾ç½®æå¡å¨å±æ§access-control-allow-origin:* ï¼è®©æå¡å¨è½æ¥åå°æ¥èªææåçè¯·æ±ã\n\néè¦ä¸»è¦çæ¯ï¼å¨acaoå¤´é¨æ æ(designating)*æ¶ï¼ä¸å¾å¸¦æåhttpè®¤è¯ï¼å®¢æ·ç«¯sslè¯ä¹¦åcookiesçè¯ä¹¦ã\n\nå®ç°æè·¯ï¼\n\n\n\n 1. ç¨æ·ç»å½æ ¡éªï¼æ ¡éªæååå°±è¿åtokenç»å®¢æ·ç«¯ã\n 2. å®¢æ·ç«¯æ¶å°æ°æ®åä¿å­å¨å®¢æ·ç«¯\n 3. å®¢æ·ç«¯æ¯æ¬¡è®¿é®apiæ¯æºå¸¦tokenå°æå¡å¨ç«¯ã\n 4. æå¡å¨ç«¯éç¨filterè¿æ»¤å¨æ ¡éªãæ ¡éªæååè¿åè¯·æ±æ°æ®ï¼æ ¡éªå¤±è´¥åè¿åéè¯¯ç \n\nå½æä»¬å¨ç¨åºä¸­è®¤è¯äºä¿¡æ¯å¹¶åå¾tokenä¹åï¼æä»¬ä¾¿è½éè¿è¿ä¸ªtokenåè®¸å¤çäºæã\n\næä»¬çè³è½åºäºåå»ºä¸ä¸ªåºäºæéçtokenä¼ ç»ç¬¬ä¸æ¹åºç¨ç¨åºï¼è¿äºç¬¬ä¸æ¹ç¨åºè½å¤è·åå°æä»¬çæ°æ®ï¼å½ç¶åªæå¨æä»¬åè®¸çç¹å®çtokenï¼\n\n\n# tokensçä¼å¿\n\næ ç¶æãå¯æ©å±\n\nå¨å®¢æ·ç«¯å­å¨çtokensæ¯æ ç¶æçï¼å¹¶ä¸è½å¤è¢«æ©å±ãåºäºè¿ç§æ ç¶æåä¸å­å¨sessionä¿¡æ¯ï¼è´è½½è´è½½åè¡¡å¨è½å¤å°ç¨æ·ä¿¡æ¯ä»ä¸ä¸ªæå¡ä¼ å°å¶ä»æå¡å¨ä¸ã\n\nå¦ææä»¬å°å·²éªè¯çç¨æ·çä¿¡æ¯ä¿å­å¨sessionä¸­ï¼åæ¯æ¬¡è¯·æ±é½éè¦ç¨æ·åå·²éªè¯çæå¡å¨åééªè¯ä¿¡æ¯(ç§°ä¸ºsessionäº²åæ§)ãç¨æ·éå¤§æ¶ï¼å¯è½ä¼é æä¸äºæ¥å µã\n\nä½æ¯ä¸è¦çæ¥ãä½¿ç¨tokensä¹åè¿äºé®é¢é½è¿åèè§£ï¼å ä¸ºtokensèªå·±holdä½äºç¨æ·çéªè¯ä¿¡æ¯ã\n\nå®å¨æ§\n\nè¯·æ±ä¸­åétokenèä¸åæ¯åécookieè½å¤é²æ­¢csrf(è·¨ç«è¯·æ±ä¼ªé )ãå³ä½¿å¨å®¢æ·ç«¯ä½¿ç¨cookieå­å¨tokenï¼cookieä¹ä»ä»æ¯ä¸ä¸ªå­å¨æºå¶èä¸æ¯ç¨äºè®¤è¯ãä¸å°ä¿¡æ¯å­å¨å¨sessionä¸­ï¼è®©æä»¬å°äºå¯¹sessionæä½ã\n\ntokenæ¯ææ¶æçï¼ä¸æ®µæ¶é´ä¹åç¨æ·éè¦éæ°éªè¯ãæä»¬ä¹ä¸ä¸å®éè¦ç­å°tokenèªå¨å¤±æï¼tokenææ¤åçæä½ï¼éè¿token revocataionå¯ä»¥ä½¿ä¸ä¸ªç¹å®çtokenææ¯ä¸ç»æç¸åè®¤è¯çtokenæ æã\n\nå¯æ©å±æ§\n\ntokensè½å¤åå»ºä¸å¶å®ç¨åºå±äº«æéçç¨åºãä¾å¦ï¼è½å°ä¸ä¸ªéä¾¿çç¤¾äº¤å¸å·åèªå·±çå¤§å·(fackbookææ¯twitter)èç³»èµ·æ¥ãå½éè¿æå¡ç»å½twitter(æä»¬å°è¿ä¸ªè¿ç¨buffer)æ¶ï¼æä»¬å¯ä»¥å°è¿äºbufferéå°twitterçæ°æ®æµä¸(we are allowing buffer to post to our twitter stream)ã\n\nä½¿ç¨tokensæ¶ï¼å¯ä»¥æä¾å¯éçæéç»ç¬¬ä¸æ¹åºç¨ç¨åºãå½ç¨æ·æ³è®©å¦ä¸ä¸ªåºç¨ç¨åºè®¿é®å®ä»¬çæ°æ®ï¼æä»¬å¯ä»¥éè¿å»ºç«èªå·±çapiï¼å¾åºç¹æ®æéçtokensã\n\nå¤å¹³å°è·¨å\n\næä»¬æååæ¥è°è®ºä¸ä¸cors(è·¨åèµæºå±äº«)ï¼å¯¹åºç¨ç¨åºåæå¡è¿è¡æ©å±çæ¶åï¼éè¦ä»å¥åç§åç§çè®¾å¤ååºç¨ç¨åºã\n\n> having our api just serve data, we can also make the design choice to serve assets from a cdn. this eliminates the issues that cors brings up after we set a quick header configuration for our application.\n\nåªè¦ç¨æ·æä¸ä¸ªéè¿äºéªè¯çtokenï¼æ°æ®åèµæºå°±è½å¤å¨ä»»ä½åä¸è¢«è¯·æ±å°ã\n\naccess-control-allow-origin: *\n\n\nåºäºæ ååå»ºtokençæ¶åï¼ä½ å¯ä»¥è®¾å®ä¸äºéé¡¹ãæä»¬å¨åç»­çæç« ä¸­ä¼è¿è¡æ´å è¯¦å°½çæè¿°ï¼ä½æ¯æ åçç¨æ³ä¼å¨json web tokensä½ç°ã\n\næè¿çç¨åºåææ¡£æ¯ä¾ç»json web tokensçãå®æ¯æä¼å¤çè¯­è¨ãè¿æå³å¨æªæ¥çä½¿ç¨ä¸­ä½ å¯ä»¥çæ­£çè½¬æ¢ä½ çè®¤è¯æºå¶ã",charsets:{cjk:!0},lastUpdated:"2022/04/07, 20:28:38",lastUpdatedTimestamp:1649334518e3},{title:"Redis",frontmatter:{title:"Redis",date:"2022-04-10T11:24:37.000Z",permalink:"/pages/9a6634/"},regularPath:"/02.%E6%A1%86%E6%9E%B6/03.SpringBoot/03.%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/01.Redis.html",relativePath:"02.æ¡æ¶/03.SpringBoot/03.éå³ç³»åæ°æ®åº/01.Redis.md",key:"v-f84a6a2e",path:"/pages/9a6634/",headers:[{level:2,title:"ä¸ãæ¦è¿°",slug:"ä¸ãæ¦è¿°",normalizedTitle:"ä¸ãæ¦è¿°",charIndex:2},{level:2,title:"äºãRedis å¸¸è§çæ°æ®ç»æ",slug:"äºãredis-å¸¸è§çæ°æ®ç»æ",normalizedTitle:"äºãredis å¸¸è§çæ°æ®ç»æ",charIndex:401},{level:3,title:"string",slug:"string",normalizedTitle:"string",charIndex:421},{level:3,title:"list",slug:"list",normalizedTitle:"list",charIndex:314},{level:3,title:"hash",slug:"hash",normalizedTitle:"hash",charIndex:328},{level:3,title:"set",slug:"set",normalizedTitle:"set",charIndex:319},{level:3,title:"sorted set",slug:"sorted-set",normalizedTitle:"sorted set",charIndex:1961},{level:3,title:"bitmap",slug:"bitmap",normalizedTitle:"bitmap",charIndex:2250},{level:2,title:"ä¸ãSpring Data Redis",slug:"ä¸ãspring-data-redis",normalizedTitle:"ä¸ãspring data redis",charIndex:2531},{level:3,title:"1. RedisTemplate",slug:"_1-redistemplate",normalizedTitle:"1. redistemplate",charIndex:2804},{level:3,title:"2. åºåå",slug:"_2-åºåå",normalizedTitle:"2. åºåå",charIndex:3624},{level:4,title:"2.1 Rediserializer",slug:"_2-1-rediserializer",normalizedTitle:"2.1 rediserializer",charIndex:3634},{level:5,title:"2.1.1 String åºååæ¹å¼",slug:"_2-1-1-string-åºååæ¹å¼",normalizedTitle:"2.1.1 string åºååæ¹å¼",charIndex:4525},{level:5,title:"2.1.2 JSON åºååæ¹å¼",slug:"_2-1-2-json-åºååæ¹å¼",normalizedTitle:"2.1.2 json åºååæ¹å¼",charIndex:5836},{level:4,title:"2.2 éç½®åºååçæ¹å¼",slug:"_2-2-éç½®åºååçæ¹å¼",normalizedTitle:"2.2 éç½®åºååçæ¹å¼",charIndex:6374},{level:3,title:"3. Redisson",slug:"_3-redisson",normalizedTitle:"3. redisson",charIndex:7578},{level:2,title:"åãç¼å­",slug:"åãç¼å­",normalizedTitle:"åãç¼å­",charIndex:7791},{level:3,title:"4.1 ç¼å­è®¾ç½®è¿ææ¶é´",slug:"_4-1-ç¼å­è®¾ç½®è¿ææ¶é´",normalizedTitle:"4.1 ç¼å­è®¾ç½®è¿ææ¶é´",charIndex:7800},{level:3,title:"4.2 å¦ä½å¤æ­æ°æ®æ¯å¦è¿æ",slug:"_4-2-å¦ä½å¤æ­æ°æ®æ¯å¦è¿æ",normalizedTitle:"4.2 å¦ä½å¤æ­æ°æ®æ¯å¦è¿æ",charIndex:8150},{level:4,title:"4.2.1 è¿æå é¤ç­ç¥",slug:"_4-2-1-è¿æå é¤ç­ç¥",normalizedTitle:"4.2.1 è¿æå é¤ç­ç¥",charIndex:8309},{level:4,title:"4.2.2 LRUåLFU",slug:"_4-2-2-lruålfu",normalizedTitle:"4.2.2 lruålfu",charIndex:9456},{level:3,title:"4.3 ç¼å­ç©¿é",slug:"_4-3-ç¼å­ç©¿é",normalizedTitle:"4.3 ç¼å­ç©¿é",charIndex:10580},{level:4,title:"ä»ä¹æ¯ç¼å­ç©¿éï¼",slug:"ä»ä¹æ¯ç¼å­ç©¿é",normalizedTitle:"ä»ä¹æ¯ç¼å­ç©¿éï¼",charIndex:10592},{level:4,title:"æåªäºè§£å³åæ³ï¼",slug:"æåªäºè§£å³åæ³",normalizedTitle:"æåªäºè§£å³åæ³ï¼",charIndex:10707},{level:3,title:"4.4 ç¼å­éªå´©",slug:"_4-4-ç¼å­éªå´©",normalizedTitle:"4.4 ç¼å­éªå´©",charIndex:11725},{level:4,title:"ä»ä¹æ¯ç¼å­éªå´©ï¼",slug:"ä»ä¹æ¯ç¼å­éªå´©",normalizedTitle:"ä»ä¹æ¯ç¼å­éªå´©ï¼",charIndex:11737},{level:4,title:"æåªäºè§£å³åæ³ï¼",slug:"æåªäºè§£å³åæ³-2",normalizedTitle:"æåªäºè§£å³åæ³ï¼",charIndex:10707},{level:3,title:"4.5 å¦ä½ä¿è¯ç¼å­åæ°æ®åºæ°æ®çä¸è´æ§ï¼",slug:"_4-5-å¦ä½ä¿è¯ç¼å­åæ°æ®åºæ°æ®çä¸è´æ§",normalizedTitle:"4.5 å¦ä½ä¿è¯ç¼å­åæ°æ®åºæ°æ®çä¸è´æ§ï¼",charIndex:12254},{level:4,title:"ä¸ºä»ä¹ä¼åçç¼å­åæ°æ®åºçæ°æ®ä¸ä¸è´",slug:"ä¸ºä»ä¹ä¼åçç¼å­åæ°æ®åºçæ°æ®ä¸ä¸è´",normalizedTitle:"ä¸ºä»ä¹ä¼åçç¼å­åæ°æ®åºçæ°æ®ä¸ä¸è´",charIndex:12410},{level:5,title:"å½redisä½ä¸ºè¯»åç¼å­æ¶",slug:"å½redisä½ä¸ºè¯»åç¼å­æ¶",normalizedTitle:"å½redisä½ä¸ºè¯»åç¼å­æ¶",charIndex:12462},{level:5,title:"å½redis ä½ä¸ºåªè¯»ç¼å­æ¶",slug:"å½redis-ä½ä¸ºåªè¯»ç¼å­æ¶",normalizedTitle:"å½redis ä½ä¸ºåªè¯»ç¼å­æ¶",charIndex:12874},{level:4,title:"å¦ä½è§£å³æ°æ®ä¸ä¸è´é®é¢ï¼",slug:"å¦ä½è§£å³æ°æ®ä¸ä¸è´é®é¢",normalizedTitle:"å¦ä½è§£å³æ°æ®ä¸ä¸è´é®é¢ï¼",charIndex:13572},{level:6,title:"ç¬¬ä¸ç§æ¹æ³ï¼éè¯æºå¶",slug:"ç¬¬ä¸ç§æ¹æ³-éè¯æºå¶",normalizedTitle:"ç¬¬ä¸ç§æ¹æ³ï¼éè¯æºå¶",charIndex:13588},{level:6,title:"æåµä¸ï¼åå é¤ç¼å­ï¼åæ´æ°æ°æ®åº",slug:"æåµä¸-åå é¤ç¼å­-åæ´æ°æ°æ®åº",normalizedTitle:"æåµä¸ï¼åå é¤ç¼å­ï¼åæ´æ°æ°æ®åº",charIndex:13947},{level:6,title:"æåµäºï¼åæ´æ°æ°æ®åºå¼ï¼åå é¤ç¼å­å¼",slug:"æåµäº-åæ´æ°æ°æ®åºå¼-åå é¤ç¼å­å¼",normalizedTitle:"æåµäºï¼åæ´æ°æ°æ®åºå¼ï¼åå é¤ç¼å­å¼",charIndex:14447},{level:2,title:"äºãRedis çæä¹åæºå¶",slug:"äºãredis-çæä¹åæºå¶",normalizedTitle:"äºãredis çæä¹åæºå¶",charIndex:14686},{level:3,title:"å¿«ç§ï¼snapshottingï¼æä¹åï¼RDBï¼",slug:"å¿«ç§-snapshotting-æä¹å-rdb",normalizedTitle:"å¿«ç§ï¼snapshottingï¼æä¹åï¼rdbï¼",charIndex:14973},{level:3,title:"AOFï¼append-only fileï¼æä¹å",slug:"aof-append-only-file-æä¹å",normalizedTitle:"aofï¼append-only fileï¼æä¹å",charIndex:15415},{level:2,title:"å­ãRedis äºå¡",slug:"å­ãredis-äºå¡",normalizedTitle:"å­ãredis äºå¡",charIndex:16085},{level:2,title:"ä¸ãRedis åæ¶æ¯éå",slug:"ä¸ãredis-åæ¶æ¯éå",normalizedTitle:"ä¸ãredis åæ¶æ¯éå",charIndex:16668}],headersStr:"ä¸ãæ¦è¿° äºãRedis å¸¸è§çæ°æ®ç»æ string list hash set sorted set bitmap ä¸ãSpring Data Redis 1. RedisTemplate 2. åºåå 2.1 Rediserializer 2.1.1 String åºååæ¹å¼ 2.1.2 JSON åºååæ¹å¼ 2.2 éç½®åºååçæ¹å¼ 3. Redisson åãç¼å­ 4.1 ç¼å­è®¾ç½®è¿ææ¶é´ 4.2 å¦ä½å¤æ­æ°æ®æ¯å¦è¿æ 4.2.1 è¿æå é¤ç­ç¥ 4.2.2 LRUåLFU 4.3 ç¼å­ç©¿é ä»ä¹æ¯ç¼å­ç©¿éï¼ æåªäºè§£å³åæ³ï¼ 4.4 ç¼å­éªå´© ä»ä¹æ¯ç¼å­éªå´©ï¼ æåªäºè§£å³åæ³ï¼ 4.5 å¦ä½ä¿è¯ç¼å­åæ°æ®åºæ°æ®çä¸è´æ§ï¼ ä¸ºä»ä¹ä¼åçç¼å­åæ°æ®åºçæ°æ®ä¸ä¸è´ å½redisä½ä¸ºè¯»åç¼å­æ¶ å½redis ä½ä¸ºåªè¯»ç¼å­æ¶ å¦ä½è§£å³æ°æ®ä¸ä¸è´é®é¢ï¼ ç¬¬ä¸ç§æ¹æ³ï¼éè¯æºå¶ æåµä¸ï¼åå é¤ç¼å­ï¼åæ´æ°æ°æ®åº æåµäºï¼åæ´æ°æ°æ®åºå¼ï¼åå é¤ç¼å­å¼ äºãRedis çæä¹åæºå¶ å¿«ç§ï¼snapshottingï¼æä¹åï¼RDBï¼ AOFï¼append-only fileï¼æä¹å å­ãRedis äºå¡ ä¸ãRedis åæ¶æ¯éå",content:'# ä¸ãæ¦è¿°\n\nRedis æ¯ä¸ä¸ªé«æ§è½ç key-value æ°æ®åºï¼ä¸è¿ä¸ä¼ ç»æ°æ®åºä¸åçæ¯ Redis çæ°æ®æ¯å­å¨åå­ä¸­ç ï¼ä¹å°±æ¯å®æ¯åå­æ°æ®åºï¼æä»¥è¯»åéåº¦éå¸¸å¿«ï¼å æ­¤ Redis è¢«å¹¿æ³åºç¨äºç¼å­æ¹åã\n\nå¦å¤ï¼Redis é¤äºåç¼å­ä¹å¤ï¼Redis ä¹ç»å¸¸ç¨æ¥ååå¸å¼éï¼çè³æ¯æ¶æ¯éåã\n\nRedis æä¾äºå¤ç§æ°æ®ç±»åæ¥æ¯æä¸åçä¸å¡åºæ¯ãRedis è¿æ¯æäºå¡ ãæä¹åãLua èæ¬ãå¤ç§éç¾¤æ¹æ¡ã\n\n`Redisçç¹ç¹`ï¼\n\n 1. Redisæ¯ææ°æ®çæä¹åï¼å¯ä»¥å°åå­ä¸­çæ°æ®ä¿æå¨ç£çä¸­ï¼éå¯çæ¶åå¯ä»¥åæ¬¡å è½½è¿è¡ä½¿ç¨ã\n 2. Redisä¸ä»ä»æ¯æç®åçkey-valueç±»åçæ°æ®ï¼åæ¶è¿æä¾listï¼setï¼zsetï¼hashç­æ°æ®ç»æçå­å¨ã(Redisæ¯æå¤æ°æ®ç»æå­å¨)\n 3. Redisæ¯ææ°æ®çå¤ä»½ï¼å³master-slaveæ¨¡å¼çæ°æ®å¤ä»½ã\n\n\n# äºãRedis å¸¸è§çæ°æ®ç»æ\n\n\n# string\n\n 1. ä»ç» ï¼string æ°æ®ç»ææ¯ç®åç key-value ç±»åãè½ç¶ Redis æ¯ç¨ C è¯­è¨åçï¼ä½æ¯ Redis å¹¶æ²¡æä½¿ç¨ C çå­ç¬¦ä¸²è¡¨ç¤ºï¼èæ¯èªå·±æå»ºäºä¸ç§ ç®åå¨æå­ç¬¦ä¸²ï¼simple dynamic stringï¼SDSï¼ãç¸æ¯äº C çåçå­ç¬¦ä¸²ï¼Redis ç SDS ä¸åå¯ä»¥ä¿å­ææ¬æ°æ®è¿å¯ä»¥ä¿å­äºè¿å¶æ°æ®ï¼å¹¶ä¸è·åå­ç¬¦ä¸²é¿åº¦å¤æåº¦ä¸º O(1)ï¼C å­ç¬¦ä¸²ä¸º O(N)ï¼,é¤æ­¤ä¹å¤ï¼Redis ç SDS API æ¯å®å¨çï¼ä¸ä¼é æç¼å²åºæº¢åºã\n 2. å¸¸ç¨å½ä»¤ï¼ set,get,strlen,exists,decr,incr,setex ç­ç­ã\n 3. åºç¨åºæ¯ï¼ ä¸è¬å¸¸ç¨å¨éè¦è®¡æ°çåºæ¯ï¼æ¯å¦ç¨æ·çè®¿é®æ¬¡æ°ãç­ç¹æç« çç¹èµè½¬åæ°éç­ç­ã\n\n**è®¾ç½®è¿ææ¶é´**\n\nSETEX key seconds value å°å¼ value å³èå° key ï¼å¹¶å° key çè¿ææ¶é´è®¾ä¸º seconds (ä»¥ç§ä¸ºåä½)ã\n\nPSETEX key milliseconds valueè¿ä¸ªå½ä»¤å SETEX å½ä»¤ç¸ä¼¼ï¼ä½å®ä»¥æ¯«ç§ä¸ºåä½è®¾ç½® key ççå­æ¶é´ï¼èä¸æ¯å SETEX å½ä»¤é£æ ·ï¼ä»¥ç§ä¸ºåä½ã\n\nå¶ä»ç±»åä½¿ç¨ EXPIRE key secondsä¸ºç»å® key è®¾ç½®è¿ææ¶é´ã\n\n\n# list\n\n 1. ä»ç» ï¼list å³æ¯ é¾è¡¨ãé¾è¡¨æ¯ä¸ç§éå¸¸å¸¸è§çæ°æ®ç»æï¼ç¹ç¹æ¯æäºæ°æ®åç´ çæå¥åå é¤å¹¶ä¸å¯ä»¥çµæ´»è°æ´é¾è¡¨é¿åº¦ï¼ä½æ¯é¾è¡¨çéæºè®¿é®å°é¾ãè®¸å¤é«çº§ç¼ç¨è¯­è¨é½åç½®äºé¾è¡¨çå®ç°æ¯å¦ Java ä¸­ç LinkedListï¼ä½æ¯ C è¯­è¨å¹¶æ²¡æå®ç°é¾è¡¨ï¼æä»¥ Redis å®ç°äºèªå·±çé¾è¡¨æ°æ®ç»æãRedis ç list çå®ç°ä¸ºä¸ä¸ª ååé¾è¡¨ï¼å³å¯ä»¥æ¯æååæ¥æ¾åéåï¼æ´æ¹ä¾¿æä½ï¼ä¸è¿å¸¦æ¥äºé¨åé¢å¤çåå­å¼éã\n 2. å¸¸ç¨å½ä»¤: rpush,lpop,lpush,rpop,lrange,llen ç­ã\n 3. åºç¨åºæ¯: åå¸ä¸è®¢éæèè¯´æ¶æ¯éåãæ¢æ¥è¯¢ã\n\n\n# hash\n\n 1. ä»ç» ï¼hash ç±»ä¼¼äº JDK1.8 åç HashMapï¼åé¨å®ç°ä¹å·®ä¸å¤(æ°ç» + é¾è¡¨)ãä¸è¿ï¼Redis ç hash åäºæ´å¤ä¼åãå¦å¤ï¼hash æ¯ä¸ä¸ª string ç±»åç field å value çæ å°è¡¨ï¼ç¹å«éåç¨äºå­å¨å¯¹è±¡ï¼åç»­æä½çæ¶åï¼ä½ å¯ä»¥ç´æ¥ä»ä»ä¿®æ¹è¿ä¸ªå¯¹è±¡ä¸­çæä¸ªå­æ®µçå¼ã æ¯å¦æä»¬å¯ä»¥ hash æ°æ®ç»ææ¥å­å¨ç¨æ·ä¿¡æ¯ï¼ååä¿¡æ¯ç­ç­ã\n 2. å¸¸ç¨å½ä»¤ï¼ hset,hmset,hexists,hget,hgetall,hkeys,hvals ç­ã\n 3. åºç¨åºæ¯: ç³»ç»ä¸­å¯¹è±¡æ°æ®çå­å¨ã\n\n\n# set\n\n 1. ä»ç» ï¼ set ç±»ä¼¼äº Java ä¸­ç HashSet ãRedis ä¸­ç set ç±»åæ¯ä¸ç§æ åºä¸éå¤éåï¼éåä¸­çåç´ æ²¡æååé¡ºåºãå½ä½ éè¦å­å¨ä¸ä¸ªåè¡¨æ°æ®ï¼åä¸å¸æåºç°éå¤æ°æ®æ¶ï¼set æ¯ä¸ä¸ªå¾å¥½çéæ©ï¼å¹¶ä¸ set æä¾äºå¤æ­æä¸ªæåæ¯å¦å¨ä¸ä¸ª set éååçéè¦æ¥å£ï¼è¿ä¸ªä¹æ¯ list æä¸è½æä¾çãå¯ä»¥åºäº set è½»æå®ç°äº¤éãå¹¶éãå·®éçæä½ãæ¯å¦ï¼ä½ å¯ä»¥å°ä¸ä¸ªç¨æ·ææçå³æ³¨äººå­å¨ä¸ä¸ªéåä¸­ï¼å°å¶ææç²ä¸å­å¨ä¸ä¸ªéåãRedis å¯ä»¥éå¸¸æ¹ä¾¿çå®ç°å¦å±åå³æ³¨ãå±åç²ä¸ãå±ååå¥½ç­åè½ãè¿ä¸ªè¿ç¨ä¹å°±æ¯æ±äº¤éçè¿ç¨ã\n 2. å¸¸ç¨å½ä»¤ï¼ sadd,spop,smembers,sismember,scard,sinterstore,sunion ç­ã\n 3. åºç¨åºæ¯: éè¦å­æ¾çæ°æ®ä¸è½éå¤ä»¥åéè¦è·åå¤ä¸ªæ°æ®æºäº¤éåå¹¶éç­åºæ¯\n\n\n# sorted set\n\n 1. ä»ç»ï¼ å set ç¸æ¯ï¼sorted set å¢å äºä¸ä¸ªæéåæ° scoreï¼ä½¿å¾éåä¸­çåç´ è½å¤æ score è¿è¡æåºæåï¼è¿å¯ä»¥éè¿ score çèå´æ¥è·ååç´ çåè¡¨ãæç¹åæ¯ Java ä¸­ HashMap å TreeSet çç»åä½ã\n 2. å¸¸ç¨å½ä»¤ï¼ zadd,zcard,zscore,zrange,zrevrange,zrem ç­ã\n 3. åºç¨åºæ¯ï¼ éè¦å¯¹æ°æ®æ ¹æ®æä¸ªæéè¿è¡æåºçåºæ¯ãæ¯å¦å¨ç´æ­ç³»ç»ä¸­ï¼å®æ¶æè¡ä¿¡æ¯åå«ç´æ­é´å¨çº¿ç¨æ·åè¡¨ï¼åç§ç¤¼ç©æè¡æ¦ï¼å¼¹å¹æ¶æ¯ï¼å¯ä»¥çè§£ä¸ºææ¶æ¯ç»´åº¦çæ¶æ¯æè¡æ¦ï¼ç­ä¿¡æ¯ã\n\n\n# bitmap\n\n 1. ä»ç»ï¼ bitmap å­å¨çæ¯è¿ç»­çäºè¿å¶æ°å­ï¼0 å 1ï¼ï¼éè¿ bitmap, åªéè¦ä¸ä¸ª bit ä½æ¥è¡¨ç¤ºæä¸ªåç´ å¯¹åºçå¼æèç¶æï¼key å°±æ¯å¯¹åºåç´ æ¬èº« ãæä»¬ç¥é 8 ä¸ª bit å¯ä»¥ç»æä¸ä¸ª byteï¼æä»¥ bitmap æ¬èº«ä¼æå¤§çèçå¨å­ç©ºé´ã\n 2. å¸¸ç¨å½ä»¤ï¼ setbit ãgetbit ãbitcountãbitop\n 3. åºç¨åºæ¯ï¼ éåéè¦ä¿å­ç¶æä¿¡æ¯ï¼æ¯å¦æ¯å¦ç­¾å°ãæ¯å¦ç»å½...ï¼å¹¶éè¦è¿ä¸æ­¥å¯¹è¿äºä¿¡æ¯è¿è¡åæçåºæ¯ãæ¯å¦ç¨æ·ç­¾å°æåµãæ´»è·ç¨æ·æåµãç¨æ·è¡ä¸ºç»è®¡ï¼æ¯å¦æ¯å¦ç¹èµè¿æä¸ªè§é¢ï¼ã\n\n\n# ä¸ãSpring Data Redis\n\nå¯¹äºä¸å±ï¼Spring Data Redis æä¾äºç»ä¸çæä½æ¨¡æ¿ï¼åæä¸­ï¼æä»¬ä¼çå°æ¯ RedisTemplate ç±»ï¼ï¼å°è£äº JedisãLettuce ç API æä½ï¼è®¿é® Redis æ°æ®ãæä»¥ï¼å®éä¸ï¼Spring Data Redis åç½®çæ­£è®¿é®çå®éæ¯ JedisãLettuce ç­ API æä½ã\n\nç®åSpring Data Redis ææ¶åªæ¯æ JedisãLettuce çåé¨å°è£ï¼è Redisson æ¯ç± redisson-spring-data æ¥æä¾ã\n\n\n# 1. RedisTemplate\n\norg.springframework.data.redis.core.RedisTemplate ç±»ï¼ä»ç±»åä¸ï¼æä»¬å°±ææç½ç½ç¥éï¼æä¾ Redis æä½æ¨¡æ¿ API ãæ ¸å¿å±æ§å¦ä¸ï¼\n\n// 1ãåºååç¸å³å±æ§\n@Nullable\nprivate RedisSerializer keySerializer = null;\n@Nullable\nprivate RedisSerializer valueSerializer = null;\n@Nullable\nprivate RedisSerializer hashKeySerializer = null;\n@Nullable\nprivate RedisSerializer hashValueSerializer = null;\nprivate RedisSerializer<String> stringSerializer = RedisSerializer.string();\n\n// 2ãLua èæ¬æ§è¡å¨\n@Nullable\nprivate ScriptExecutor<K> scriptExecutor;\n\n// 3ãå¸¸è§æ°æ®ç»ææä½ç±»\n@Nullable\nprivate ValueOperations<K, V> valueOps;\n@Nullable\nprivate ListOperations<K, V> listOps;\n@Nullable\nprivate SetOperations<K, V> setOps;\n@Nullable\nprivate ZSetOperations<K, V> zSetOps;\n@Nullable\nprivate GeoOperations<K, V> geoOps;\n@Nullable\nprivate HyperLogLogOperations<K, V> hllOps;\n\n\n\n# 2. åºåå\n\n# 2.1 Rediserializer\n\norg.springframework.data.redis.serializer.RedisSerializer æ¥å£ï¼Redis åºååæ¥å£ï¼ç¨äº Redis KEY å VALUE çåºååã\n\npublic interface RedisSerializer<T> {\n    @Nullable\n    byte[] serialize(@Nullable T var1) throws SerializationException;\n\n    @Nullable\n    T deserialize(@Nullable byte[] var1) throws SerializationException;\n\n    static RedisSerializer<Object> java() {\n        return java((ClassLoader)null);\n    }\n\n    static RedisSerializer<Object> java(@Nullable ClassLoader classLoader) {\n        return new JdkSerializationRedisSerializer(classLoader);\n    }\n\n    static RedisSerializer<Object> json() {\n        return new GenericJackson2JsonRedisSerializer();\n    }\n\n    static RedisSerializer<String> string() {\n        return StringRedisSerializer.UTF_8;\n    }\n}\n\n\n * å®ä¹äºå¯¹è±¡ åäºè¿å¶æ°ç»çè½¬æ¢\n\nRedisSerializer çå®ç°ç±»\n\n\n\nä¸»è¦åæåç±»ï¼\n\n * JDK åºååæ¹å¼\n * String åºååæ¹å¼\n * JSON åºååæ¹å¼\n * XML åºååæ¹å¼\n\n# 2.1.1 String åºååæ¹å¼\n\n 1. org.springframework.data.redis.serializer.StringRedisSerializer ï¼å­ç¬¦ä¸²åäºè¿å¶æ°ç»çç´æ¥è½¬æ¢ãä»£ç å¦ä¸ï¼\n\npublic class StringRedisSerializer implements RedisSerializer<String> {\n    private final Charset charset;\n    public static final StringRedisSerializer US_ASCII;\n    public static final StringRedisSerializer ISO_8859_1;\n    public static final StringRedisSerializer UTF_8;\n\n    public StringRedisSerializer() {\n        this(StandardCharsets.UTF_8);\n    }\n\n    public StringRedisSerializer(Charset charset) {\n        Assert.notNull(charset, "Charset must not be null!");\n        this.charset = charset;\n    }\n\n    public String deserialize(@Nullable byte[] bytes) {\n        return bytes == null ? null : new String(bytes, this.charset);\n    }\n\n    public byte[] serialize(@Nullable String string) {\n        return string == null ? null : string.getBytes(this.charset);\n    }\n\n    static {\n        US_ASCII = new StringRedisSerializer(StandardCharsets.US_ASCII);\n        ISO_8859_1 = new StringRedisSerializer(StandardCharsets.ISO_8859_1);\n        UTF_8 = new StringRedisSerializer(StandardCharsets.UTF_8);\n    }\n}\n\n\nç»å¤§å¤æ°æåµä¸ï¼æä»¬ KEY å VALUE é½ä¼ä½¿ç¨è¿ç§åºååæ¹æ¡ã\n\n 2. org.springframework.data.redis.serializer.GenericToStringSerializer ï¼ä½¿ç¨ Spring ConversionService å®ç° <T> å¯¹è±¡å String çè½¬æ¢ï¼ä»è String åäºè¿å¶æ°ç»çè½¬æ¢ã\n\n# 2.1.2 JSON åºååæ¹å¼\n\n 1. org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer ï¼ä½¿ç¨ Jackson å®ç° JSON çåºååæ¹å¼ï¼å¹¶ä¸ä» Generic åè¯å¯ä»¥çåºï¼æ¯æ¯æææç±»ã\n 2. org.springframework.data.redis.serializer.Jackson2JsonRedisSerializer ï¼ä½¿ç¨ Jackson å®ç° JSON çåºååæ¹å¼ï¼å¹¶ä¸æ¾ç¤ºæå® <T> ç±»åã\n 3. com.alibaba.fastjson.support.spring.GenericFastJsonRedisSerializer ï¼ä½¿ç¨ FastJSON å®ç° JSON çåºååæ¹å¼ï¼å GenericJackson2JsonRedisSerializer ä¸è´ã\n 4. com.alibaba.fastjson.support.spring.FastJsonRedisSerializer ï¼ä½¿ç¨ FastJSON å®ç° JSON çåºååæ¹å¼ï¼å Jackson2JsonRedisSerializer ä¸è´ã\n\n# 2.2 éç½®åºååçæ¹å¼\n\n 1. åå»º RedisConfiguration éç½®ç±»\n\n@Configuration\npublic class RedisConfiguration {\n\n    @Bean\n    public RedisTemplate<String, Object> redisTemplate(RedisConnectionFactory factory) {\n        // åå»º RedisTemplate å¯¹è±¡\n        RedisTemplate<String, Object> template = new RedisTemplate<>();\n        // è®¾ç½® RedisConnection å·¥åã\n        template.setConnectionFactory(factory);\n\n        // ä½¿ç¨ String åºååæ¹å¼ï¼åºåå KEY ã\n        template.setKeySerializer(RedisSerializer.string());\n\n        // ä½¿ç¨ JSON åºååæ¹å¼ï¼åºæ¯ Jackson ï¼ï¼åºåå VALUE ã\n        template.setValueSerializer(RedisSerializer.json());\n        return template;\n    }\n\n}\n\n\n * RedisSerializer#string() éææ¹æ³ï¼è¿åçå°±æ¯ä½¿ç¨ UTF-8 ç¼ç ç StringRedisSerializer å¯¹è±¡ãä»£ç å¦ä¸ï¼\n   \n   // RedisSerializer.java\n   static RedisSerializer<String> string() {\n   \treturn StringRedisSerializer.UTF_8;\n   }\n   \n   // StringRedisSerializer.java\n   public static final StringRedisSerializer ISO_8859_1 = new StringRedisSerializer(StandardCharsets.ISO_8859_1);\n   \n\n * RedisSerializer#json() éææ¹æ³ï¼è¿å GenericJackson2JsonRedisSerializer å¯¹è±¡ãä»£ç å¦ä¸ï¼\n\n * // RedisSerializer.java\n   \n   static RedisSerializer<Object> json() {\n   \treturn new GenericJackson2JsonRedisSerializer();\n   }\n   \n\n\n# 3. Redisson\n\nRedissonå¨åºäºNIOçNettyæ¡æ¶ä¸ï¼ååçå©ç¨äºRedisé®å¼æ°æ®åºæä¾çä¸ç³»åä¼å¿ï¼å¨Javaå®ç¨å·¥å·åä¸­å¸¸ç¨æ¥å£çåºç¡ä¸ï¼ä¸ºä½¿ç¨èæä¾äºä¸ç³»åå·æåå¸å¼ç¹æ§çå¸¸ç¨å·¥å·ç±»ãä½¿å¾åæ¬ä½ä¸ºåè°åæºå¤çº¿ç¨å¹¶åç¨åºçå·¥å·åè·å¾äºåè°åå¸å¼å¤æºå¤çº¿ç¨å¹¶åç³»ç»çè½åï¼å¤§å¤§éä½äºè®¾è®¡åç åå¤§è§æ¨¡åå¸å¼ç³»ç»çé¾åº¦ãåæ¶ç»ååå¯ç¹è²çåå¸å¼æå¡ï¼æ´è¿ä¸æ­¥ç®åäºåå¸å¼ç¯å¢ä¸­ç¨åºç¸äºä¹é´çåä½ã\n\n\n# åãç¼å­\n\n\n# 4.1 ç¼å­è®¾ç½®è¿ææ¶é´\n\nä¸è¬æåµä¸ï¼æä»¬è®¾ç½®ä¿å­çç¼å­æ°æ®çæ¶åé½ä¼è®¾ç½®ä¸ä¸ªè¿ææ¶é´ãä¸ºä»ä¹å¢ï¼\n\nå ä¸ºåå­æ¯æéçï¼å¦æç¼å­ä¸­çæææ°æ®é½æ¯ä¸ç´ä¿å­çè¯ï¼ååéç´æ¥ Out of memoryã\n\nRedis ä¸­é¤äºå­ç¬¦ä¸²ç±»åæèªå·±ç¬æè®¾ç½®è¿ææ¶é´çå½ä»¤ setex å¤ï¼å¶ä»æ¹æ³é½éè¦ä¾é  expire å½ä»¤æ¥è®¾ç½®è¿ææ¶é´ ãå¦å¤ï¼ persist å½ä»¤å¯ä»¥ç§»é¤ä¸ä¸ªé®çè¿ææ¶é´ã\n\nè¿ææ¶é´é¤äºæå©äºç¼è§£åå­çæ¶èï¼è¿æä»ä¹å¶ä»ç¨ä¹ï¼\n\nå¾å¤æ¶åï¼æä»¬çä¸å¡åºæ¯å°±æ¯éè¦æä¸ªæ°æ®åªå¨æä¸æ¶é´æ®µåå­å¨ï¼æ¯å¦æä»¬çç­ä¿¡éªè¯ç å¯è½åªå¨ 1 åéåææï¼ç¨æ·ç»å½ç token å¯è½åªå¨ 1 å¤©åææã\n\nå¦æä½¿ç¨ä¼ ç»çæ°æ®åºæ¥å¤ççè¯ï¼ä¸è¬é½æ¯èªå·±å¤æ­è¿æï¼è¿æ ·æ´éº»ç¦å¹¶ä¸æ§è½è¦å·®å¾å¤ã\n\n\n# 4.2 å¦ä½å¤æ­æ°æ®æ¯å¦è¿æ\n\nRedis éè¿ä¸ä¸ªå«åè¿æå­å¸ï¼å¯ä»¥çä½æ¯ hash è¡¨ï¼æ¥ä¿å­æ°æ®è¿æçæ¶é´ãè¿æå­å¸çé®æå Redis æ°æ®åºä¸­çæä¸ª key(é®)ï¼è¿æå­å¸çå¼æ¯ä¸ä¸ª long long ç±»åçæ´æ°ï¼è¿ä¸ªæ´æ°ä¿å­äº key ææåçæ°æ®åºé®çè¿ææ¶é´ï¼æ¯«ç§ç²¾åº¦ç UNIX æ¶é´æ³ï¼ã\n\n# 4.2.1 è¿æå é¤ç­ç¥\n\nå¦æåè®¾ä½ è®¾ç½®äºä¸æ¹ key åªè½å­æ´» 1 åéï¼é£ä¹ 1 åéåï¼Redis æ¯æä¹å¯¹è¿æ¹ key è¿è¡å é¤çå¢ï¼\n\nå¸¸ç¨çè¿ææ°æ®çå é¤ç­ç¥å°±ä¸¤ä¸ªï¼éè¦ï¼èªå·±é ç¼å­è½®å­çæ¶åéè¦æ ¼å¤èèçä¸è¥¿ï¼ï¼\n\n 1. æ°æ§å é¤ ï¼åªä¼å¨ååº key çæ¶åæå¯¹æ°æ®è¿è¡è¿ææ£æ¥ãè¿æ ·å¯¹ CPU æåå¥½ï¼ä½æ¯å¯è½ä¼é æå¤ªå¤è¿æ key æ²¡æè¢«å é¤ã\n 2. å®æå é¤ ï¼ æ¯éä¸æ®µæ¶é´æ½åä¸æ¹ key æ§è¡å é¤è¿æ key æä½ãå¹¶ä¸ï¼Redis åºå±ä¼éè¿éå¶å é¤æä½æ§è¡çæ¶é¿åé¢çæ¥åå°å é¤æä½å¯¹ CPU æ¶é´çå½±åã\n\nå®æå é¤å¯¹åå­æ´å åå¥½ï¼æ°æ§å é¤å¯¹ CPU æ´å åå¥½ãä¸¤èåæåç§ï¼æä»¥ Redis éç¨çæ¯ å®æå é¤+æ°æ§/ææ±å¼å é¤ ã\n\nä½æ¯ï¼ä»ä»éè¿ç» key è®¾ç½®è¿ææ¶é´è¿æ¯æé®é¢çãå ä¸ºè¿æ¯å¯è½å­å¨å®æå é¤åæ°æ§å é¤æ¼æäºå¾å¤è¿æ key çæåµãè¿æ ·å°±å¯¼è´å¤§éè¿æ key å ç§¯å¨åå­éï¼ç¶åå°± Out of memory äºã\n\næä¹è§£å³è¿ä¸ªé®é¢å¢ï¼ç­æ¡å°±æ¯ï¼Redis åå­æ·æ±°æºå¶ã\n\n * è®¾ç½®æ·æ±°ç­ç¥\n   \n   config set maxmemory-policy allkeys-lru\n   \n\nRedis æä¾ 6 ç§æ°æ®æ·æ±°ç­ç¥ï¼\n\n 1. volatile-lruï¼least recently usedï¼ï¼ä»å·²è®¾ç½®è¿ææ¶é´çæ°æ®éï¼server.db[i].expiresï¼ä¸­æéæè¿æå°ä½¿ç¨çæ°æ®æ·æ±°\n 2. volatile-ttlï¼ä»å·²è®¾ç½®è¿ææ¶é´çæ°æ®éï¼server.db[i].expiresï¼ä¸­æéå°è¦è¿æçæ°æ®æ·æ±°\n 3. volatile-randomï¼ä»å·²è®¾ç½®è¿ææ¶é´çæ°æ®éï¼server.db[i].expiresï¼ä¸­ä»»æéæ©æ°æ®æ·æ±°\n 4. allkeys-lruï¼least recently usedï¼ï¼å½åå­ä¸è¶³ä»¥å®¹çº³æ°åå¥æ°æ®æ¶ï¼å¨é®ç©ºé´ä¸­ï¼ç§»é¤æè¿æå°ä½¿ç¨ç keyï¼è¿ä¸ªæ¯æå¸¸ç¨çï¼\n 5. allkeys-randomï¼ä»æ°æ®éï¼server.db[i].dictï¼ä¸­ä»»æéæ©æ°æ®æ·æ±°\n 6. no-evictionï¼ç¦æ­¢é©±éæ°æ®ï¼ä¹å°±æ¯è¯´å½åå­ä¸è¶³ä»¥å®¹çº³æ°åå¥æ°æ®æ¶ï¼æ°åå¥æä½ä¼æ¥éãè¿ä¸ªåºè¯¥æ²¡äººä½¿ç¨å§ï¼\n\n4.0 çæ¬åå¢å ä»¥ä¸ä¸¤ç§ï¼\n\n 1. volatile-lfuï¼least frequently usedï¼ï¼ä»å·²è®¾ç½®è¿ææ¶é´çæ°æ®éï¼server.db[i].expiresï¼ä¸­æéæä¸ç»å¸¸ä½¿ç¨çæ°æ®æ·æ±°\n 2. allkeys-lfuï¼least frequently usedï¼ï¼å½åå­ä¸è¶³ä»¥å®¹çº³æ°åå¥æ°æ®æ¶ï¼å¨é®ç©ºé´ä¸­ï¼ç§»é¤æä¸ç»å¸¸ä½¿ç¨ç key\n\n# 4.2.2 LRUåLFU\n\n * LRUï¼Least Recently Usedï¼\n   \n   å³æè¿æå°ä½¿ç¨ï¼ä¼å°æä¸å¸¸ç¨çæ°æ®ç­éåºæ¥ï¼ä¿çæè¿é¢ç¹ä½¿ç¨çæ°æ®ãLRU ä¼ææææ°æ®ç»æä¸ä¸ªé¾è¡¨ï¼é¾è¡¨å¤´é¨ç§°ä¸º MRUï¼ä»£è¡¨æè¿æå¸¸ä½¿ç¨çæ°æ®ï¼å°¾é¨ç§°ä¸º LRUä»£è¡¨æè¿æä¸å¸¸ä½¿ç¨çæ°æ®ï¼\n   \n   ä½æ¯ï¼å¦æç´æ¥å¨ Redis ä¸­ä½¿ç¨ LRU ç®æ³ä¹ä¼æä¸äºé®é¢ï¼\n   \n   LRU ç®æ³å¨å®ç°è¿ç¨ä¸­ä½¿ç¨é¾è¡¨ç®¡çææç¼å­çæ°æ®ï¼è¿ä¼ç» Redis å¸¦æ¥é¢å¤çå¼éï¼èä¸ï¼å½ææ°æ®è®¿é®æ¶å°±ä¼æé¾è¡¨ç§»å¨æä½ï¼è¿èéä½ Redis çæ§è½ã\n   \n   äºæ¯ï¼Redis å¯¹ LRU çå®ç°è¿è¡äºä¸äºæ¹åï¼\n   \n   * è®°å½æ¯ä¸ª key æè¿ä¸æ¬¡è¢«è®¿é®çæ¶é´æ³ï¼ç±é®å¼å¯¹æ°æ®ç»æ RedisObject ä¸­ç lru å­æ®µè®°å½ï¼\n   * å¨ç¬¬ä¸æ¬¡æ·æ±°æ°æ®æ¶ï¼ä¼åéæºéæ© N ä¸ªæ°æ®ä½ä¸ºä¸ä¸ªåééåï¼ç¶åæ·æ±° lru å¼æå°çãï¼N å¯ä»¥éè¿ config set maxmemory-samples 100 å½ä»¤æ¥éç½®ï¼\n   * åç»­åæ·æ±°æ°æ®æ¶ï¼ä¼æéæ°æ®è¿å¥åééåï¼è¿å¥éåçæ¡ä»¶æ¯ï¼å®ç lru å°äºåééåä¸­æå°ç lruã\n   * å¦æåééåä¸­æ°æ®ä¸ªæ°è¾¾å°äº maxmemory-samplesï¼Redis å°±ä¼å° lru å¼å°çæ°æ®æ·æ±°åºå»ã\n\n * LFUï¼Least Frequently Usedï¼\n   \n   å³æä¸ç»å¸¸ä½¿ç¨ç­ç¥ï¼å®æ¯åºäºæ°æ®è®¿é®æ¬¡æ°æ¥æ·æ±°æ°æ®çï¼å¨ Redis 4.0 æ¶æ·»å è¿æ¥ãå®å¨ LRU ç­ç¥åºç¡ä¸ï¼ä¸ºæ¯ä¸ªæ°æ®å¢å äºä¸ä¸ªè®¡æ°å¨ï¼æ¥ç»è®¡è¿ä¸ªæ°æ®çè®¿é®æ¬¡æ°ã\n   \n   åé¢è¯´å°ï¼LRU ä½¿ç¨äº RedisObject ä¸­ç lru å­æ®µè®°å½æ¶é´æ³ï¼lru æ¯ 24bit çï¼LFU å° lru æåä¸ºä¸¤é¨åï¼\n   \n   * ldt å¼ï¼lru å­æ®µçå 16bitï¼è¡¨ç¤ºæ°æ®çè®¿é®æ¶é´æ³\n   * counter å¼ï¼lru å­æ®µçå 8bitï¼è¡¨ç¤ºæ°æ®çè®¿é®æ¬¡æ° ä½¿ç¨ LFU ç­ç¥æ·æ±°ç¼å­æ¶ï¼ä¼æè®¿é®æ¬¡æ°æä½çæ°æ®æ·æ±°ï¼å¦æè®¿é®æ¬¡æ°ç¸åï¼åæ ¹æ®è®¿é®çæ¶é´ï¼å°è®¿é®æ¶é´æ³æå°çæ·æ±°ã\n   \n   ä¸ºä»ä¹ Redis æäº LRU è¿éè¦ LFU å¢ï¼\n   \n   å¨ä¸äºåºæ¯ä¸ï¼æäºæ°æ®è¢«è®¿é®çæ¬¡æ°éå¸¸å°ï¼çè³åªä¼è¢«è®¿é®ä¸æ¬¡ãå½è¿äºæ°æ®æå¡å®è®¿é®è¯·æ±åï¼å¦æè¿ç»§ç»­çå­å¨ç¼å­ä¸­çè¯ï¼å°±åªä¼ç½ç½å ç¨ç¼å­ç©ºé´ã\n   \n   ç±äº LRU æ¯åºäºè®¿é®æ¶é´çï¼å¦æç³»ç»å¯¹å¤§éæ°æ®è¿è¡åæ¬¡æ¥è¯¢ï¼è¿äºæ°æ®ç lru å¼å°±å¾å¤§ï¼ä½¿ç¨ LFU ç®æ³å°±ä¸å®¹æè¢«æ·æ±°ã\n\n\n# 4.3 ç¼å­ç©¿é\n\n# ä»ä¹æ¯ç¼å­ç©¿éï¼\n\nç¼å­ç©¿éè¯´ç®åç¹å°±æ¯å¤§éè¯·æ±ç key æ ¹æ¬ä¸å­å¨äºç¼å­ä¸­ï¼å¯¼è´è¯·æ±ç´æ¥å°äºæ°æ®åºä¸ï¼æ ¹æ¬æ²¡æç»è¿ç¼å­è¿ä¸å±ãä¸¾ä¸ªä¾å­ï¼æä¸ªé»å®¢ææå¶é æä»¬ç¼å­ä¸­ä¸å­å¨ç key åèµ·å¤§éè¯·æ±ï¼å¯¼è´å¤§éè¯·æ±è½å°æ°æ®åºã\n\n# æåªäºè§£å³åæ³ï¼\n\næåºæ¬çå°±æ¯é¦ååå¥½åæ°æ ¡éªï¼ä¸äºä¸åæ³çåæ°è¯·æ±ç´æ¥æåºå¼å¸¸ä¿¡æ¯è¿åç»å®¢æ·ç«¯ãæ¯å¦æ¥è¯¢çæ°æ®åº id ä¸è½å°äº 0ãä¼ å¥çé®ç®±æ ¼å¼ä¸å¯¹çæ¶åç´æ¥è¿åéè¯¯æ¶æ¯ç»å®¢æ·ç«¯ç­ç­ã\n\n1ï¼ç¼å­æ æ key\n\nå¦æç¼å­åæ°æ®åºé½æ¥ä¸å°æä¸ª key çæ°æ®å°±åä¸ä¸ªå° Redis ä¸­å»å¹¶è®¾ç½®è¿ææ¶é´ï¼å·ä½å½ä»¤å¦ä¸ï¼ SET key value EX 10086 ãè¿ç§æ¹å¼å¯ä»¥è§£å³è¯·æ±ç key ååä¸é¢ç¹çæåµï¼å¦æé»å®¢æ¶ææ»å»ï¼æ¯æ¬¡æå»ºä¸åçè¯·æ± keyï¼ä¼å¯¼è´ Redis ä¸­ç¼å­å¤§éæ æç key ãå¾ææ¾ï¼è¿ç§æ¹æ¡å¹¶ä¸è½ä»æ ¹æ¬ä¸è§£å³æ­¤é®é¢ãå¦æéè¦ç¨è¿ç§æ¹å¼æ¥è§£å³ç©¿éé®é¢çè¯ï¼å°½éå°æ æç key çè¿ææ¶é´è®¾ç½®ç­ä¸ç¹æ¯å¦ 1 åéã\n\nå¦å¤ï¼è¿éå¤è¯´ä¸å´ï¼ä¸è¬æåµä¸æä»¬æ¯è¿æ ·è®¾è®¡ key çï¼ è¡¨å:åå:ä¸»é®å:ä¸»é®å¼ ã\n\n2ï¼å¸éè¿æ»¤å¨\n\nå¸éè¿æ»¤å¨æ¯ä¸ä¸ªéå¸¸ç¥å¥çæ°æ®ç»æï¼éè¿å®æä»¬å¯ä»¥éå¸¸æ¹ä¾¿å°å¤æ­ä¸ä¸ªç»å®æ°æ®æ¯å¦å­å¨äºæµ·éæ°æ®ä¸­ãæä»¬éè¦çå°±æ¯å¤æ­ key æ¯å¦åæ³ï¼ææ²¡ææè§å¸éè¿æ»¤å¨å°±æ¯æä»¬æ³è¦æ¾çé£ä¸ªâäººâã\n\nå·ä½æ¯è¿æ ·åçï¼æææå¯è½å­å¨çè¯·æ±çå¼é½å­æ¾å¨å¸éè¿æ»¤å¨ä¸­ï¼å½ç¨æ·è¯·æ±è¿æ¥ï¼åå¤æ­ç¨æ·åæ¥çè¯·æ±çå¼æ¯å¦å­å¨äºå¸éè¿æ»¤å¨ä¸­ãä¸å­å¨çè¯ï¼ç´æ¥è¿åè¯·æ±åæ°éè¯¯ä¿¡æ¯ç»å®¢æ·ç«¯ï¼å­å¨çè¯æä¼èµ°ä¸é¢çæµç¨ã\n\nä½æ¯ï¼éè¦æ³¨æçæ¯å¸éè¿æ»¤å¨å¯è½ä¼å­å¨è¯¯å¤çæåµãæ»ç»æ¥è¯´å°±æ¯ï¼ å¸éè¿æ»¤å¨è¯´æä¸ªåç´ å­å¨ï¼å°æ¦çä¼è¯¯å¤ãå¸éè¿æ»¤å¨è¯´æä¸ªåç´ ä¸å¨ï¼é£ä¹è¿ä¸ªåç´ ä¸å®ä¸å¨ã\n\nä¸ºä»ä¹ä¼åºç°è¯¯å¤çæåµå¢? æä»¬è¿è¦ä»å¸éè¿æ»¤å¨çåçæ¥è¯´ï¼\n\næä»¬åæ¥çä¸ä¸ï¼å½ä¸ä¸ªåç´ å å¥å¸éè¿æ»¤å¨ä¸­çæ¶åï¼ä¼è¿è¡åªäºæä½ï¼\n\n 1. ä½¿ç¨å¸éè¿æ»¤å¨ä¸­çåå¸å½æ°å¯¹åç´ å¼è¿è¡è®¡ç®ï¼å¾å°åå¸å¼ï¼æå ä¸ªåå¸å½æ°å¾å°å ä¸ªåå¸å¼ï¼ã\n 2. æ ¹æ®å¾å°çåå¸å¼ï¼å¨ä½æ°ç»ä¸­æå¯¹åºä¸æ çå¼ç½®ä¸º 1ã\n\næä»¬åæ¥çä¸ä¸ï¼å½æä»¬éè¦å¤æ­ä¸ä¸ªåç´ æ¯å¦å­å¨äºå¸éè¿æ»¤å¨çæ¶åï¼ä¼è¿è¡åªäºæä½ï¼\n\n 1. å¯¹ç»å®åç´ åæ¬¡è¿è¡ç¸åçåå¸è®¡ç®ï¼\n 2. å¾å°å¼ä¹åå¤æ­ä½æ°ç»ä¸­çæ¯ä¸ªåç´ æ¯å¦é½ä¸º 1ï¼å¦æå¼é½ä¸º 1ï¼é£ä¹è¯´æè¿ä¸ªå¼å¨å¸éè¿æ»¤å¨ä¸­ï¼å¦æå­å¨ä¸ä¸ªå¼ä¸ä¸º 1ï¼è¯´æè¯¥åç´ ä¸å¨å¸éè¿æ»¤å¨ä¸­ã\n\nç¶åï¼ä¸å®ä¼åºç°è¿æ ·ä¸ç§æåµï¼ä¸åçå­ç¬¦ä¸²å¯è½åå¸åºæ¥çä½ç½®ç¸åã ï¼å¯ä»¥éå½å¢å ä½æ°ç»å¤§å°æèè°æ´æä»¬çåå¸å½æ°æ¥éä½æ¦çï¼\n\n\n# 4.4 ç¼å­éªå´©\n\n# ä»ä¹æ¯ç¼å­éªå´©ï¼\n\nå®éä¸ï¼ç¼å­éªå´©æè¿°çå°±æ¯è¿æ ·ä¸ä¸ªç®åçåºæ¯ï¼ç¼å­å¨åä¸æ¶é´å¤§é¢ç§¯çå¤±æï¼åé¢çè¯·æ±é½ç´æ¥è½å°äºæ°æ®åºä¸ï¼é ææ°æ®åºç­æ¶é´åæ¿åå¤§éè¯·æ±ã è¿å°±å¥½æ¯éªå´©ä¸æ ·ï¼æ§æ¯ææ½ä¹å¿ï¼æ°æ®åºçååå¯æ³èç¥ï¼å¯è½ç´æ¥å°±è¢«è¿ä¹å¤è¯·æ±å¼å®æºäºã\n\nä¸¾ä¸ªä¾å­ï¼ç³»ç»çç¼å­æ¨¡ååºäºé®é¢æ¯å¦å®æºå¯¼è´ä¸å¯ç¨ãé æç³»ç»çææè®¿é®ï¼é½è¦èµ°æ°æ®åºã\n\nè¿æä¸ç§ç¼å­éªå´©çåºæ¯æ¯ï¼æä¸äºè¢«å¤§éè®¿é®æ°æ®ï¼ç­ç¹ç¼å­ï¼å¨æä¸æ¶å»å¤§é¢ç§¯å¤±æï¼å¯¼è´å¯¹åºçè¯·æ±ç´æ¥è½å°äºæ°æ®åºä¸ã è¿æ ·çæåµï¼æä¸é¢å ç§è§£å³åæ³ï¼\n\nä¸¾ä¸ªä¾å­ ï¼ç§æå¼å§ 12 ä¸ªå°æ¶ä¹åï¼æä»¬ç»ä¸å­æ¾äºä¸æ¹ååå° Redis ä¸­ï¼è®¾ç½®çç¼å­è¿ææ¶é´ä¹æ¯ 12 ä¸ªå°æ¶ï¼é£ä¹ç§æå¼å§çæ¶åï¼è¿äºç§æçååçè®¿é®ç´æ¥å°±å¤±æäºãå¯¼è´çæåµå°±æ¯ï¼ç¸åºçè¯·æ±ç´æ¥å°±è½å°äºæ°æ®åºä¸ï¼å°±åéªå´©ä¸æ ·å¯æã\n\n# æåªäºè§£å³åæ³ï¼\n\néå¯¹ Redis æå¡ä¸å¯ç¨çæåµï¼\n\n 1. éç¨ Redis éç¾¤ï¼é¿ååæºåºç°é®é¢æ´ä¸ªç¼å­æå¡é½æ²¡åæ³ä½¿ç¨ã\n 2. éæµï¼é¿ååæ¶å¤çå¤§éçè¯·æ±ã\n\néå¯¹ç­ç¹ç¼å­å¤±æçæåµï¼\n\n 1. è®¾ç½®ä¸åçå¤±ææ¶é´æ¯å¦éæºè®¾ç½®ç¼å­çå¤±ææ¶é´ã\n 2. ç¼å­æ°¸ä¸å¤±æã\n\n\n# 4.5 å¦ä½ä¿è¯ç¼å­åæ°æ®åºæ°æ®çä¸è´æ§ï¼\n\né¦åï¼æä»¬å¿é¡»ç¥éè¿éçâæ°æ®ä¸è´æ§âæ¯ä»ä¹ææãè¿éâä¸è´æ§âåæ¬ä¸¤ç§æåµï¼\n\n * ç¼å­ä¸­ææ°æ®ï¼é£ä¹ï¼ç¼å­çæ°æ®éè¦åæ°æ®åºä¸­çå¼ç¸å\n * ç¼å­ä¸­æ¬èº«æ²¡ææ°æ®ï¼é£ä¹ï¼æ°æ®åºä¸­çå¼å°±å¿é¡»æ¯ææ°å¼ã\n\nä¸ç¬¦åè¿ä¸¤ç§æåµçï¼å°±æ¯ç¼å­åæ°æ®åºçæ°æ®ä¸ä¸è´äºã\n\n# ä¸ºä»ä¹ä¼åçç¼å­åæ°æ®åºçæ°æ®ä¸ä¸è´\n\nå½ç¼å­çè¯»åæ¨¡å¼ä¸åæ¶ï¼ç¼å­æ°æ®ä¸ä¸è´åççæåµä¸ä¸æ ·ã\n\n# å½redisä½ä¸ºè¯»åç¼å­æ¶\n\nå¯¹äºè¯»åç¼å­æ¥è¯´ï¼å¦æè¦å¯¹æ°æ®è¿è¡å¢å æ¹ï¼å°±éè¦å¨ç¼å­ä¸­è¿è¡ï¼åæ¶è¿è¦æ ¹æ®éåçååç­ç¥ï¼å³å®æ¯å¦åæ­¥ååå°æ°æ®åºä¸­ã\n\n * åæ­¥ç´åç­ç¥ï¼åç¼å­æ¶ï¼ä¹åæ­¥åæ°æ®åºï¼ç¼å­åæ°æ®åºä¸­çæ°æ®ä¸è´\n * å¼æ­¥ååç­ç¥ï¼åç¼å­æ¶ä¸åæ­¥åæ°æ®åºï¼ç­å°æ°æ®ä»ç¼å­ä¸­æ·æ±°æ¶ï¼åååæ°æ®åºãä½¿ç¨è¿ç§ç­ç¥æ¶ï¼å¦ææ°æ®è¿æ²¡æååæ°æ®åºï¼ç¼å­å°±åçäºæéãé£ä¹ï¼æ­¤æ¶ï¼æ°æ®åºå°±æ²¡æææ°æ°æ®äº\n\næä»¥ï¼å¯¹äºè¯»åç¼å­æ¥è¯´ï¼è¦æ³ä¿è¯ç¼å­åæ°æ®åºä¸­çæ°æ®ä¸è´ï¼å°±è¦éç¨åæ­¥ç´åç­ç¥ãä¸è¿ï¼éè¦æ³¨æçæ¯ï¼å¦æéç¨è¿ç§ç­ç¥ï¼å°±éè¦ä¿è¯åæ¶æ´æ°ç¼å­åæ°æ®åºãæä»¥ï¼æä»¬è¦å¨ä¸å¡åºç¨ä¸­ä½¿ç¨äºå¡æºå¶ï¼æ¥ä¿è¯ç¼å­åæ°æ®åºçæ´æ°å·æåå­æ§ï¼ä¹å°±æ¯è¯´ï¼ä¸¤èè¦ä¸ä¸èµ·æ´æ°ï¼è¦ä¸é½ä¸æ´æ°ï¼è¿åéè¯¯ä¿¡æ¯ï¼è¿è¡éè¯ãå¦åï¼æä»¬å°±æ æ³å®ç°åæ­¥ç´æ¥\n\nå½ç¶ï¼å¨æäºåºæ¯ä¸ï¼æä»¬å¯¹æ°æ®ä¸è´æ§çè¦æ±å¯è½ä¸æ¯é£ä¹é«ï¼é£ä¹ï¼æä»¬å¯ä»¥ä½¿ç¨å¼æ­¥ååç­ç¥ã\n\n# å½redis ä½ä¸ºåªè¯»ç¼å­æ¶\n\nå¯¹äºåªè¯»ç¼å­æ¥è¯´ï¼\n\n * å¦æææ°æ®æ°å¢ï¼ä¼ç´æ¥åå¥æ°æ®åºï¼\n * ææ°æ®å æ¹æ¶ï¼å°±éè¦æåªè¯»ç¼å­ä¸­çæ°æ®æ è®°ä¸ºæ æ\n   * è¿æ ·ï¼åºç¨åç»§å¨è®¿é®è¿äºï¼äºå¢å æ¹çæ°æ®æ¶ï¼å ä¸ºç¼å­ä¸­æ²¡æç¸åºçæ°æ®ï¼å°±ä¼åçç¼å­ç¼ºå¤±ã\n   * æ­¤æ¶ï¼åºç¨åä»æ°æ®åºä¸­ææ°æ®è¯»å¥ç¼å­ï¼è¿æ ·åç»­åè®¿é®æ°æ®æ¶ï¼å°±è½å¤ç´æ¥ä»ç¼å­ä¸­è¯»åäºã\n\né£ä¹ï¼è¿ä¸ªè¿ç¨ä¸­ä¼ä¸ä¼åºç°æ°æ®ä¸ä¸è´çæåµå¢ï¼ ï¼1ï¼æ°å¢æ°æ®ï¼\n\n * å¦ææ¯æ°å¢æ°æ®ï¼æ°æ®ä¼ç´æ¥åå°æ°æ®åºä¸­ï¼ä¸ç¨å¯¹ç¼å­åä»»ä½æä½ãæ­¤æ¶ï¼ç¼å­ä¸­æ¬èº«å°±æ²¡ææ°å¢æ°æ®ï¼èæ°æ®åºä¸­æ¯ææ°å¼\n * è¿ç§æåµç¬¦åæä»¬ååæè¯´çä¸è´æ§çç¬¬ 2 ç§æåµï¼æä»¥ï¼æ­¤æ¶ï¼ç¼å­åæ°æ®åºçæ°æ®æ¯ä¸è´çã\n\nï¼2ï¼å æ¹æ°æ®\n\nå¦æåçå æ¹æä½ï¼åºç¨æ¢è¦æ´æ°æ°æ®åºï¼ä¹è¦å¨ç¼å­ä¸­å é¤æ°æ®ãè¿ä¸¤ä¸ªæä½å¦ææ æ³ä¿è¯åå­æ§ï¼ä¹å°±æ¯è¯´ï¼è¦ä¸é½å®æï¼è¦ä¸é½æ²¡å®æï¼æ­¤æ¶ï¼å°±ä¼åºç°æ°æ®ä¸ä¸è´é®é¢äºã\n\n * æä»¬åè®¾åºç¨åå é¤ç¼å­ï¼åæ´æ°æ°æ®åºï¼å¦æç¼å­å é¤æåï¼ä½æ¯æ°æ®åºæ´æ°å¤±è´¥ï¼é£ä¹ï¼åºç¨åè®¿é®æ°æ®æ¶ï¼ç¼å­ä¸­æ²¡ææ°æ®ï¼å°±ä¼åçç¼å­ç¼ºå¤±ãç¶åï¼åºç¨åè®¿é®æ°æ®åºï¼ä½æ¯æ°æ®åºä¸­çå¼ä¸ºæ§å¼ï¼åºç¨å°±è®¿é®å°æ§å¼äºã\n * å¦æåºç¨åå®æäºæ°æ®åºçæ´æ°ï¼ä½æ¯ï¼å¨å é¤ç¼å­æ¶å¤±è´¥äºï¼é£ä¹ï¼æ°æ®åºä¸­çå¼æ¯æ°å¼ï¼èç¼å­ä¸­çæ¯æ§å¼ï¼è¿è¯å®æ¯ä¸ä¸è´çãè¿ä¸ªæ¶åï¼å¦ææå¶ä»çå¹¶åè¯·æ±æ¥è®¿é®æ°æ®ï¼æç§æ­£å¸¸çç¼å­è®¿é®æµç¨ï¼å°±ä¼åå¨ç¼å­ä¸­æ¥è¯¢ï¼ä½æ­¤æ¶ï¼å°±ä¼è¯»å°æ§å¼äºã\n\næ»ç»ï¼å¨æ´æ°æ°æ®åºåå é¤ç¼å­å¼çè¿ç¨ä¸­ï¼æ è®ºè¿ä¸¤ä¸ªæä½çæ§è¡é¡ºåºè°åè°åï¼åªè¦æä¸ä¸ªæä½å¤±è´¥äºï¼å°±ä¼å¯¼è´å®¢æ·ç«¯è¯»åå°æ§å¼\n\n# å¦ä½è§£å³æ°æ®ä¸ä¸è´é®é¢ï¼\n\n# ç¬¬ä¸ç§æ¹æ³ï¼éè¯æºå¶\n\nå·ä½çè¯´ï¼å°±æ¯ï¼\n\n * å¯ä»¥æè¦å é¤çç¼å­å¼æèè¦æ´æ°çæ°æ®åºå¼æå­å°æ¶æ¯éåä¸­ãå½åºç¨æ²¡æè½å¤æåçå é¤ç¼å­å¼æèæ¯æ´æ°æ°æ®åºå¼æ¶ï¼å¯ä»¥ä»æ¶æ¯éåä¸­éæ°è¯»åè¿äºå¼ï¼ç¶ååæ¬¡è¿è¡å é¤æèæ´æ°\n * å¦æè½å¤æåå é¤æèæ´æ°ï¼æä»¬å°±è¦æè¿äºå¼ä»æ¶æ¯éåä¸­å»é¤ï¼ä»¥åéå¤æä½ï¼æ­¤æ¶ï¼æä»¬ä¹å¯ä»¥ä¿è¯æ°æ®åºåç¼å­ä¸è´äºãå¦åçè¯ï¼æä»¬è¿éè¦åæ¬¡è¿è¡éè¯ãå¦æéè¯è¶è¿ä¸å®æ¬¡æ°ï¼è¿æ¯æ²¡ææåï¼æä»¬å°±éè¦ååºç¨å±åéæ¥éä¿¡æ¯äºã\n\nååè¯´çæ¯å¨æ´æ°æ°æ®åºåå é¤ç¼å­å¼çè¿ç¨ä¸­ï¼å¶ä¸­ä¸ä¸ªæä½å¤±è´¥çæåµï¼å®éä¸ï¼å³ä½¿è¿ä¸¤ä¸ªæä½ç¬¬ä¸æ¬¡æ§è¡æ¶é½æ²¡æå¤±è´¥ï¼å½æå¤§éå¹¶åè¯·æ±æ¶ï¼åºç¨è¿æ¯æå¯è½è¯»å°ä¸ä¸è´çæ°æ®\n\nåæ ·ï¼æä»¬æç§ä¸åçå é¤åæ´æ°é¡ºåºï¼åæä¸¤ç§æåµæ¥çãå¨è¿ä¸¤ç§æåµä¸ï¼æä»¬çè§£å³æ¹æ³ä¹ææä¸åã\n\n# æåµä¸ï¼åå é¤ç¼å­ï¼åæ´æ°æ°æ®åº\n\nåè®¾çº¿ç¨ A å é¤ç¼å­å¼åï¼è¿æ²¡ææ¥å¾åæ´æ°æ°æ®åºï¼æ¯å¦è¯´æç½ç»å»¶è¿ï¼ï¼çº¿ç¨ B å°±å¼å§è¯»åæ°æ®äºï¼é£ä¹è¿ä¸ªæ¶åï¼çº¿ç¨ B ä¼åç°ç¼å­ç¼ºå¤±ï¼å°±åªè½å»æ°æ®åºè¯»åãè¿ä¼å¸¦æ¥ä¸¤ä¸ªé®é¢ï¼\n\n 1. çº¿ç¨ B è¯»åå°äºæ§å¼ï¼\n 2. çº¿ç¨ B æ¯å¨ç¼å­ç¼ºå¤±çæåµä¸è¯»åçæ°æ®åºï¼æä»¥ï¼å®è¿ä¼ææ§å¼åå¥ç¼å­ï¼è¿å¯è½ä¼å¯¼è´å¶ä»çº¿ç¨ä»ç¼å­ä¸­è¯»å°æ§å¼ã\n\næä¹è§£å³å¢ï¼å¨çº¿ç¨ A æ´æ°å®æ°æ®åºå¼ä»¥åï¼æä»¬å¯ä»¥è®©å®å sleep ä¸å°æ®µæ¶é´ï¼åè¿è¡ä¸æ¬¡ç¼å­å é¤æä½ã\n\n * ä¹æä»¥è¦å ä¸ sleep çè¿æ®µæ¶é´ï¼å°±æ¯ä¸ºäºè®©çº¿ç¨ B è½å¤åä»æ°æ®åºè¯»åæ°æ®ï¼åæç¼ºå¤±çæ°æ®åå¥ç¼å­ï¼ç¶åï¼çº¿ç¨ A åè¿è¡å é¤ãæä»¥ï¼çº¿ç¨ A sleep çæ¶é´ï¼å°±éè¦å¤§äºçº¿ ç¨ B è¯»åæ°æ®ååå¥ç¼å­çæ¶é´ãè¿ä¸ªæ¶é´æä¹ç¡®å®å¢ï¼å»ºè®®ä½ å¨ä¸å¡ç¨åºè¿è¡çæ¶åï¼ç»è®¡ä¸çº¿ç¨è¯»æ°æ®ååç¼å­çæä½æ¶é´ï¼ä»¥æ­¤ä¸ºåºç¡æ¥è¿è¡ä¼°ç®ã\n * è¿æ ·ä¸æ¥ï¼å¶å®çº¿ç¨è¯»åæ°æ®æ¶ï¼ä¼åç°ç¼å­ç¼ºå¤±ï¼æä»¥ä¼ä»æ°æ®åºä¸­è¯»åææ°å¼ãå ä¸ºè¿ä¸ªæ¹æ¡ä¼å¨ç¬¬ä¸æ¬¡å é¤ç¼å­å¼åï¼å»¶è¿ä¸æ®µæ¶é´åæ¬¡è¿è¡å é¤ï¼æä»¥æä»¬ä¹æå®å«åâå»¶è¿åå âã\n\n# æåµäºï¼åæ´æ°æ°æ®åºå¼ï¼åå é¤ç¼å­å¼\n\n * å¦æçº¿ç¨ A å é¤äºæ°æ®åºä¸­çå¼ï¼ä½è¿æ²¡æ¥å¾åå é¤ç¼å­å¼ï¼çº¿ç¨ B å°±å¼å§è¯»åæ°æ®äºï¼é£ä¹æ­¤æ¶ï¼çº¿ç¨ B æ¥è¯¢ç¼å­æ¶ï¼åç°ç¼å­å½ä¸­ï¼å°±ä¼ç´æ¥ä»ç¼å­ä¸­è¯»åæ§å¼ã\n * ä¸è¿ï¼å¨è¿ç§æåµä¸ï¼å¦æå¶ä»çº¿ç¨å¹¶åè¯»ç¼å­çè¯·æ±ä¸å¤ï¼é£ä¹ï¼å°±ä¸ä¼æå¾å¤è¯·æ±è¯»åå°æ§å¼ãèä¸ï¼çº¿ç¨ A ä¸è¬ä¹ä¼å¾å¿«å é¤ç¼å­å¼ï¼è¿æ ·ä¸æ¥ï¼å¶ä»çº¿ç¨åæ¬¡è¯»åæ¶ï¼å°±ä¼åçç¼å­ç¼ºå¤±ï¼è¿èä»æ°æ®åºä¸­è¯»åææ°å¼ãæä»¥ï¼è¿ç§æåµå¯¹ä¸å¡çå½±åè¾å°ã\n\næ¹æ³ä¹æ¯å»¶è¿åå ã\n\n\n# äºãRedis çæä¹åæºå¶\n\nå¾å¤æ¶åæä»¬éè¦æä¹åæ°æ®ä¹å°±æ¯å°åå­ä¸­çæ°æ®åå¥å°ç¡¬çéé¢ï¼å¤§é¨ååå æ¯ä¸ºäºä¹åéç¨æ°æ®ï¼æ¯å¦éå¯æºå¨ãæºå¨æéä¹åæ¢å¤æ°æ®ï¼ï¼æèæ¯ä¸ºäºé²æ­¢ç³»ç»æéèå°æ°æ®å¤ä»½å°ä¸ä¸ªè¿ç¨ä½ç½®ã\n\nRedis ä¸åäº Memcached çå¾éè¦ä¸ç¹å°±æ¯ï¼Redis æ¯ææä¹åï¼èä¸æ¯æä¸¤ç§ä¸åçæä¹åæä½ãRedis çä¸ç§æä¹åæ¹å¼å«å¿«ç§ï¼snapshottingï¼RDBï¼ï¼å¦ä¸ç§æ¹å¼æ¯åªè¿½å æä»¶ï¼append-only file, AOFï¼ãè¿ä¸¤ç§æ¹æ³åæåç§ï¼ä¸é¢æä¼è¯¦ç»è¿ä¸¤ç§æä¹åæ¹æ³æ¯ä»ä¹ï¼æä¹ç¨ï¼å¦ä½éæ©éåèªå·±çæä¹åæ¹æ³ã\n\n\n# å¿«ç§ï¼snapshottingï¼æä¹åï¼RDBï¼\n\nRedis å¯ä»¥éè¿åå»ºå¿«ç§æ¥è·å¾å­å¨å¨åå­éé¢çæ°æ®å¨æä¸ªæ¶é´ç¹ä¸çå¯æ¬ãRedis åå»ºå¿«ç§ä¹åï¼å¯ä»¥å¯¹å¿«ç§è¿è¡å¤ä»½ï¼å¯ä»¥å°å¿«ç§å¤å¶å°å¶ä»æå¡å¨ä»èåå»ºå·æç¸åæ°æ®çæå¡å¨å¯æ¬ï¼Redis ä¸»ä»ç»æï¼ä¸»è¦ç¨æ¥æé« Redis æ§è½ï¼ï¼è¿å¯ä»¥å°å¿«ç§çå¨åå°ä»¥ä¾¿éå¯æå¡å¨çæ¶åä½¿ç¨ã\n\nå¿«ç§æä¹åæ¯ Redis é»è®¤éç¨çæä¹åæ¹å¼ï¼å¨ Redis.conf éç½®æä»¶ä¸­é»è®¤ææ­¤ä¸éç½®ï¼\n\n> save 900 1 #å¨900ç§(15åé)ä¹åï¼å¦æè³å°æ1ä¸ªkeyåçååï¼Rediså°±ä¼èªå¨è§¦åBGSAVEå½ä»¤åå»ºå¿«ç§ã\n> \n> save 300 10 #å¨300ç§(5åé)ä¹åï¼å¦æè³å°æ10ä¸ªkeyåçååï¼Rediså°±ä¼èªå¨è§¦åBGSAVEå½ä»¤åå»ºå¿«ç§ã\n> \n> save 60 10000 #å¨60ç§(1åé)ä¹åï¼å¦æè³å°æ10000ä¸ªkeyåçååï¼Rediså°±ä¼èªå¨è§¦åBGSAVEå½ä»¤åå»ºå¿«ç§ã\n\n\n# AOFï¼append-only fileï¼æä¹å\n\nä¸å¿«ç§æä¹åç¸æ¯ï¼AOF æä¹åçå®æ¶æ§æ´å¥½ï¼å æ­¤å·²æä¸ºä¸»æµçæä¹åæ¹æ¡ãé»è®¤æåµä¸ Redis æ²¡æå¼å¯ AOFï¼append only fileï¼æ¹å¼çæä¹åï¼å¯ä»¥éè¿ appendonly åæ°å¼å¯ï¼\n\n> appendonly yes\n\nå¼å¯ AOF æä¹ååæ¯æ§è¡ä¸æ¡ä¼æ´æ¹ Redis ä¸­çæ°æ®çå½ä»¤ï¼Redis å°±ä¼å°è¯¥å½ä»¤åå¥å°åå­ç¼å­ server.aof_buf ä¸­ï¼ç¶ååæ ¹æ® appendfsync éç½®æ¥å³å®ä½æ¶å°å¶åæ­¥å°ç¡¬çä¸­ç AOF æä»¶ã\n\nAOF æä»¶çä¿å­ä½ç½®å RDB æä»¶çä½ç½®ç¸åï¼é½æ¯éè¿ dir åæ°è®¾ç½®çï¼é»è®¤çæä»¶åæ¯ appendonly.aofã\n\nå¨ Redis çéç½®æä»¶ä¸­å­å¨ä¸ç§ä¸åç AOF æä¹åæ¹å¼ï¼å®ä»¬åå«æ¯ï¼\n\n> appendfsync always #æ¯æ¬¡ææ°æ®ä¿®æ¹åçæ¶é½ä¼åå¥AOFæä»¶,è¿æ ·ä¼ä¸¥ééä½Redisçéåº¦ appendfsync everysec #æ¯ç§éåæ­¥ä¸æ¬¡ï¼æ¾å¼å°å°å¤ä¸ªåå½ä»¤åæ­¥å°ç¡¬ç appendfsync no #è®©æä½ç³»ç»å³å®ä½æ¶è¿è¡åæ­¥\n\nä¸ºäºå¼é¡¾æ°æ®ååå¥æ§è½ï¼ç¨æ·å¯ä»¥èè appendfsync everysec éé¡¹ ï¼è®© Redis æ¯ç§åæ­¥ä¸æ¬¡ AOF æä»¶ï¼Redis æ§è½å ä¹æ²¡åå°ä»»ä½å½±åãèä¸è¿æ ·å³ä½¿åºç°ç³»ç»å´©æºï¼ç¨æ·æå¤åªä¼ä¸¢å¤±ä¸ç§ä¹åäº§ççæ°æ®ãå½ç¡¬çå¿äºæ§è¡åå¥æä½çæ¶åï¼Redis è¿ä¼ä¼éçæ¾æ¢èªå·±çéåº¦ä»¥ä¾¿éåºç¡¬ççæå¤§åå¥éåº¦ã\n\n\n# å­ãRedis äºå¡\n\nRedis å¯ä»¥éè¿ MULTIï¼EXECï¼DISCARD å WATCH ç­å½ä»¤æ¥å®ç°äºå¡(transaction)åè½ã\n\nä½¿ç¨ MULTI å½ä»¤åå¯ä»¥è¾å¥å¤ä¸ªå½ä»¤ãRedis ä¸ä¼ç«å³æ§è¡è¿äºå½ä»¤ï¼èæ¯å°å®ä»¬æ¾å°éåï¼å½è°ç¨äº EXEC å½ä»¤å°æ§è¡ææå½ä»¤ã\n\nè¿ä¸ªè¿ç¨æ¯è¿æ ·çï¼\n\n 1. å¼å§äºå¡ï¼MULTIï¼ã\n 2. å½ä»¤å¥é(æ¹éæä½ Redis çå½ä»¤ï¼åè¿ååºï¼FIFOï¼çé¡ºåºæ§è¡)ã\n 3. æ§è¡äºå¡(EXEC)ã\n\nä½ ä¹å¯ä»¥éè¿ DISCARD å½ä»¤åæ¶ä¸ä¸ªäºå¡ï¼å®ä¼æ¸ç©ºäºå¡éåä¸­ä¿å­çææå½ä»¤ã\n\nWATCH å½ä»¤ç¨äºçå¬æå®çé®ï¼å½è°ç¨ EXEC å½ä»¤æ§è¡äºå¡æ¶ï¼å¦æä¸ä¸ªè¢« WATCH å½ä»¤çè§çé®è¢«ä¿®æ¹çè¯ï¼æ´ä¸ªäºå¡é½ä¸ä¼æ§è¡ï¼ç´æ¥è¿åå¤±è´¥ã\n\nRedis æ¯ä¸æ¯æ roll back çï¼å èä¸æ»¡è¶³åå­æ§çï¼èä¸ä¸æ»¡è¶³æä¹æ§ï¼ã\n\nRedis å®ç½ä¹è§£éäºèªå·±ä¸ºå¥ä¸æ¯æåæ»ãç®åæ¥è¯´å°±æ¯ Redis å¼åèä»¬è§å¾æ²¡å¿è¦æ¯æåæ»ï¼è¿æ ·æ´ç®åä¾¿æ·å¹¶ä¸æ§è½æ´å¥½ãRedis å¼åèè§å¾å³ä½¿å½ä»¤æ§è¡éè¯¯ä¹åºè¯¥å¨å¼åè¿ç¨ä¸­å°±è¢«åç°èä¸æ¯çäº§è¿ç¨ä¸­ã\n\nä½ å¯ä»¥å° Redis ä¸­çäºå¡å°±çè§£ä¸º ï¼Redis äºå¡æä¾äºä¸ç§å°å¤ä¸ªå½ä»¤è¯·æ±æåçåè½ãç¶åï¼åæé¡ºåºæ§è¡æåçææå½ä»¤ï¼å¹¶ä¸ä¸ä¼è¢«ä¸­éææ­ã\n\n\n# ä¸ãRedis åæ¶æ¯éå\n\nRedis 5.0 æ°å¢å çä¸ä¸ªæ°æ®ç»æ Stream å¯ä»¥ç¨æ¥åæ¶æ¯éåï¼Stream æ¯æï¼\n\n * åå¸ / è®¢éæ¨¡å¼\n * æç§æ¶è´¹èç»è¿è¡æ¶è´¹\n * æ¶æ¯æä¹åï¼ RDB å AOFï¼\n\nä¸è¿ï¼åä¸ä¸çæ¶æ¯éåç¸æ¯ï¼è¿æ¯æå¾å¤æ¬ ç¼ºçå°æ¹æ¯å¦æ¶æ¯ä¸¢å¤±åå ç§¯é®é¢ä¸å¥½è§£å³ã\n\næä»¬éå¸¸å»ºè®®æ¯ä¸éè¦ä½¿ç¨ Redis æ¥åæ¶æ¯éåçï¼ä½ å®å¨å¯ä»¥éæ©å¸é¢ä¸æ¯è¾æççä¸äºæ¶æ¯éåæ¯å¦ RocketMQãKafkaã',normalizedContent:'# ä¸ãæ¦è¿°\n\nredis æ¯ä¸ä¸ªé«æ§è½ç key-value æ°æ®åºï¼ä¸è¿ä¸ä¼ ç»æ°æ®åºä¸åçæ¯ redis çæ°æ®æ¯å­å¨åå­ä¸­ç ï¼ä¹å°±æ¯å®æ¯åå­æ°æ®åºï¼æä»¥è¯»åéåº¦éå¸¸å¿«ï¼å æ­¤ redis è¢«å¹¿æ³åºç¨äºç¼å­æ¹åã\n\nå¦å¤ï¼redis é¤äºåç¼å­ä¹å¤ï¼redis ä¹ç»å¸¸ç¨æ¥ååå¸å¼éï¼çè³æ¯æ¶æ¯éåã\n\nredis æä¾äºå¤ç§æ°æ®ç±»åæ¥æ¯æä¸åçä¸å¡åºæ¯ãredis è¿æ¯æäºå¡ ãæä¹åãlua èæ¬ãå¤ç§éç¾¤æ¹æ¡ã\n\n`redisçç¹ç¹`ï¼\n\n 1. redisæ¯ææ°æ®çæä¹åï¼å¯ä»¥å°åå­ä¸­çæ°æ®ä¿æå¨ç£çä¸­ï¼éå¯çæ¶åå¯ä»¥åæ¬¡å è½½è¿è¡ä½¿ç¨ã\n 2. redisä¸ä»ä»æ¯æç®åçkey-valueç±»åçæ°æ®ï¼åæ¶è¿æä¾listï¼setï¼zsetï¼hashç­æ°æ®ç»æçå­å¨ã(redisæ¯æå¤æ°æ®ç»æå­å¨)\n 3. redisæ¯ææ°æ®çå¤ä»½ï¼å³master-slaveæ¨¡å¼çæ°æ®å¤ä»½ã\n\n\n# äºãredis å¸¸è§çæ°æ®ç»æ\n\n\n# string\n\n 1. ä»ç» ï¼string æ°æ®ç»ææ¯ç®åç key-value ç±»åãè½ç¶ redis æ¯ç¨ c è¯­è¨åçï¼ä½æ¯ redis å¹¶æ²¡æä½¿ç¨ c çå­ç¬¦ä¸²è¡¨ç¤ºï¼èæ¯èªå·±æå»ºäºä¸ç§ ç®åå¨æå­ç¬¦ä¸²ï¼simple dynamic stringï¼sdsï¼ãç¸æ¯äº c çåçå­ç¬¦ä¸²ï¼redis ç sds ä¸åå¯ä»¥ä¿å­ææ¬æ°æ®è¿å¯ä»¥ä¿å­äºè¿å¶æ°æ®ï¼å¹¶ä¸è·åå­ç¬¦ä¸²é¿åº¦å¤æåº¦ä¸º o(1)ï¼c å­ç¬¦ä¸²ä¸º o(n)ï¼,é¤æ­¤ä¹å¤ï¼redis ç sds api æ¯å®å¨çï¼ä¸ä¼é æç¼å²åºæº¢åºã\n 2. å¸¸ç¨å½ä»¤ï¼ set,get,strlen,exists,decr,incr,setex ç­ç­ã\n 3. åºç¨åºæ¯ï¼ ä¸è¬å¸¸ç¨å¨éè¦è®¡æ°çåºæ¯ï¼æ¯å¦ç¨æ·çè®¿é®æ¬¡æ°ãç­ç¹æç« çç¹èµè½¬åæ°éç­ç­ã\n\n**è®¾ç½®è¿ææ¶é´**\n\nsetex key seconds value å°å¼ value å³èå° key ï¼å¹¶å° key çè¿ææ¶é´è®¾ä¸º seconds (ä»¥ç§ä¸ºåä½)ã\n\npsetex key milliseconds valueè¿ä¸ªå½ä»¤å setex å½ä»¤ç¸ä¼¼ï¼ä½å®ä»¥æ¯«ç§ä¸ºåä½è®¾ç½® key ççå­æ¶é´ï¼èä¸æ¯å setex å½ä»¤é£æ ·ï¼ä»¥ç§ä¸ºåä½ã\n\nå¶ä»ç±»åä½¿ç¨ expire key secondsä¸ºç»å® key è®¾ç½®è¿ææ¶é´ã\n\n\n# list\n\n 1. ä»ç» ï¼list å³æ¯ é¾è¡¨ãé¾è¡¨æ¯ä¸ç§éå¸¸å¸¸è§çæ°æ®ç»æï¼ç¹ç¹æ¯æäºæ°æ®åç´ çæå¥åå é¤å¹¶ä¸å¯ä»¥çµæ´»è°æ´é¾è¡¨é¿åº¦ï¼ä½æ¯é¾è¡¨çéæºè®¿é®å°é¾ãè®¸å¤é«çº§ç¼ç¨è¯­è¨é½åç½®äºé¾è¡¨çå®ç°æ¯å¦ java ä¸­ç linkedlistï¼ä½æ¯ c è¯­è¨å¹¶æ²¡æå®ç°é¾è¡¨ï¼æä»¥ redis å®ç°äºèªå·±çé¾è¡¨æ°æ®ç»æãredis ç list çå®ç°ä¸ºä¸ä¸ª ååé¾è¡¨ï¼å³å¯ä»¥æ¯æååæ¥æ¾åéåï¼æ´æ¹ä¾¿æä½ï¼ä¸è¿å¸¦æ¥äºé¨åé¢å¤çåå­å¼éã\n 2. å¸¸ç¨å½ä»¤: rpush,lpop,lpush,rpop,lrange,llen ç­ã\n 3. åºç¨åºæ¯: åå¸ä¸è®¢éæèè¯´æ¶æ¯éåãæ¢æ¥è¯¢ã\n\n\n# hash\n\n 1. ä»ç» ï¼hash ç±»ä¼¼äº jdk1.8 åç hashmapï¼åé¨å®ç°ä¹å·®ä¸å¤(æ°ç» + é¾è¡¨)ãä¸è¿ï¼redis ç hash åäºæ´å¤ä¼åãå¦å¤ï¼hash æ¯ä¸ä¸ª string ç±»åç field å value çæ å°è¡¨ï¼ç¹å«éåç¨äºå­å¨å¯¹è±¡ï¼åç»­æä½çæ¶åï¼ä½ å¯ä»¥ç´æ¥ä»ä»ä¿®æ¹è¿ä¸ªå¯¹è±¡ä¸­çæä¸ªå­æ®µçå¼ã æ¯å¦æä»¬å¯ä»¥ hash æ°æ®ç»ææ¥å­å¨ç¨æ·ä¿¡æ¯ï¼ååä¿¡æ¯ç­ç­ã\n 2. å¸¸ç¨å½ä»¤ï¼ hset,hmset,hexists,hget,hgetall,hkeys,hvals ç­ã\n 3. åºç¨åºæ¯: ç³»ç»ä¸­å¯¹è±¡æ°æ®çå­å¨ã\n\n\n# set\n\n 1. ä»ç» ï¼ set ç±»ä¼¼äº java ä¸­ç hashset ãredis ä¸­ç set ç±»åæ¯ä¸ç§æ åºä¸éå¤éåï¼éåä¸­çåç´ æ²¡æååé¡ºåºãå½ä½ éè¦å­å¨ä¸ä¸ªåè¡¨æ°æ®ï¼åä¸å¸æåºç°éå¤æ°æ®æ¶ï¼set æ¯ä¸ä¸ªå¾å¥½çéæ©ï¼å¹¶ä¸ set æä¾äºå¤æ­æä¸ªæåæ¯å¦å¨ä¸ä¸ª set éååçéè¦æ¥å£ï¼è¿ä¸ªä¹æ¯ list æä¸è½æä¾çãå¯ä»¥åºäº set è½»æå®ç°äº¤éãå¹¶éãå·®éçæä½ãæ¯å¦ï¼ä½ å¯ä»¥å°ä¸ä¸ªç¨æ·ææçå³æ³¨äººå­å¨ä¸ä¸ªéåä¸­ï¼å°å¶ææç²ä¸å­å¨ä¸ä¸ªéåãredis å¯ä»¥éå¸¸æ¹ä¾¿çå®ç°å¦å±åå³æ³¨ãå±åç²ä¸ãå±ååå¥½ç­åè½ãè¿ä¸ªè¿ç¨ä¹å°±æ¯æ±äº¤éçè¿ç¨ã\n 2. å¸¸ç¨å½ä»¤ï¼ sadd,spop,smembers,sismember,scard,sinterstore,sunion ç­ã\n 3. åºç¨åºæ¯: éè¦å­æ¾çæ°æ®ä¸è½éå¤ä»¥åéè¦è·åå¤ä¸ªæ°æ®æºäº¤éåå¹¶éç­åºæ¯\n\n\n# sorted set\n\n 1. ä»ç»ï¼ å set ç¸æ¯ï¼sorted set å¢å äºä¸ä¸ªæéåæ° scoreï¼ä½¿å¾éåä¸­çåç´ è½å¤æ score è¿è¡æåºæåï¼è¿å¯ä»¥éè¿ score çèå´æ¥è·ååç´ çåè¡¨ãæç¹åæ¯ java ä¸­ hashmap å treeset çç»åä½ã\n 2. å¸¸ç¨å½ä»¤ï¼ zadd,zcard,zscore,zrange,zrevrange,zrem ç­ã\n 3. åºç¨åºæ¯ï¼ éè¦å¯¹æ°æ®æ ¹æ®æä¸ªæéè¿è¡æåºçåºæ¯ãæ¯å¦å¨ç´æ­ç³»ç»ä¸­ï¼å®æ¶æè¡ä¿¡æ¯åå«ç´æ­é´å¨çº¿ç¨æ·åè¡¨ï¼åç§ç¤¼ç©æè¡æ¦ï¼å¼¹å¹æ¶æ¯ï¼å¯ä»¥çè§£ä¸ºææ¶æ¯ç»´åº¦çæ¶æ¯æè¡æ¦ï¼ç­ä¿¡æ¯ã\n\n\n# bitmap\n\n 1. ä»ç»ï¼ bitmap å­å¨çæ¯è¿ç»­çäºè¿å¶æ°å­ï¼0 å 1ï¼ï¼éè¿ bitmap, åªéè¦ä¸ä¸ª bit ä½æ¥è¡¨ç¤ºæä¸ªåç´ å¯¹åºçå¼æèç¶æï¼key å°±æ¯å¯¹åºåç´ æ¬èº« ãæä»¬ç¥é 8 ä¸ª bit å¯ä»¥ç»æä¸ä¸ª byteï¼æä»¥ bitmap æ¬èº«ä¼æå¤§çèçå¨å­ç©ºé´ã\n 2. å¸¸ç¨å½ä»¤ï¼ setbit ãgetbit ãbitcountãbitop\n 3. åºç¨åºæ¯ï¼ éåéè¦ä¿å­ç¶æä¿¡æ¯ï¼æ¯å¦æ¯å¦ç­¾å°ãæ¯å¦ç»å½...ï¼å¹¶éè¦è¿ä¸æ­¥å¯¹è¿äºä¿¡æ¯è¿è¡åæçåºæ¯ãæ¯å¦ç¨æ·ç­¾å°æåµãæ´»è·ç¨æ·æåµãç¨æ·è¡ä¸ºç»è®¡ï¼æ¯å¦æ¯å¦ç¹èµè¿æä¸ªè§é¢ï¼ã\n\n\n# ä¸ãspring data redis\n\nå¯¹äºä¸å±ï¼spring data redis æä¾äºç»ä¸çæä½æ¨¡æ¿ï¼åæä¸­ï¼æä»¬ä¼çå°æ¯ redistemplate ç±»ï¼ï¼å°è£äº jedisãlettuce ç api æä½ï¼è®¿é® redis æ°æ®ãæä»¥ï¼å®éä¸ï¼spring data redis åç½®çæ­£è®¿é®çå®éæ¯ jedisãlettuce ç­ api æä½ã\n\nç®åspring data redis ææ¶åªæ¯æ jedisãlettuce çåé¨å°è£ï¼è redisson æ¯ç± redisson-spring-data æ¥æä¾ã\n\n\n# 1. redistemplate\n\norg.springframework.data.redis.core.redistemplate ç±»ï¼ä»ç±»åä¸ï¼æä»¬å°±ææç½ç½ç¥éï¼æä¾ redis æä½æ¨¡æ¿ api ãæ ¸å¿å±æ§å¦ä¸ï¼\n\n// 1ãåºååç¸å³å±æ§\n@nullable\nprivate redisserializer keyserializer = null;\n@nullable\nprivate redisserializer valueserializer = null;\n@nullable\nprivate redisserializer hashkeyserializer = null;\n@nullable\nprivate redisserializer hashvalueserializer = null;\nprivate redisserializer<string> stringserializer = redisserializer.string();\n\n// 2ãlua èæ¬æ§è¡å¨\n@nullable\nprivate scriptexecutor<k> scriptexecutor;\n\n// 3ãå¸¸è§æ°æ®ç»ææä½ç±»\n@nullable\nprivate valueoperations<k, v> valueops;\n@nullable\nprivate listoperations<k, v> listops;\n@nullable\nprivate setoperations<k, v> setops;\n@nullable\nprivate zsetoperations<k, v> zsetops;\n@nullable\nprivate geooperations<k, v> geoops;\n@nullable\nprivate hyperloglogoperations<k, v> hllops;\n\n\n\n# 2. åºåå\n\n# 2.1 rediserializer\n\norg.springframework.data.redis.serializer.redisserializer æ¥å£ï¼redis åºååæ¥å£ï¼ç¨äº redis key å value çåºååã\n\npublic interface redisserializer<t> {\n    @nullable\n    byte[] serialize(@nullable t var1) throws serializationexception;\n\n    @nullable\n    t deserialize(@nullable byte[] var1) throws serializationexception;\n\n    static redisserializer<object> java() {\n        return java((classloader)null);\n    }\n\n    static redisserializer<object> java(@nullable classloader classloader) {\n        return new jdkserializationredisserializer(classloader);\n    }\n\n    static redisserializer<object> json() {\n        return new genericjackson2jsonredisserializer();\n    }\n\n    static redisserializer<string> string() {\n        return stringredisserializer.utf_8;\n    }\n}\n\n\n * å®ä¹äºå¯¹è±¡ åäºè¿å¶æ°ç»çè½¬æ¢\n\nredisserializer çå®ç°ç±»\n\n\n\nä¸»è¦åæåç±»ï¼\n\n * jdk åºååæ¹å¼\n * string åºååæ¹å¼\n * json åºååæ¹å¼\n * xml åºååæ¹å¼\n\n# 2.1.1 string åºååæ¹å¼\n\n 1. org.springframework.data.redis.serializer.stringredisserializer ï¼å­ç¬¦ä¸²åäºè¿å¶æ°ç»çç´æ¥è½¬æ¢ãä»£ç å¦ä¸ï¼\n\npublic class stringredisserializer implements redisserializer<string> {\n    private final charset charset;\n    public static final stringredisserializer us_ascii;\n    public static final stringredisserializer iso_8859_1;\n    public static final stringredisserializer utf_8;\n\n    public stringredisserializer() {\n        this(standardcharsets.utf_8);\n    }\n\n    public stringredisserializer(charset charset) {\n        assert.notnull(charset, "charset must not be null!");\n        this.charset = charset;\n    }\n\n    public string deserialize(@nullable byte[] bytes) {\n        return bytes == null ? null : new string(bytes, this.charset);\n    }\n\n    public byte[] serialize(@nullable string string) {\n        return string == null ? null : string.getbytes(this.charset);\n    }\n\n    static {\n        us_ascii = new stringredisserializer(standardcharsets.us_ascii);\n        iso_8859_1 = new stringredisserializer(standardcharsets.iso_8859_1);\n        utf_8 = new stringredisserializer(standardcharsets.utf_8);\n    }\n}\n\n\nç»å¤§å¤æ°æåµä¸ï¼æä»¬ key å value é½ä¼ä½¿ç¨è¿ç§åºååæ¹æ¡ã\n\n 2. org.springframework.data.redis.serializer.generictostringserializer ï¼ä½¿ç¨ spring conversionservice å®ç° <t> å¯¹è±¡å string çè½¬æ¢ï¼ä»è string åäºè¿å¶æ°ç»çè½¬æ¢ã\n\n# 2.1.2 json åºååæ¹å¼\n\n 1. org.springframework.data.redis.serializer.genericjackson2jsonredisserializer ï¼ä½¿ç¨ jackson å®ç° json çåºååæ¹å¼ï¼å¹¶ä¸ä» generic åè¯å¯ä»¥çåºï¼æ¯æ¯æææç±»ã\n 2. org.springframework.data.redis.serializer.jackson2jsonredisserializer ï¼ä½¿ç¨ jackson å®ç° json çåºååæ¹å¼ï¼å¹¶ä¸æ¾ç¤ºæå® <t> ç±»åã\n 3. com.alibaba.fastjson.support.spring.genericfastjsonredisserializer ï¼ä½¿ç¨ fastjson å®ç° json çåºååæ¹å¼ï¼å genericjackson2jsonredisserializer ä¸è´ã\n 4. com.alibaba.fastjson.support.spring.fastjsonredisserializer ï¼ä½¿ç¨ fastjson å®ç° json çåºååæ¹å¼ï¼å jackson2jsonredisserializer ä¸è´ã\n\n# 2.2 éç½®åºååçæ¹å¼\n\n 1. åå»º redisconfiguration éç½®ç±»\n\n@configuration\npublic class redisconfiguration {\n\n    @bean\n    public redistemplate<string, object> redistemplate(redisconnectionfactory factory) {\n        // åå»º redistemplate å¯¹è±¡\n        redistemplate<string, object> template = new redistemplate<>();\n        // è®¾ç½® redisconnection å·¥åã\n        template.setconnectionfactory(factory);\n\n        // ä½¿ç¨ string åºååæ¹å¼ï¼åºåå key ã\n        template.setkeyserializer(redisserializer.string());\n\n        // ä½¿ç¨ json åºååæ¹å¼ï¼åºæ¯ jackson ï¼ï¼åºåå value ã\n        template.setvalueserializer(redisserializer.json());\n        return template;\n    }\n\n}\n\n\n * redisserializer#string() éææ¹æ³ï¼è¿åçå°±æ¯ä½¿ç¨ utf-8 ç¼ç ç stringredisserializer å¯¹è±¡ãä»£ç å¦ä¸ï¼\n   \n   // redisserializer.java\n   static redisserializer<string> string() {\n   \treturn stringredisserializer.utf_8;\n   }\n   \n   // stringredisserializer.java\n   public static final stringredisserializer iso_8859_1 = new stringredisserializer(standardcharsets.iso_8859_1);\n   \n\n * redisserializer#json() éææ¹æ³ï¼è¿å genericjackson2jsonredisserializer å¯¹è±¡ãä»£ç å¦ä¸ï¼\n\n * // redisserializer.java\n   \n   static redisserializer<object> json() {\n   \treturn new genericjackson2jsonredisserializer();\n   }\n   \n\n\n# 3. redisson\n\nredissonå¨åºäºnioçnettyæ¡æ¶ä¸ï¼ååçå©ç¨äºredisé®å¼æ°æ®åºæä¾çä¸ç³»åä¼å¿ï¼å¨javaå®ç¨å·¥å·åä¸­å¸¸ç¨æ¥å£çåºç¡ä¸ï¼ä¸ºä½¿ç¨èæä¾äºä¸ç³»åå·æåå¸å¼ç¹æ§çå¸¸ç¨å·¥å·ç±»ãä½¿å¾åæ¬ä½ä¸ºåè°åæºå¤çº¿ç¨å¹¶åç¨åºçå·¥å·åè·å¾äºåè°åå¸å¼å¤æºå¤çº¿ç¨å¹¶åç³»ç»çè½åï¼å¤§å¤§éä½äºè®¾è®¡åç åå¤§è§æ¨¡åå¸å¼ç³»ç»çé¾åº¦ãåæ¶ç»ååå¯ç¹è²çåå¸å¼æå¡ï¼æ´è¿ä¸æ­¥ç®åäºåå¸å¼ç¯å¢ä¸­ç¨åºç¸äºä¹é´çåä½ã\n\n\n# åãç¼å­\n\n\n# 4.1 ç¼å­è®¾ç½®è¿ææ¶é´\n\nä¸è¬æåµä¸ï¼æä»¬è®¾ç½®ä¿å­çç¼å­æ°æ®çæ¶åé½ä¼è®¾ç½®ä¸ä¸ªè¿ææ¶é´ãä¸ºä»ä¹å¢ï¼\n\nå ä¸ºåå­æ¯æéçï¼å¦æç¼å­ä¸­çæææ°æ®é½æ¯ä¸ç´ä¿å­çè¯ï¼ååéç´æ¥ out of memoryã\n\nredis ä¸­é¤äºå­ç¬¦ä¸²ç±»åæèªå·±ç¬æè®¾ç½®è¿ææ¶é´çå½ä»¤ setex å¤ï¼å¶ä»æ¹æ³é½éè¦ä¾é  expire å½ä»¤æ¥è®¾ç½®è¿ææ¶é´ ãå¦å¤ï¼ persist å½ä»¤å¯ä»¥ç§»é¤ä¸ä¸ªé®çè¿ææ¶é´ã\n\nè¿ææ¶é´é¤äºæå©äºç¼è§£åå­çæ¶èï¼è¿æä»ä¹å¶ä»ç¨ä¹ï¼\n\nå¾å¤æ¶åï¼æä»¬çä¸å¡åºæ¯å°±æ¯éè¦æä¸ªæ°æ®åªå¨æä¸æ¶é´æ®µåå­å¨ï¼æ¯å¦æä»¬çç­ä¿¡éªè¯ç å¯è½åªå¨ 1 åéåææï¼ç¨æ·ç»å½ç token å¯è½åªå¨ 1 å¤©åææã\n\nå¦æä½¿ç¨ä¼ ç»çæ°æ®åºæ¥å¤ççè¯ï¼ä¸è¬é½æ¯èªå·±å¤æ­è¿æï¼è¿æ ·æ´éº»ç¦å¹¶ä¸æ§è½è¦å·®å¾å¤ã\n\n\n# 4.2 å¦ä½å¤æ­æ°æ®æ¯å¦è¿æ\n\nredis éè¿ä¸ä¸ªå«åè¿æå­å¸ï¼å¯ä»¥çä½æ¯ hash è¡¨ï¼æ¥ä¿å­æ°æ®è¿æçæ¶é´ãè¿æå­å¸çé®æå redis æ°æ®åºä¸­çæä¸ª key(é®)ï¼è¿æå­å¸çå¼æ¯ä¸ä¸ª long long ç±»åçæ´æ°ï¼è¿ä¸ªæ´æ°ä¿å­äº key ææåçæ°æ®åºé®çè¿ææ¶é´ï¼æ¯«ç§ç²¾åº¦ç unix æ¶é´æ³ï¼ã\n\n# 4.2.1 è¿æå é¤ç­ç¥\n\nå¦æåè®¾ä½ è®¾ç½®äºä¸æ¹ key åªè½å­æ´» 1 åéï¼é£ä¹ 1 åéåï¼redis æ¯æä¹å¯¹è¿æ¹ key è¿è¡å é¤çå¢ï¼\n\nå¸¸ç¨çè¿ææ°æ®çå é¤ç­ç¥å°±ä¸¤ä¸ªï¼éè¦ï¼èªå·±é ç¼å­è½®å­çæ¶åéè¦æ ¼å¤èèçä¸è¥¿ï¼ï¼\n\n 1. æ°æ§å é¤ ï¼åªä¼å¨ååº key çæ¶åæå¯¹æ°æ®è¿è¡è¿ææ£æ¥ãè¿æ ·å¯¹ cpu æåå¥½ï¼ä½æ¯å¯è½ä¼é æå¤ªå¤è¿æ key æ²¡æè¢«å é¤ã\n 2. å®æå é¤ ï¼ æ¯éä¸æ®µæ¶é´æ½åä¸æ¹ key æ§è¡å é¤è¿æ key æä½ãå¹¶ä¸ï¼redis åºå±ä¼éè¿éå¶å é¤æä½æ§è¡çæ¶é¿åé¢çæ¥åå°å é¤æä½å¯¹ cpu æ¶é´çå½±åã\n\nå®æå é¤å¯¹åå­æ´å åå¥½ï¼æ°æ§å é¤å¯¹ cpu æ´å åå¥½ãä¸¤èåæåç§ï¼æä»¥ redis éç¨çæ¯ å®æå é¤+æ°æ§/ææ±å¼å é¤ ã\n\nä½æ¯ï¼ä»ä»éè¿ç» key è®¾ç½®è¿ææ¶é´è¿æ¯æé®é¢çãå ä¸ºè¿æ¯å¯è½å­å¨å®æå é¤åæ°æ§å é¤æ¼æäºå¾å¤è¿æ key çæåµãè¿æ ·å°±å¯¼è´å¤§éè¿æ key å ç§¯å¨åå­éï¼ç¶åå°± out of memory äºã\n\næä¹è§£å³è¿ä¸ªé®é¢å¢ï¼ç­æ¡å°±æ¯ï¼redis åå­æ·æ±°æºå¶ã\n\n * è®¾ç½®æ·æ±°ç­ç¥\n   \n   config set maxmemory-policy allkeys-lru\n   \n\nredis æä¾ 6 ç§æ°æ®æ·æ±°ç­ç¥ï¼\n\n 1. volatile-lruï¼least recently usedï¼ï¼ä»å·²è®¾ç½®è¿ææ¶é´çæ°æ®éï¼server.db[i].expiresï¼ä¸­æéæè¿æå°ä½¿ç¨çæ°æ®æ·æ±°\n 2. volatile-ttlï¼ä»å·²è®¾ç½®è¿ææ¶é´çæ°æ®éï¼server.db[i].expiresï¼ä¸­æéå°è¦è¿æçæ°æ®æ·æ±°\n 3. volatile-randomï¼ä»å·²è®¾ç½®è¿ææ¶é´çæ°æ®éï¼server.db[i].expiresï¼ä¸­ä»»æéæ©æ°æ®æ·æ±°\n 4. allkeys-lruï¼least recently usedï¼ï¼å½åå­ä¸è¶³ä»¥å®¹çº³æ°åå¥æ°æ®æ¶ï¼å¨é®ç©ºé´ä¸­ï¼ç§»é¤æè¿æå°ä½¿ç¨ç keyï¼è¿ä¸ªæ¯æå¸¸ç¨çï¼\n 5. allkeys-randomï¼ä»æ°æ®éï¼server.db[i].dictï¼ä¸­ä»»æéæ©æ°æ®æ·æ±°\n 6. no-evictionï¼ç¦æ­¢é©±éæ°æ®ï¼ä¹å°±æ¯è¯´å½åå­ä¸è¶³ä»¥å®¹çº³æ°åå¥æ°æ®æ¶ï¼æ°åå¥æä½ä¼æ¥éãè¿ä¸ªåºè¯¥æ²¡äººä½¿ç¨å§ï¼\n\n4.0 çæ¬åå¢å ä»¥ä¸ä¸¤ç§ï¼\n\n 1. volatile-lfuï¼least frequently usedï¼ï¼ä»å·²è®¾ç½®è¿ææ¶é´çæ°æ®éï¼server.db[i].expiresï¼ä¸­æéæä¸ç»å¸¸ä½¿ç¨çæ°æ®æ·æ±°\n 2. allkeys-lfuï¼least frequently usedï¼ï¼å½åå­ä¸è¶³ä»¥å®¹çº³æ°åå¥æ°æ®æ¶ï¼å¨é®ç©ºé´ä¸­ï¼ç§»é¤æä¸ç»å¸¸ä½¿ç¨ç key\n\n# 4.2.2 lruålfu\n\n * lruï¼least recently usedï¼\n   \n   å³æè¿æå°ä½¿ç¨ï¼ä¼å°æä¸å¸¸ç¨çæ°æ®ç­éåºæ¥ï¼ä¿çæè¿é¢ç¹ä½¿ç¨çæ°æ®ãlru ä¼ææææ°æ®ç»æä¸ä¸ªé¾è¡¨ï¼é¾è¡¨å¤´é¨ç§°ä¸º mruï¼ä»£è¡¨æè¿æå¸¸ä½¿ç¨çæ°æ®ï¼å°¾é¨ç§°ä¸º lruä»£è¡¨æè¿æä¸å¸¸ä½¿ç¨çæ°æ®ï¼\n   \n   ä½æ¯ï¼å¦æç´æ¥å¨ redis ä¸­ä½¿ç¨ lru ç®æ³ä¹ä¼æä¸äºé®é¢ï¼\n   \n   lru ç®æ³å¨å®ç°è¿ç¨ä¸­ä½¿ç¨é¾è¡¨ç®¡çææç¼å­çæ°æ®ï¼è¿ä¼ç» redis å¸¦æ¥é¢å¤çå¼éï¼èä¸ï¼å½ææ°æ®è®¿é®æ¶å°±ä¼æé¾è¡¨ç§»å¨æä½ï¼è¿èéä½ redis çæ§è½ã\n   \n   äºæ¯ï¼redis å¯¹ lru çå®ç°è¿è¡äºä¸äºæ¹åï¼\n   \n   * è®°å½æ¯ä¸ª key æè¿ä¸æ¬¡è¢«è®¿é®çæ¶é´æ³ï¼ç±é®å¼å¯¹æ°æ®ç»æ redisobject ä¸­ç lru å­æ®µè®°å½ï¼\n   * å¨ç¬¬ä¸æ¬¡æ·æ±°æ°æ®æ¶ï¼ä¼åéæºéæ© n ä¸ªæ°æ®ä½ä¸ºä¸ä¸ªåééåï¼ç¶åæ·æ±° lru å¼æå°çãï¼n å¯ä»¥éè¿ config set maxmemory-samples 100 å½ä»¤æ¥éç½®ï¼\n   * åç»­åæ·æ±°æ°æ®æ¶ï¼ä¼æéæ°æ®è¿å¥åééåï¼è¿å¥éåçæ¡ä»¶æ¯ï¼å®ç lru å°äºåééåä¸­æå°ç lruã\n   * å¦æåééåä¸­æ°æ®ä¸ªæ°è¾¾å°äº maxmemory-samplesï¼redis å°±ä¼å° lru å¼å°çæ°æ®æ·æ±°åºå»ã\n\n * lfuï¼least frequently usedï¼\n   \n   å³æä¸ç»å¸¸ä½¿ç¨ç­ç¥ï¼å®æ¯åºäºæ°æ®è®¿é®æ¬¡æ°æ¥æ·æ±°æ°æ®çï¼å¨ redis 4.0 æ¶æ·»å è¿æ¥ãå®å¨ lru ç­ç¥åºç¡ä¸ï¼ä¸ºæ¯ä¸ªæ°æ®å¢å äºä¸ä¸ªè®¡æ°å¨ï¼æ¥ç»è®¡è¿ä¸ªæ°æ®çè®¿é®æ¬¡æ°ã\n   \n   åé¢è¯´å°ï¼lru ä½¿ç¨äº redisobject ä¸­ç lru å­æ®µè®°å½æ¶é´æ³ï¼lru æ¯ 24bit çï¼lfu å° lru æåä¸ºä¸¤é¨åï¼\n   \n   * ldt å¼ï¼lru å­æ®µçå 16bitï¼è¡¨ç¤ºæ°æ®çè®¿é®æ¶é´æ³\n   * counter å¼ï¼lru å­æ®µçå 8bitï¼è¡¨ç¤ºæ°æ®çè®¿é®æ¬¡æ° ä½¿ç¨ lfu ç­ç¥æ·æ±°ç¼å­æ¶ï¼ä¼æè®¿é®æ¬¡æ°æä½çæ°æ®æ·æ±°ï¼å¦æè®¿é®æ¬¡æ°ç¸åï¼åæ ¹æ®è®¿é®çæ¶é´ï¼å°è®¿é®æ¶é´æ³æå°çæ·æ±°ã\n   \n   ä¸ºä»ä¹ redis æäº lru è¿éè¦ lfu å¢ï¼\n   \n   å¨ä¸äºåºæ¯ä¸ï¼æäºæ°æ®è¢«è®¿é®çæ¬¡æ°éå¸¸å°ï¼çè³åªä¼è¢«è®¿é®ä¸æ¬¡ãå½è¿äºæ°æ®æå¡å®è®¿é®è¯·æ±åï¼å¦æè¿ç»§ç»­çå­å¨ç¼å­ä¸­çè¯ï¼å°±åªä¼ç½ç½å ç¨ç¼å­ç©ºé´ã\n   \n   ç±äº lru æ¯åºäºè®¿é®æ¶é´çï¼å¦æç³»ç»å¯¹å¤§éæ°æ®è¿è¡åæ¬¡æ¥è¯¢ï¼è¿äºæ°æ®ç lru å¼å°±å¾å¤§ï¼ä½¿ç¨ lfu ç®æ³å°±ä¸å®¹æè¢«æ·æ±°ã\n\n\n# 4.3 ç¼å­ç©¿é\n\n# ä»ä¹æ¯ç¼å­ç©¿éï¼\n\nç¼å­ç©¿éè¯´ç®åç¹å°±æ¯å¤§éè¯·æ±ç key æ ¹æ¬ä¸å­å¨äºç¼å­ä¸­ï¼å¯¼è´è¯·æ±ç´æ¥å°äºæ°æ®åºä¸ï¼æ ¹æ¬æ²¡æç»è¿ç¼å­è¿ä¸å±ãä¸¾ä¸ªä¾å­ï¼æä¸ªé»å®¢ææå¶é æä»¬ç¼å­ä¸­ä¸å­å¨ç key åèµ·å¤§éè¯·æ±ï¼å¯¼è´å¤§éè¯·æ±è½å°æ°æ®åºã\n\n# æåªäºè§£å³åæ³ï¼\n\næåºæ¬çå°±æ¯é¦ååå¥½åæ°æ ¡éªï¼ä¸äºä¸åæ³çåæ°è¯·æ±ç´æ¥æåºå¼å¸¸ä¿¡æ¯è¿åç»å®¢æ·ç«¯ãæ¯å¦æ¥è¯¢çæ°æ®åº id ä¸è½å°äº 0ãä¼ å¥çé®ç®±æ ¼å¼ä¸å¯¹çæ¶åç´æ¥è¿åéè¯¯æ¶æ¯ç»å®¢æ·ç«¯ç­ç­ã\n\n1ï¼ç¼å­æ æ key\n\nå¦æç¼å­åæ°æ®åºé½æ¥ä¸å°æä¸ª key çæ°æ®å°±åä¸ä¸ªå° redis ä¸­å»å¹¶è®¾ç½®è¿ææ¶é´ï¼å·ä½å½ä»¤å¦ä¸ï¼ set key value ex 10086 ãè¿ç§æ¹å¼å¯ä»¥è§£å³è¯·æ±ç key ååä¸é¢ç¹çæåµï¼å¦æé»å®¢æ¶ææ»å»ï¼æ¯æ¬¡æå»ºä¸åçè¯·æ± keyï¼ä¼å¯¼è´ redis ä¸­ç¼å­å¤§éæ æç key ãå¾ææ¾ï¼è¿ç§æ¹æ¡å¹¶ä¸è½ä»æ ¹æ¬ä¸è§£å³æ­¤é®é¢ãå¦æéè¦ç¨è¿ç§æ¹å¼æ¥è§£å³ç©¿éé®é¢çè¯ï¼å°½éå°æ æç key çè¿ææ¶é´è®¾ç½®ç­ä¸ç¹æ¯å¦ 1 åéã\n\nå¦å¤ï¼è¿éå¤è¯´ä¸å´ï¼ä¸è¬æåµä¸æä»¬æ¯è¿æ ·è®¾è®¡ key çï¼ è¡¨å:åå:ä¸»é®å:ä¸»é®å¼ ã\n\n2ï¼å¸éè¿æ»¤å¨\n\nå¸éè¿æ»¤å¨æ¯ä¸ä¸ªéå¸¸ç¥å¥çæ°æ®ç»æï¼éè¿å®æä»¬å¯ä»¥éå¸¸æ¹ä¾¿å°å¤æ­ä¸ä¸ªç»å®æ°æ®æ¯å¦å­å¨äºæµ·éæ°æ®ä¸­ãæä»¬éè¦çå°±æ¯å¤æ­ key æ¯å¦åæ³ï¼ææ²¡ææè§å¸éè¿æ»¤å¨å°±æ¯æä»¬æ³è¦æ¾çé£ä¸ªâäººâã\n\nå·ä½æ¯è¿æ ·åçï¼æææå¯è½å­å¨çè¯·æ±çå¼é½å­æ¾å¨å¸éè¿æ»¤å¨ä¸­ï¼å½ç¨æ·è¯·æ±è¿æ¥ï¼åå¤æ­ç¨æ·åæ¥çè¯·æ±çå¼æ¯å¦å­å¨äºå¸éè¿æ»¤å¨ä¸­ãä¸å­å¨çè¯ï¼ç´æ¥è¿åè¯·æ±åæ°éè¯¯ä¿¡æ¯ç»å®¢æ·ç«¯ï¼å­å¨çè¯æä¼èµ°ä¸é¢çæµç¨ã\n\nä½æ¯ï¼éè¦æ³¨æçæ¯å¸éè¿æ»¤å¨å¯è½ä¼å­å¨è¯¯å¤çæåµãæ»ç»æ¥è¯´å°±æ¯ï¼ å¸éè¿æ»¤å¨è¯´æä¸ªåç´ å­å¨ï¼å°æ¦çä¼è¯¯å¤ãå¸éè¿æ»¤å¨è¯´æä¸ªåç´ ä¸å¨ï¼é£ä¹è¿ä¸ªåç´ ä¸å®ä¸å¨ã\n\nä¸ºä»ä¹ä¼åºç°è¯¯å¤çæåµå¢? æä»¬è¿è¦ä»å¸éè¿æ»¤å¨çåçæ¥è¯´ï¼\n\næä»¬åæ¥çä¸ä¸ï¼å½ä¸ä¸ªåç´ å å¥å¸éè¿æ»¤å¨ä¸­çæ¶åï¼ä¼è¿è¡åªäºæä½ï¼\n\n 1. ä½¿ç¨å¸éè¿æ»¤å¨ä¸­çåå¸å½æ°å¯¹åç´ å¼è¿è¡è®¡ç®ï¼å¾å°åå¸å¼ï¼æå ä¸ªåå¸å½æ°å¾å°å ä¸ªåå¸å¼ï¼ã\n 2. æ ¹æ®å¾å°çåå¸å¼ï¼å¨ä½æ°ç»ä¸­æå¯¹åºä¸æ çå¼ç½®ä¸º 1ã\n\næä»¬åæ¥çä¸ä¸ï¼å½æä»¬éè¦å¤æ­ä¸ä¸ªåç´ æ¯å¦å­å¨äºå¸éè¿æ»¤å¨çæ¶åï¼ä¼è¿è¡åªäºæä½ï¼\n\n 1. å¯¹ç»å®åç´ åæ¬¡è¿è¡ç¸åçåå¸è®¡ç®ï¼\n 2. å¾å°å¼ä¹åå¤æ­ä½æ°ç»ä¸­çæ¯ä¸ªåç´ æ¯å¦é½ä¸º 1ï¼å¦æå¼é½ä¸º 1ï¼é£ä¹è¯´æè¿ä¸ªå¼å¨å¸éè¿æ»¤å¨ä¸­ï¼å¦æå­å¨ä¸ä¸ªå¼ä¸ä¸º 1ï¼è¯´æè¯¥åç´ ä¸å¨å¸éè¿æ»¤å¨ä¸­ã\n\nç¶åï¼ä¸å®ä¼åºç°è¿æ ·ä¸ç§æåµï¼ä¸åçå­ç¬¦ä¸²å¯è½åå¸åºæ¥çä½ç½®ç¸åã ï¼å¯ä»¥éå½å¢å ä½æ°ç»å¤§å°æèè°æ´æä»¬çåå¸å½æ°æ¥éä½æ¦çï¼\n\n\n# 4.4 ç¼å­éªå´©\n\n# ä»ä¹æ¯ç¼å­éªå´©ï¼\n\nå®éä¸ï¼ç¼å­éªå´©æè¿°çå°±æ¯è¿æ ·ä¸ä¸ªç®åçåºæ¯ï¼ç¼å­å¨åä¸æ¶é´å¤§é¢ç§¯çå¤±æï¼åé¢çè¯·æ±é½ç´æ¥è½å°äºæ°æ®åºä¸ï¼é ææ°æ®åºç­æ¶é´åæ¿åå¤§éè¯·æ±ã è¿å°±å¥½æ¯éªå´©ä¸æ ·ï¼æ§æ¯ææ½ä¹å¿ï¼æ°æ®åºçååå¯æ³èç¥ï¼å¯è½ç´æ¥å°±è¢«è¿ä¹å¤è¯·æ±å¼å®æºäºã\n\nä¸¾ä¸ªä¾å­ï¼ç³»ç»çç¼å­æ¨¡ååºäºé®é¢æ¯å¦å®æºå¯¼è´ä¸å¯ç¨ãé æç³»ç»çææè®¿é®ï¼é½è¦èµ°æ°æ®åºã\n\nè¿æä¸ç§ç¼å­éªå´©çåºæ¯æ¯ï¼æä¸äºè¢«å¤§éè®¿é®æ°æ®ï¼ç­ç¹ç¼å­ï¼å¨æä¸æ¶å»å¤§é¢ç§¯å¤±æï¼å¯¼è´å¯¹åºçè¯·æ±ç´æ¥è½å°äºæ°æ®åºä¸ã è¿æ ·çæåµï¼æä¸é¢å ç§è§£å³åæ³ï¼\n\nä¸¾ä¸ªä¾å­ ï¼ç§æå¼å§ 12 ä¸ªå°æ¶ä¹åï¼æä»¬ç»ä¸å­æ¾äºä¸æ¹ååå° redis ä¸­ï¼è®¾ç½®çç¼å­è¿ææ¶é´ä¹æ¯ 12 ä¸ªå°æ¶ï¼é£ä¹ç§æå¼å§çæ¶åï¼è¿äºç§æçååçè®¿é®ç´æ¥å°±å¤±æäºãå¯¼è´çæåµå°±æ¯ï¼ç¸åºçè¯·æ±ç´æ¥å°±è½å°äºæ°æ®åºä¸ï¼å°±åéªå´©ä¸æ ·å¯æã\n\n# æåªäºè§£å³åæ³ï¼\n\néå¯¹ redis æå¡ä¸å¯ç¨çæåµï¼\n\n 1. éç¨ redis éç¾¤ï¼é¿ååæºåºç°é®é¢æ´ä¸ªç¼å­æå¡é½æ²¡åæ³ä½¿ç¨ã\n 2. éæµï¼é¿ååæ¶å¤çå¤§éçè¯·æ±ã\n\néå¯¹ç­ç¹ç¼å­å¤±æçæåµï¼\n\n 1. è®¾ç½®ä¸åçå¤±ææ¶é´æ¯å¦éæºè®¾ç½®ç¼å­çå¤±ææ¶é´ã\n 2. ç¼å­æ°¸ä¸å¤±æã\n\n\n# 4.5 å¦ä½ä¿è¯ç¼å­åæ°æ®åºæ°æ®çä¸è´æ§ï¼\n\né¦åï¼æä»¬å¿é¡»ç¥éè¿éçâæ°æ®ä¸è´æ§âæ¯ä»ä¹ææãè¿éâä¸è´æ§âåæ¬ä¸¤ç§æåµï¼\n\n * ç¼å­ä¸­ææ°æ®ï¼é£ä¹ï¼ç¼å­çæ°æ®éè¦åæ°æ®åºä¸­çå¼ç¸å\n * ç¼å­ä¸­æ¬èº«æ²¡ææ°æ®ï¼é£ä¹ï¼æ°æ®åºä¸­çå¼å°±å¿é¡»æ¯ææ°å¼ã\n\nä¸ç¬¦åè¿ä¸¤ç§æåµçï¼å°±æ¯ç¼å­åæ°æ®åºçæ°æ®ä¸ä¸è´äºã\n\n# ä¸ºä»ä¹ä¼åçç¼å­åæ°æ®åºçæ°æ®ä¸ä¸è´\n\nå½ç¼å­çè¯»åæ¨¡å¼ä¸åæ¶ï¼ç¼å­æ°æ®ä¸ä¸è´åççæåµä¸ä¸æ ·ã\n\n# å½redisä½ä¸ºè¯»åç¼å­æ¶\n\nå¯¹äºè¯»åç¼å­æ¥è¯´ï¼å¦æè¦å¯¹æ°æ®è¿è¡å¢å æ¹ï¼å°±éè¦å¨ç¼å­ä¸­è¿è¡ï¼åæ¶è¿è¦æ ¹æ®éåçååç­ç¥ï¼å³å®æ¯å¦åæ­¥ååå°æ°æ®åºä¸­ã\n\n * åæ­¥ç´åç­ç¥ï¼åç¼å­æ¶ï¼ä¹åæ­¥åæ°æ®åºï¼ç¼å­åæ°æ®åºä¸­çæ°æ®ä¸è´\n * å¼æ­¥ååç­ç¥ï¼åç¼å­æ¶ä¸åæ­¥åæ°æ®åºï¼ç­å°æ°æ®ä»ç¼å­ä¸­æ·æ±°æ¶ï¼åååæ°æ®åºãä½¿ç¨è¿ç§ç­ç¥æ¶ï¼å¦ææ°æ®è¿æ²¡æååæ°æ®åºï¼ç¼å­å°±åçäºæéãé£ä¹ï¼æ­¤æ¶ï¼æ°æ®åºå°±æ²¡æææ°æ°æ®äº\n\næä»¥ï¼å¯¹äºè¯»åç¼å­æ¥è¯´ï¼è¦æ³ä¿è¯ç¼å­åæ°æ®åºä¸­çæ°æ®ä¸è´ï¼å°±è¦éç¨åæ­¥ç´åç­ç¥ãä¸è¿ï¼éè¦æ³¨æçæ¯ï¼å¦æéç¨è¿ç§ç­ç¥ï¼å°±éè¦ä¿è¯åæ¶æ´æ°ç¼å­åæ°æ®åºãæä»¥ï¼æä»¬è¦å¨ä¸å¡åºç¨ä¸­ä½¿ç¨äºå¡æºå¶ï¼æ¥ä¿è¯ç¼å­åæ°æ®åºçæ´æ°å·æåå­æ§ï¼ä¹å°±æ¯è¯´ï¼ä¸¤èè¦ä¸ä¸èµ·æ´æ°ï¼è¦ä¸é½ä¸æ´æ°ï¼è¿åéè¯¯ä¿¡æ¯ï¼è¿è¡éè¯ãå¦åï¼æä»¬å°±æ æ³å®ç°åæ­¥ç´æ¥\n\nå½ç¶ï¼å¨æäºåºæ¯ä¸ï¼æä»¬å¯¹æ°æ®ä¸è´æ§çè¦æ±å¯è½ä¸æ¯é£ä¹é«ï¼é£ä¹ï¼æä»¬å¯ä»¥ä½¿ç¨å¼æ­¥ååç­ç¥ã\n\n# å½redis ä½ä¸ºåªè¯»ç¼å­æ¶\n\nå¯¹äºåªè¯»ç¼å­æ¥è¯´ï¼\n\n * å¦æææ°æ®æ°å¢ï¼ä¼ç´æ¥åå¥æ°æ®åºï¼\n * ææ°æ®å æ¹æ¶ï¼å°±éè¦æåªè¯»ç¼å­ä¸­çæ°æ®æ è®°ä¸ºæ æ\n   * è¿æ ·ï¼åºç¨åç»§å¨è®¿é®è¿äºï¼äºå¢å æ¹çæ°æ®æ¶ï¼å ä¸ºç¼å­ä¸­æ²¡æç¸åºçæ°æ®ï¼å°±ä¼åçç¼å­ç¼ºå¤±ã\n   * æ­¤æ¶ï¼åºç¨åä»æ°æ®åºä¸­ææ°æ®è¯»å¥ç¼å­ï¼è¿æ ·åç»­åè®¿é®æ°æ®æ¶ï¼å°±è½å¤ç´æ¥ä»ç¼å­ä¸­è¯»åäºã\n\né£ä¹ï¼è¿ä¸ªè¿ç¨ä¸­ä¼ä¸ä¼åºç°æ°æ®ä¸ä¸è´çæåµå¢ï¼ ï¼1ï¼æ°å¢æ°æ®ï¼\n\n * å¦ææ¯æ°å¢æ°æ®ï¼æ°æ®ä¼ç´æ¥åå°æ°æ®åºä¸­ï¼ä¸ç¨å¯¹ç¼å­åä»»ä½æä½ãæ­¤æ¶ï¼ç¼å­ä¸­æ¬èº«å°±æ²¡ææ°å¢æ°æ®ï¼èæ°æ®åºä¸­æ¯ææ°å¼\n * è¿ç§æåµç¬¦åæä»¬ååæè¯´çä¸è´æ§çç¬¬ 2 ç§æåµï¼æä»¥ï¼æ­¤æ¶ï¼ç¼å­åæ°æ®åºçæ°æ®æ¯ä¸è´çã\n\nï¼2ï¼å æ¹æ°æ®\n\nå¦æåçå æ¹æä½ï¼åºç¨æ¢è¦æ´æ°æ°æ®åºï¼ä¹è¦å¨ç¼å­ä¸­å é¤æ°æ®ãè¿ä¸¤ä¸ªæä½å¦ææ æ³ä¿è¯åå­æ§ï¼ä¹å°±æ¯è¯´ï¼è¦ä¸é½å®æï¼è¦ä¸é½æ²¡å®æï¼æ­¤æ¶ï¼å°±ä¼åºç°æ°æ®ä¸ä¸è´é®é¢äºã\n\n * æä»¬åè®¾åºç¨åå é¤ç¼å­ï¼åæ´æ°æ°æ®åºï¼å¦æç¼å­å é¤æåï¼ä½æ¯æ°æ®åºæ´æ°å¤±è´¥ï¼é£ä¹ï¼åºç¨åè®¿é®æ°æ®æ¶ï¼ç¼å­ä¸­æ²¡ææ°æ®ï¼å°±ä¼åçç¼å­ç¼ºå¤±ãç¶åï¼åºç¨åè®¿é®æ°æ®åºï¼ä½æ¯æ°æ®åºä¸­çå¼ä¸ºæ§å¼ï¼åºç¨å°±è®¿é®å°æ§å¼äºã\n * å¦æåºç¨åå®æäºæ°æ®åºçæ´æ°ï¼ä½æ¯ï¼å¨å é¤ç¼å­æ¶å¤±è´¥äºï¼é£ä¹ï¼æ°æ®åºä¸­çå¼æ¯æ°å¼ï¼èç¼å­ä¸­çæ¯æ§å¼ï¼è¿è¯å®æ¯ä¸ä¸è´çãè¿ä¸ªæ¶åï¼å¦ææå¶ä»çå¹¶åè¯·æ±æ¥è®¿é®æ°æ®ï¼æç§æ­£å¸¸çç¼å­è®¿é®æµç¨ï¼å°±ä¼åå¨ç¼å­ä¸­æ¥è¯¢ï¼ä½æ­¤æ¶ï¼å°±ä¼è¯»å°æ§å¼äºã\n\næ»ç»ï¼å¨æ´æ°æ°æ®åºåå é¤ç¼å­å¼çè¿ç¨ä¸­ï¼æ è®ºè¿ä¸¤ä¸ªæä½çæ§è¡é¡ºåºè°åè°åï¼åªè¦æä¸ä¸ªæä½å¤±è´¥äºï¼å°±ä¼å¯¼è´å®¢æ·ç«¯è¯»åå°æ§å¼\n\n# å¦ä½è§£å³æ°æ®ä¸ä¸è´é®é¢ï¼\n\n# ç¬¬ä¸ç§æ¹æ³ï¼éè¯æºå¶\n\nå·ä½çè¯´ï¼å°±æ¯ï¼\n\n * å¯ä»¥æè¦å é¤çç¼å­å¼æèè¦æ´æ°çæ°æ®åºå¼æå­å°æ¶æ¯éåä¸­ãå½åºç¨æ²¡æè½å¤æåçå é¤ç¼å­å¼æèæ¯æ´æ°æ°æ®åºå¼æ¶ï¼å¯ä»¥ä»æ¶æ¯éåä¸­éæ°è¯»åè¿äºå¼ï¼ç¶ååæ¬¡è¿è¡å é¤æèæ´æ°\n * å¦æè½å¤æåå é¤æèæ´æ°ï¼æä»¬å°±è¦æè¿äºå¼ä»æ¶æ¯éåä¸­å»é¤ï¼ä»¥åéå¤æä½ï¼æ­¤æ¶ï¼æä»¬ä¹å¯ä»¥ä¿è¯æ°æ®åºåç¼å­ä¸è´äºãå¦åçè¯ï¼æä»¬è¿éè¦åæ¬¡è¿è¡éè¯ãå¦æéè¯è¶è¿ä¸å®æ¬¡æ°ï¼è¿æ¯æ²¡ææåï¼æä»¬å°±éè¦ååºç¨å±åéæ¥éä¿¡æ¯äºã\n\nååè¯´çæ¯å¨æ´æ°æ°æ®åºåå é¤ç¼å­å¼çè¿ç¨ä¸­ï¼å¶ä¸­ä¸ä¸ªæä½å¤±è´¥çæåµï¼å®éä¸ï¼å³ä½¿è¿ä¸¤ä¸ªæä½ç¬¬ä¸æ¬¡æ§è¡æ¶é½æ²¡æå¤±è´¥ï¼å½æå¤§éå¹¶åè¯·æ±æ¶ï¼åºç¨è¿æ¯æå¯è½è¯»å°ä¸ä¸è´çæ°æ®\n\nåæ ·ï¼æä»¬æç§ä¸åçå é¤åæ´æ°é¡ºåºï¼åæä¸¤ç§æåµæ¥çãå¨è¿ä¸¤ç§æåµä¸ï¼æä»¬çè§£å³æ¹æ³ä¹ææä¸åã\n\n# æåµä¸ï¼åå é¤ç¼å­ï¼åæ´æ°æ°æ®åº\n\nåè®¾çº¿ç¨ a å é¤ç¼å­å¼åï¼è¿æ²¡ææ¥å¾åæ´æ°æ°æ®åºï¼æ¯å¦è¯´æç½ç»å»¶è¿ï¼ï¼çº¿ç¨ b å°±å¼å§è¯»åæ°æ®äºï¼é£ä¹è¿ä¸ªæ¶åï¼çº¿ç¨ b ä¼åç°ç¼å­ç¼ºå¤±ï¼å°±åªè½å»æ°æ®åºè¯»åãè¿ä¼å¸¦æ¥ä¸¤ä¸ªé®é¢ï¼\n\n 1. çº¿ç¨ b è¯»åå°äºæ§å¼ï¼\n 2. çº¿ç¨ b æ¯å¨ç¼å­ç¼ºå¤±çæåµä¸è¯»åçæ°æ®åºï¼æä»¥ï¼å®è¿ä¼ææ§å¼åå¥ç¼å­ï¼è¿å¯è½ä¼å¯¼è´å¶ä»çº¿ç¨ä»ç¼å­ä¸­è¯»å°æ§å¼ã\n\næä¹è§£å³å¢ï¼å¨çº¿ç¨ a æ´æ°å®æ°æ®åºå¼ä»¥åï¼æä»¬å¯ä»¥è®©å®å sleep ä¸å°æ®µæ¶é´ï¼åè¿è¡ä¸æ¬¡ç¼å­å é¤æä½ã\n\n * ä¹æä»¥è¦å ä¸ sleep çè¿æ®µæ¶é´ï¼å°±æ¯ä¸ºäºè®©çº¿ç¨ b è½å¤åä»æ°æ®åºè¯»åæ°æ®ï¼åæç¼ºå¤±çæ°æ®åå¥ç¼å­ï¼ç¶åï¼çº¿ç¨ a åè¿è¡å é¤ãæä»¥ï¼çº¿ç¨ a sleep çæ¶é´ï¼å°±éè¦å¤§äºçº¿ ç¨ b è¯»åæ°æ®ååå¥ç¼å­çæ¶é´ãè¿ä¸ªæ¶é´æä¹ç¡®å®å¢ï¼å»ºè®®ä½ å¨ä¸å¡ç¨åºè¿è¡çæ¶åï¼ç»è®¡ä¸çº¿ç¨è¯»æ°æ®ååç¼å­çæä½æ¶é´ï¼ä»¥æ­¤ä¸ºåºç¡æ¥è¿è¡ä¼°ç®ã\n * è¿æ ·ä¸æ¥ï¼å¶å®çº¿ç¨è¯»åæ°æ®æ¶ï¼ä¼åç°ç¼å­ç¼ºå¤±ï¼æä»¥ä¼ä»æ°æ®åºä¸­è¯»åææ°å¼ãå ä¸ºè¿ä¸ªæ¹æ¡ä¼å¨ç¬¬ä¸æ¬¡å é¤ç¼å­å¼åï¼å»¶è¿ä¸æ®µæ¶é´åæ¬¡è¿è¡å é¤ï¼æä»¥æä»¬ä¹æå®å«åâå»¶è¿åå âã\n\n# æåµäºï¼åæ´æ°æ°æ®åºå¼ï¼åå é¤ç¼å­å¼\n\n * å¦æçº¿ç¨ a å é¤äºæ°æ®åºä¸­çå¼ï¼ä½è¿æ²¡æ¥å¾åå é¤ç¼å­å¼ï¼çº¿ç¨ b å°±å¼å§è¯»åæ°æ®äºï¼é£ä¹æ­¤æ¶ï¼çº¿ç¨ b æ¥è¯¢ç¼å­æ¶ï¼åç°ç¼å­å½ä¸­ï¼å°±ä¼ç´æ¥ä»ç¼å­ä¸­è¯»åæ§å¼ã\n * ä¸è¿ï¼å¨è¿ç§æåµä¸ï¼å¦æå¶ä»çº¿ç¨å¹¶åè¯»ç¼å­çè¯·æ±ä¸å¤ï¼é£ä¹ï¼å°±ä¸ä¼æå¾å¤è¯·æ±è¯»åå°æ§å¼ãèä¸ï¼çº¿ç¨ a ä¸è¬ä¹ä¼å¾å¿«å é¤ç¼å­å¼ï¼è¿æ ·ä¸æ¥ï¼å¶ä»çº¿ç¨åæ¬¡è¯»åæ¶ï¼å°±ä¼åçç¼å­ç¼ºå¤±ï¼è¿èä»æ°æ®åºä¸­è¯»åææ°å¼ãæä»¥ï¼è¿ç§æåµå¯¹ä¸å¡çå½±åè¾å°ã\n\næ¹æ³ä¹æ¯å»¶è¿åå ã\n\n\n# äºãredis çæä¹åæºå¶\n\nå¾å¤æ¶åæä»¬éè¦æä¹åæ°æ®ä¹å°±æ¯å°åå­ä¸­çæ°æ®åå¥å°ç¡¬çéé¢ï¼å¤§é¨ååå æ¯ä¸ºäºä¹åéç¨æ°æ®ï¼æ¯å¦éå¯æºå¨ãæºå¨æéä¹åæ¢å¤æ°æ®ï¼ï¼æèæ¯ä¸ºäºé²æ­¢ç³»ç»æéèå°æ°æ®å¤ä»½å°ä¸ä¸ªè¿ç¨ä½ç½®ã\n\nredis ä¸åäº memcached çå¾éè¦ä¸ç¹å°±æ¯ï¼redis æ¯ææä¹åï¼èä¸æ¯æä¸¤ç§ä¸åçæä¹åæä½ãredis çä¸ç§æä¹åæ¹å¼å«å¿«ç§ï¼snapshottingï¼rdbï¼ï¼å¦ä¸ç§æ¹å¼æ¯åªè¿½å æä»¶ï¼append-only file, aofï¼ãè¿ä¸¤ç§æ¹æ³åæåç§ï¼ä¸é¢æä¼è¯¦ç»è¿ä¸¤ç§æä¹åæ¹æ³æ¯ä»ä¹ï¼æä¹ç¨ï¼å¦ä½éæ©éåèªå·±çæä¹åæ¹æ³ã\n\n\n# å¿«ç§ï¼snapshottingï¼æä¹åï¼rdbï¼\n\nredis å¯ä»¥éè¿åå»ºå¿«ç§æ¥è·å¾å­å¨å¨åå­éé¢çæ°æ®å¨æä¸ªæ¶é´ç¹ä¸çå¯æ¬ãredis åå»ºå¿«ç§ä¹åï¼å¯ä»¥å¯¹å¿«ç§è¿è¡å¤ä»½ï¼å¯ä»¥å°å¿«ç§å¤å¶å°å¶ä»æå¡å¨ä»èåå»ºå·æç¸åæ°æ®çæå¡å¨å¯æ¬ï¼redis ä¸»ä»ç»æï¼ä¸»è¦ç¨æ¥æé« redis æ§è½ï¼ï¼è¿å¯ä»¥å°å¿«ç§çå¨åå°ä»¥ä¾¿éå¯æå¡å¨çæ¶åä½¿ç¨ã\n\nå¿«ç§æä¹åæ¯ redis é»è®¤éç¨çæä¹åæ¹å¼ï¼å¨ redis.conf éç½®æä»¶ä¸­é»è®¤ææ­¤ä¸éç½®ï¼\n\n> save 900 1 #å¨900ç§(15åé)ä¹åï¼å¦æè³å°æ1ä¸ªkeyåçååï¼rediså°±ä¼èªå¨è§¦åbgsaveå½ä»¤åå»ºå¿«ç§ã\n> \n> save 300 10 #å¨300ç§(5åé)ä¹åï¼å¦æè³å°æ10ä¸ªkeyåçååï¼rediså°±ä¼èªå¨è§¦åbgsaveå½ä»¤åå»ºå¿«ç§ã\n> \n> save 60 10000 #å¨60ç§(1åé)ä¹åï¼å¦æè³å°æ10000ä¸ªkeyåçååï¼rediså°±ä¼èªå¨è§¦åbgsaveå½ä»¤åå»ºå¿«ç§ã\n\n\n# aofï¼append-only fileï¼æä¹å\n\nä¸å¿«ç§æä¹åç¸æ¯ï¼aof æä¹åçå®æ¶æ§æ´å¥½ï¼å æ­¤å·²æä¸ºä¸»æµçæä¹åæ¹æ¡ãé»è®¤æåµä¸ redis æ²¡æå¼å¯ aofï¼append only fileï¼æ¹å¼çæä¹åï¼å¯ä»¥éè¿ appendonly åæ°å¼å¯ï¼\n\n> appendonly yes\n\nå¼å¯ aof æä¹ååæ¯æ§è¡ä¸æ¡ä¼æ´æ¹ redis ä¸­çæ°æ®çå½ä»¤ï¼redis å°±ä¼å°è¯¥å½ä»¤åå¥å°åå­ç¼å­ server.aof_buf ä¸­ï¼ç¶ååæ ¹æ® appendfsync éç½®æ¥å³å®ä½æ¶å°å¶åæ­¥å°ç¡¬çä¸­ç aof æä»¶ã\n\naof æä»¶çä¿å­ä½ç½®å rdb æä»¶çä½ç½®ç¸åï¼é½æ¯éè¿ dir åæ°è®¾ç½®çï¼é»è®¤çæä»¶åæ¯ appendonly.aofã\n\nå¨ redis çéç½®æä»¶ä¸­å­å¨ä¸ç§ä¸åç aof æä¹åæ¹å¼ï¼å®ä»¬åå«æ¯ï¼\n\n> appendfsync always #æ¯æ¬¡ææ°æ®ä¿®æ¹åçæ¶é½ä¼åå¥aofæä»¶,è¿æ ·ä¼ä¸¥ééä½redisçéåº¦ appendfsync everysec #æ¯ç§éåæ­¥ä¸æ¬¡ï¼æ¾å¼å°å°å¤ä¸ªåå½ä»¤åæ­¥å°ç¡¬ç appendfsync no #è®©æä½ç³»ç»å³å®ä½æ¶è¿è¡åæ­¥\n\nä¸ºäºå¼é¡¾æ°æ®ååå¥æ§è½ï¼ç¨æ·å¯ä»¥èè appendfsync everysec éé¡¹ ï¼è®© redis æ¯ç§åæ­¥ä¸æ¬¡ aof æä»¶ï¼redis æ§è½å ä¹æ²¡åå°ä»»ä½å½±åãèä¸è¿æ ·å³ä½¿åºç°ç³»ç»å´©æºï¼ç¨æ·æå¤åªä¼ä¸¢å¤±ä¸ç§ä¹åäº§ççæ°æ®ãå½ç¡¬çå¿äºæ§è¡åå¥æä½çæ¶åï¼redis è¿ä¼ä¼éçæ¾æ¢èªå·±çéåº¦ä»¥ä¾¿éåºç¡¬ççæå¤§åå¥éåº¦ã\n\n\n# å­ãredis äºå¡\n\nredis å¯ä»¥éè¿ multiï¼execï¼discard å watch ç­å½ä»¤æ¥å®ç°äºå¡(transaction)åè½ã\n\nä½¿ç¨ multi å½ä»¤åå¯ä»¥è¾å¥å¤ä¸ªå½ä»¤ãredis ä¸ä¼ç«å³æ§è¡è¿äºå½ä»¤ï¼èæ¯å°å®ä»¬æ¾å°éåï¼å½è°ç¨äº exec å½ä»¤å°æ§è¡ææå½ä»¤ã\n\nè¿ä¸ªè¿ç¨æ¯è¿æ ·çï¼\n\n 1. å¼å§äºå¡ï¼multiï¼ã\n 2. å½ä»¤å¥é(æ¹éæä½ redis çå½ä»¤ï¼åè¿ååºï¼fifoï¼çé¡ºåºæ§è¡)ã\n 3. æ§è¡äºå¡(exec)ã\n\nä½ ä¹å¯ä»¥éè¿ discard å½ä»¤åæ¶ä¸ä¸ªäºå¡ï¼å®ä¼æ¸ç©ºäºå¡éåä¸­ä¿å­çææå½ä»¤ã\n\nwatch å½ä»¤ç¨äºçå¬æå®çé®ï¼å½è°ç¨ exec å½ä»¤æ§è¡äºå¡æ¶ï¼å¦æä¸ä¸ªè¢« watch å½ä»¤çè§çé®è¢«ä¿®æ¹çè¯ï¼æ´ä¸ªäºå¡é½ä¸ä¼æ§è¡ï¼ç´æ¥è¿åå¤±è´¥ã\n\nredis æ¯ä¸æ¯æ roll back çï¼å èä¸æ»¡è¶³åå­æ§çï¼èä¸ä¸æ»¡è¶³æä¹æ§ï¼ã\n\nredis å®ç½ä¹è§£éäºèªå·±ä¸ºå¥ä¸æ¯æåæ»ãç®åæ¥è¯´å°±æ¯ redis å¼åèä»¬è§å¾æ²¡å¿è¦æ¯æåæ»ï¼è¿æ ·æ´ç®åä¾¿æ·å¹¶ä¸æ§è½æ´å¥½ãredis å¼åèè§å¾å³ä½¿å½ä»¤æ§è¡éè¯¯ä¹åºè¯¥å¨å¼åè¿ç¨ä¸­å°±è¢«åç°èä¸æ¯çäº§è¿ç¨ä¸­ã\n\nä½ å¯ä»¥å° redis ä¸­çäºå¡å°±çè§£ä¸º ï¼redis äºå¡æä¾äºä¸ç§å°å¤ä¸ªå½ä»¤è¯·æ±æåçåè½ãç¶åï¼åæé¡ºåºæ§è¡æåçææå½ä»¤ï¼å¹¶ä¸ä¸ä¼è¢«ä¸­éææ­ã\n\n\n# ä¸ãredis åæ¶æ¯éå\n\nredis 5.0 æ°å¢å çä¸ä¸ªæ°æ®ç»æ stream å¯ä»¥ç¨æ¥åæ¶æ¯éåï¼stream æ¯æï¼\n\n * åå¸ / è®¢éæ¨¡å¼\n * æç§æ¶è´¹èç»è¿è¡æ¶è´¹\n * æ¶æ¯æä¹åï¼ rdb å aofï¼\n\nä¸è¿ï¼åä¸ä¸çæ¶æ¯éåç¸æ¯ï¼è¿æ¯æå¾å¤æ¬ ç¼ºçå°æ¹æ¯å¦æ¶æ¯ä¸¢å¤±åå ç§¯é®é¢ä¸å¥½è§£å³ã\n\næä»¬éå¸¸å»ºè®®æ¯ä¸éè¦ä½¿ç¨ redis æ¥åæ¶æ¯éåçï¼ä½ å®å¨å¯ä»¥éæ©å¸é¢ä¸æ¯è¾æççä¸äºæ¶æ¯éåæ¯å¦ rocketmqãkafkaã',charsets:{cjk:!0},lastUpdated:"2022/04/13, 17:22:27",lastUpdatedTimestamp:1649841747e3},{title:"Elasticsearch",frontmatter:{title:"Elasticsearch",date:"2022-04-10T21:42:33.000Z",permalink:"/pages/0a0365/"},regularPath:"/02.%E6%A1%86%E6%9E%B6/03.SpringBoot/03.%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/02.Elasticsearch.html",relativePath:"02.æ¡æ¶/03.SpringBoot/03.éå³ç³»åæ°æ®åº/02.Elasticsearch.md",key:"v-c2ffda6e",path:"/pages/0a0365/",headers:[{level:2,title:"ä¸ãæ¦è¿°",slug:"ä¸ãæ¦è¿°",normalizedTitle:"ä¸ãæ¦è¿°",charIndex:2},{level:3,title:"Elasticsearch çç¨éæ¯ä»ä¹ï¼",slug:"elasticsearch-çç¨éæ¯ä»ä¹",normalizedTitle:"elasticsearch çç¨éæ¯ä»ä¹ï¼",charIndex:269},{level:3,title:"Elasticsearch çä¼ç¹",slug:"elasticsearch-çä¼ç¹",normalizedTitle:"elasticsearch çä¼ç¹",charIndex:452},{level:2,title:"äºãå·¥ä½åç",slug:"äºãå·¥ä½åç",normalizedTitle:"äºãå·¥ä½åç",charIndex:1108},{level:3,title:"Elasticsearch ç´¢å¼æ¯ä»ä¹ï¼",slug:"elasticsearch-ç´¢å¼æ¯ä»ä¹",normalizedTitle:"elasticsearch ç´¢å¼æ¯ä»ä¹ï¼",charIndex:1281},{level:2,title:"ä¸ãå®è£",slug:"ä¸ãå®è£",normalizedTitle:"ä¸ãå®è£",charIndex:1654},{level:3,title:"3.1 åºæ¬å®è£è¿è¡",slug:"_3-1-åºæ¬å®è£è¿è¡",normalizedTitle:"3.1 åºæ¬å®è£è¿è¡",charIndex:1684},{level:3,title:"3.2 å®è£ IK åè¯å¨",slug:"_3-2-å®è£-ik-åè¯å¨",normalizedTitle:"3.2 å®è£ ik åè¯å¨",charIndex:2691},{level:2,title:"åãè¿æ¥æ¹å¼",slug:"åãè¿æ¥æ¹å¼",normalizedTitle:"åãè¿æ¥æ¹å¼",charIndex:3019},{level:3,title:"4.1 Spring Data Jest",slug:"_4-1-spring-data-jest",normalizedTitle:"4.1 spring data jest",charIndex:3597},{level:3,title:"4.2 Spring Data Elasticsearch",slug:"_4-2-spring-data-elasticsearch",normalizedTitle:"4.2 spring data elasticsearch",charIndex:3857}],headersStr:"ä¸ãæ¦è¿° Elasticsearch çç¨éæ¯ä»ä¹ï¼ Elasticsearch çä¼ç¹ äºãå·¥ä½åç Elasticsearch ç´¢å¼æ¯ä»ä¹ï¼ ä¸ãå®è£ 3.1 åºæ¬å®è£è¿è¡ 3.2 å®è£ IK åè¯å¨ åãè¿æ¥æ¹å¼ 4.1 Spring Data Jest 4.2 Spring Data Elasticsearch",content:'# ä¸ãæ¦è¿°\n\nElasticsearch æ¯ä¸ä¸ªåå¸å¼çåè´¹å¼æºæç´¢ååæå¼æï¼éç¨äºåæ¬ææ¬ãæ°å­ãå°çç©ºé´ãç»æååéç»æåæ°æ®ç­å¨åçææç±»åçæ°æ®ãElasticsearch ä»¥å¶ç®åç REST é£æ ¼ APIãåå¸å¼ç¹æ§ãéåº¦åå¯æ©å±æ§èé»åï¼æ¯ Elastic Stack çæ ¸å¿ç»ä»¶ï¼Elastic Stack æ¯ä¸å¥éç¨äºæ°æ®ééãæ©åãå­å¨ãåæåå¯è§åçåè´¹å¼æºå·¥å·ãäººä»¬éå¸¸å° Elastic Stack ç§°ä¸º ELK Stackï¼ä»£æ ElasticsearchãLogstash å Kibanaï¼ï¼\n\n\n# Elasticsearch çç¨éæ¯ä»ä¹ï¼\n\nElasticsearch å¨éåº¦åå¯æ©å±æ§æ¹é¢é½è¡¨ç°åºè²ï¼èä¸è¿è½å¤ç´¢å¼å¤ç§ç±»åçåå®¹ï¼è¿æå³çå¶å¯ç¨äºå¤ç§ç¨ä¾ï¼\n\n * åºç¨ç¨åºæç´¢\n * ç½ç«æç´¢\n * ä¼ä¸æç´¢\n * æ¥å¿å¤çååæ\n * åºç¡è®¾æ½ææ åå®¹å¨çæµ\n * åºç¨ç¨åºæ§è½çæµ\n * å°çç©ºé´æ°æ®åæåå¯è§å\n * å®å¨åæ\n * ä¸å¡åæ\n\n\n# Elasticsearch çä¼ç¹\n\n**Elasticsearch å¾å¿«ã**ç±äº Elasticsearch æ¯å¨ Lucene åºç¡ä¸æå»ºèæçï¼æä»¥å¨å¨ææ¬æç´¢æ¹é¢è¡¨ç°åååºè²ãElasticsearch åæ¶è¿æ¯ä¸ä¸ªè¿å®æ¶çæç´¢å¹³å°ï¼è¿æå³çä»ææ¡£ç´¢å¼æä½å°ææ¡£åä¸ºå¯æç´¢ç¶æä¹é´çå»¶æ¶å¾ç­ï¼ä¸è¬åªæä¸ç§ãå æ­¤ï¼Elasticsearch éå¸¸éç¨äºå¯¹æ¶é´æä¸¥èè¦æ±çç¨ä¾ï¼ä¾å¦å®å¨åæååºç¡è®¾æ½çæµã\n\n**Elasticsearch å·æåå¸å¼çæ¬è´¨ç¹å¾ã**Elasticsearch ä¸­å­å¨çææ¡£åå¸å¨ä¸åçå®¹å¨ä¸­ï¼è¿äºå®¹å¨ç§°ä¸ºåçï¼å¯ä»¥è¿è¡å¤å¶ä»¥æä¾æ°æ®åä½å¯æ¬ï¼ä»¥é²åçç¡¬ä»¶æéãElasticsearch çåå¸å¼ç¹æ§ä½¿å¾å®å¯ä»¥æ©å±è³æ°ç¾å°ï¼çè³æ°åå°ï¼æå¡å¨ï¼å¹¶å¤ç PB éçº§çæ°æ®ã\n\n**Elasticsearch åå«ä¸ç³»åå¹¿æ³çåè½ã**é¤äºéåº¦ãå¯æ©å±æ§åå¼¹æ§ç­ä¼å¿ä»¥å¤ï¼Elasticsearch è¿æå¤§éå¼ºå¤§çåç½®åè½ï¼ä¾å¦æ°æ®æ±æ»åç´¢å¼çå½å¨æç®¡çï¼ï¼å¯ä»¥æ¹ä¾¿ç¨æ·æ´å é«æå°å­å¨åæç´¢æ°æ®ã\n\n**Elastic Stack ç®åäºæ°æ®ééãå¯è§ååæ¥åè¿ç¨ã**éè¿ä¸ Beats å Logstash è¿è¡éæï¼ç¨æ·è½å¤å¨å Elasticsearch ä¸­ç´¢å¼æ°æ®ä¹åè½»æ¾å°å¤çæ°æ®ãåæ¶ï¼Kibana ä¸ä»å¯éå¯¹ Elasticsearch æ°æ®æä¾å®æ¶å¯è§åï¼åæ¶è¿æä¾ UI ä»¥ä¾¿ç¨æ·å¿«éè®¿é®åºç¨ç¨åºæ§è½çæµ (APM)ãæ¥å¿ååºç¡è®¾æ½ææ ç­æ°æ®ã\n\n\n# äºãå·¥ä½åç\n\nåå§æ°æ®ä¼ä»å¤ä¸ªæ¥æºï¼åæ¬æ¥å¿ãç³»ç»ææ åç½ç»åºç¨ç¨åºï¼è¾å¥å° Elasticsearch ä¸­ãæ°æ®ééæå¨ Elasticsearch ä¸­è¿è¡ç´¢å¼ä¹åè§£æãæ ååå¹¶åå®è¿äºåå§æ°æ®çè¿ç¨ãè¿äºæ°æ®å¨ Elasticsearch ä¸­ç´¢å¼å®æä¹åï¼ç¨æ·ä¾¿å¯éå¯¹ä»ä»¬çæ°æ®è¿è¡å¤æçæ¥è¯¢ï¼å¹¶ä½¿ç¨èåæ¥æ£ç´¢èªèº«æ°æ®çå¤ææ±æ»ã\n\n\n# Elasticsearch ç´¢å¼æ¯ä»ä¹ï¼\n\nElasticsearch ç´¢å¼æç¸äºå³èçææ¡£éåãElasticsearch ä¼ä»¥ JSON ææ¡£çå½¢å¼å­å¨æ°æ®ãæ¯ä¸ªææ¡£é½ä¼å¨ä¸ç»é®ï¼å­æ®µæå±æ§çåç§°ï¼åå®ä»¬å¯¹åºçå¼ï¼å­ç¬¦ä¸²ãæ°å­ãå¸å°å¼ãæ¥æãæ°å¼ç»ãå°çä½ç½®æå¶ä»ç±»åçæ°æ®ï¼ä¹é´å»ºç«èç³»ã\n\nElasticsearch ä½¿ç¨çæ¯ä¸ç§åä¸ºåæç´¢å¼çæ°æ®ç»æï¼è¿ä¸ç»æçè®¾è®¡å¯ä»¥åè®¸ååå¿«éå°è¿è¡å¨ææ¬æç´¢ãåæç´¢å¼ä¼ååºå¨ææææ¡£ä¸­åºç°çæ¯ä¸ªç¹æè¯æ±ï¼å¹¶ä¸å¯ä»¥æ¾å°åå«æ¯ä¸ªè¯æ±çå¨é¨ææ¡£ã\n\nå¨ç´¢å¼è¿ç¨ä¸­ï¼Elasticsearch ä¼å­å¨ææ¡£å¹¶æå»ºåæç´¢å¼ï¼è¿æ ·ç¨æ·ä¾¿å¯ä»¥è¿å®æ¶å°å¯¹ææ¡£æ°æ®è¿è¡æç´¢ãç´¢å¼è¿ç¨æ¯å¨ç´¢å¼ API ä¸­å¯å¨çï¼éè¿æ­¤ API æ¨æ¢å¯åç¹å®ç´¢å¼ä¸­æ·»å  JSON ææ¡£ï¼ä¹å¯æ´æ¹ç¹å®ç´¢å¼ä¸­ç JSON ææ¡£ã\n\n\n# ä¸ãå®è£\n\nè¿éä»¥å¨ docker ä¸­æåéåä¸ºä¾\n\n\n# 3.1 åºæ¬å®è£è¿è¡\n\n# 1ãæåéå\ndocker pull elasticsearch:7.17.2   \n\n# 2ãåå»ºå­æ¾æ°æ®åéç½®æä»¶çæä»¶å¤¹ï¼å¯å¨æ¶æè½½ã\nmkdir -p  /Library/elasticsearch/data/ \nmkdir -p  /Library/elasticsearch/config/\n\n# 3ãç¼åéç½®æä»¶\necho \'http.host: 0.0.0.0\nhttp.cors.enabled: true\nhttp.cors.allow-origin: "*" \'>>/Library/elasticsearch/config/elasticsearch.yml\n# http.cors.enabled: true åhttp.cors.allow-origin: "*"éç½®æ¯ä¸ºäºè§£å³è·¨åé®é¢ï¼å ä¸ºç­ä¸è¿è¦ä¸è½½å¯è§åå·¥å·æ¥çã\n\n# 4ãä¿®æ¹æä»¶å¤¹çæé\nchmod -R 777 /Users/aafall/Documents/docker/es\n\n# 5ãä½¿ç¨éåï¼åå»ºå®¹å¨å¹¶å¯å¨\ndocker run -d --name elasticsearch -p 9200:9200 -p 9300:9300 -e "discovery.type=single-node" \\\n-e ES_JAVA_OPTS="-Xms64m -Xmx512m" \\\n-v /Users/aafall/Documents/docker/es/config/elasticsearch.yml:/usr/share/elasticsearch/config/elasticsearch.yml \\\n-v /Users/aafall/Documents/docker/es/data:/usr/share/elasticsearch/data \\\n-v /Users/aafall/Documents/docker/es/plugins:/usr/share/elasticsearch/plugins \\\nelasticsearch:7.17.2\n# -d åå°è¿è¡å®¹å¨ï¼è¿åå®¹å¨ID\n# -e ES_JAVA_OPTS="-Xms64m -Xmx512m" éç½®åå­å¤§å°\n# -e "discovery.type=single-node" åä¾æ¨¡å¼\n# -v ç®å½çæ å°\n\n\n\n# 3.2 å®è£ IK åè¯å¨\n\n * å¨çº¿å®è£\n   \n   # è¿å¥å®¹å¨\n   docker exec -it elasticsearch /bin/bash  \n   # å®è£å¯¹åºçæ¬\n   ./bin/elasticsearch-plugin install https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v7.17.2/elasticsearch-analysis-ik-7.17.2.zip\n   # https://github.com/medcl/elasticsearch-analysis-ik/releases\n   \n\n * ç¦»çº¿å®è£\n\n\n# åãè¿æ¥æ¹å¼\n\n * transport ï¼éè¿ TCP æ¹å¼è®¿é® ES ã\n   \n   > å¯¹åºçåºæ¯ org.elasticsearch.client.transport ã\n\n * rest ï¼éè¿ HTTP API æ¹å¼è®¿é® ES ã\n   \n   > å¯¹åºçåºæ¯ï¼\n   > \n   >  * elasticsearch-rest-client + org.elasticsearch.client.rest\n   >  * elasticsearch-rest-high-level-client ï¼æä¾ high-level rest API ãä» Elasticsearch 6.0.0-beta1 å¼å§æä¾ã\n\næä»¬å¨é¡¹ç®ä¸­ï¼ç¼åæ°æ®åºæä½çé»è¾ï¼ä½¿ç¨ MyBatis æè JPA ä¸ºä¸»ï¼èä¸ä½¿ç¨åçç JDBC ãé£ä¹ï¼æä»¬å¨ç¼å Elasticsearch æä½çé»è¾ï¼ä¹ä¸ç´æ¥ä½¿ç¨ä¸è¿°çå®¢æ·ç«¯ï¼èæ¯ï¼\n\n * spring-data-elasticsearch ï¼åºäº Elasticsearch transport å®¢æ·ç«¯å°è£ã\n * spring-data-jest ï¼åºäº Jest å®¢æ·ç«¯å°è£ã\n\nè½ç¶è¿ä¸¤èåºå±ä½¿ç¨çä¸åå®¢æ·ç«¯ï¼ä½æ¯é½åºäº Spring Data ä½ç³»ï¼æä»¥é¡¹ç®å¨ä½¿ç¨æ¶ï¼ç¼åçä»£ç æ¯ç¸åçã\n\n\n# 4.1 Spring Data Jest\n\n * å¼å¥ä¾èµ\n   \n   \x3c!-- èªå¨åéç½® Spring Data Jest --\x3e\n    <dependency>\n        <groupId>com.github.vanroy</groupId>\n        <artifactId>spring-boot-starter-data-jest</artifactId>\n        <version>3.2.5.RELEASE</version>\n   </dependency>\n   \n\n\n# 4.2 Spring Data Elasticsearch',normalizedContent:'# ä¸ãæ¦è¿°\n\nelasticsearch æ¯ä¸ä¸ªåå¸å¼çåè´¹å¼æºæç´¢ååæå¼æï¼éç¨äºåæ¬ææ¬ãæ°å­ãå°çç©ºé´ãç»æååéç»æåæ°æ®ç­å¨åçææç±»åçæ°æ®ãelasticsearch ä»¥å¶ç®åç rest é£æ ¼ apiãåå¸å¼ç¹æ§ãéåº¦åå¯æ©å±æ§èé»åï¼æ¯ elastic stack çæ ¸å¿ç»ä»¶ï¼elastic stack æ¯ä¸å¥éç¨äºæ°æ®ééãæ©åãå­å¨ãåæåå¯è§åçåè´¹å¼æºå·¥å·ãäººä»¬éå¸¸å° elastic stack ç§°ä¸º elk stackï¼ä»£æ elasticsearchãlogstash å kibanaï¼ï¼\n\n\n# elasticsearch çç¨éæ¯ä»ä¹ï¼\n\nelasticsearch å¨éåº¦åå¯æ©å±æ§æ¹é¢é½è¡¨ç°åºè²ï¼èä¸è¿è½å¤ç´¢å¼å¤ç§ç±»åçåå®¹ï¼è¿æå³çå¶å¯ç¨äºå¤ç§ç¨ä¾ï¼\n\n * åºç¨ç¨åºæç´¢\n * ç½ç«æç´¢\n * ä¼ä¸æç´¢\n * æ¥å¿å¤çååæ\n * åºç¡è®¾æ½ææ åå®¹å¨çæµ\n * åºç¨ç¨åºæ§è½çæµ\n * å°çç©ºé´æ°æ®åæåå¯è§å\n * å®å¨åæ\n * ä¸å¡åæ\n\n\n# elasticsearch çä¼ç¹\n\n**elasticsearch å¾å¿«ã**ç±äº elasticsearch æ¯å¨ lucene åºç¡ä¸æå»ºèæçï¼æä»¥å¨å¨ææ¬æç´¢æ¹é¢è¡¨ç°åååºè²ãelasticsearch åæ¶è¿æ¯ä¸ä¸ªè¿å®æ¶çæç´¢å¹³å°ï¼è¿æå³çä»ææ¡£ç´¢å¼æä½å°ææ¡£åä¸ºå¯æç´¢ç¶æä¹é´çå»¶æ¶å¾ç­ï¼ä¸è¬åªæä¸ç§ãå æ­¤ï¼elasticsearch éå¸¸éç¨äºå¯¹æ¶é´æä¸¥èè¦æ±çç¨ä¾ï¼ä¾å¦å®å¨åæååºç¡è®¾æ½çæµã\n\n**elasticsearch å·æåå¸å¼çæ¬è´¨ç¹å¾ã**elasticsearch ä¸­å­å¨çææ¡£åå¸å¨ä¸åçå®¹å¨ä¸­ï¼è¿äºå®¹å¨ç§°ä¸ºåçï¼å¯ä»¥è¿è¡å¤å¶ä»¥æä¾æ°æ®åä½å¯æ¬ï¼ä»¥é²åçç¡¬ä»¶æéãelasticsearch çåå¸å¼ç¹æ§ä½¿å¾å®å¯ä»¥æ©å±è³æ°ç¾å°ï¼çè³æ°åå°ï¼æå¡å¨ï¼å¹¶å¤ç pb éçº§çæ°æ®ã\n\n**elasticsearch åå«ä¸ç³»åå¹¿æ³çåè½ã**é¤äºéåº¦ãå¯æ©å±æ§åå¼¹æ§ç­ä¼å¿ä»¥å¤ï¼elasticsearch è¿æå¤§éå¼ºå¤§çåç½®åè½ï¼ä¾å¦æ°æ®æ±æ»åç´¢å¼çå½å¨æç®¡çï¼ï¼å¯ä»¥æ¹ä¾¿ç¨æ·æ´å é«æå°å­å¨åæç´¢æ°æ®ã\n\n**elastic stack ç®åäºæ°æ®ééãå¯è§ååæ¥åè¿ç¨ã**éè¿ä¸ beats å logstash è¿è¡éæï¼ç¨æ·è½å¤å¨å elasticsearch ä¸­ç´¢å¼æ°æ®ä¹åè½»æ¾å°å¤çæ°æ®ãåæ¶ï¼kibana ä¸ä»å¯éå¯¹ elasticsearch æ°æ®æä¾å®æ¶å¯è§åï¼åæ¶è¿æä¾ ui ä»¥ä¾¿ç¨æ·å¿«éè®¿é®åºç¨ç¨åºæ§è½çæµ (apm)ãæ¥å¿ååºç¡è®¾æ½ææ ç­æ°æ®ã\n\n\n# äºãå·¥ä½åç\n\nåå§æ°æ®ä¼ä»å¤ä¸ªæ¥æºï¼åæ¬æ¥å¿ãç³»ç»ææ åç½ç»åºç¨ç¨åºï¼è¾å¥å° elasticsearch ä¸­ãæ°æ®ééæå¨ elasticsearch ä¸­è¿è¡ç´¢å¼ä¹åè§£æãæ ååå¹¶åå®è¿äºåå§æ°æ®çè¿ç¨ãè¿äºæ°æ®å¨ elasticsearch ä¸­ç´¢å¼å®æä¹åï¼ç¨æ·ä¾¿å¯éå¯¹ä»ä»¬çæ°æ®è¿è¡å¤æçæ¥è¯¢ï¼å¹¶ä½¿ç¨èåæ¥æ£ç´¢èªèº«æ°æ®çå¤ææ±æ»ã\n\n\n# elasticsearch ç´¢å¼æ¯ä»ä¹ï¼\n\nelasticsearch ç´¢å¼æç¸äºå³èçææ¡£éåãelasticsearch ä¼ä»¥ json ææ¡£çå½¢å¼å­å¨æ°æ®ãæ¯ä¸ªææ¡£é½ä¼å¨ä¸ç»é®ï¼å­æ®µæå±æ§çåç§°ï¼åå®ä»¬å¯¹åºçå¼ï¼å­ç¬¦ä¸²ãæ°å­ãå¸å°å¼ãæ¥æãæ°å¼ç»ãå°çä½ç½®æå¶ä»ç±»åçæ°æ®ï¼ä¹é´å»ºç«èç³»ã\n\nelasticsearch ä½¿ç¨çæ¯ä¸ç§åä¸ºåæç´¢å¼çæ°æ®ç»æï¼è¿ä¸ç»æçè®¾è®¡å¯ä»¥åè®¸ååå¿«éå°è¿è¡å¨ææ¬æç´¢ãåæç´¢å¼ä¼ååºå¨ææææ¡£ä¸­åºç°çæ¯ä¸ªç¹æè¯æ±ï¼å¹¶ä¸å¯ä»¥æ¾å°åå«æ¯ä¸ªè¯æ±çå¨é¨ææ¡£ã\n\nå¨ç´¢å¼è¿ç¨ä¸­ï¼elasticsearch ä¼å­å¨ææ¡£å¹¶æå»ºåæç´¢å¼ï¼è¿æ ·ç¨æ·ä¾¿å¯ä»¥è¿å®æ¶å°å¯¹ææ¡£æ°æ®è¿è¡æç´¢ãç´¢å¼è¿ç¨æ¯å¨ç´¢å¼ api ä¸­å¯å¨çï¼éè¿æ­¤ api æ¨æ¢å¯åç¹å®ç´¢å¼ä¸­æ·»å  json ææ¡£ï¼ä¹å¯æ´æ¹ç¹å®ç´¢å¼ä¸­ç json ææ¡£ã\n\n\n# ä¸ãå®è£\n\nè¿éä»¥å¨ docker ä¸­æåéåä¸ºä¾\n\n\n# 3.1 åºæ¬å®è£è¿è¡\n\n# 1ãæåéå\ndocker pull elasticsearch:7.17.2   \n\n# 2ãåå»ºå­æ¾æ°æ®åéç½®æä»¶çæä»¶å¤¹ï¼å¯å¨æ¶æè½½ã\nmkdir -p  /library/elasticsearch/data/ \nmkdir -p  /library/elasticsearch/config/\n\n# 3ãç¼åéç½®æä»¶\necho \'http.host: 0.0.0.0\nhttp.cors.enabled: true\nhttp.cors.allow-origin: "*" \'>>/library/elasticsearch/config/elasticsearch.yml\n# http.cors.enabled: true åhttp.cors.allow-origin: "*"éç½®æ¯ä¸ºäºè§£å³è·¨åé®é¢ï¼å ä¸ºç­ä¸è¿è¦ä¸è½½å¯è§åå·¥å·æ¥çã\n\n# 4ãä¿®æ¹æä»¶å¤¹çæé\nchmod -r 777 /users/aafall/documents/docker/es\n\n# 5ãä½¿ç¨éåï¼åå»ºå®¹å¨å¹¶å¯å¨\ndocker run -d --name elasticsearch -p 9200:9200 -p 9300:9300 -e "discovery.type=single-node" \\\n-e es_java_opts="-xms64m -xmx512m" \\\n-v /users/aafall/documents/docker/es/config/elasticsearch.yml:/usr/share/elasticsearch/config/elasticsearch.yml \\\n-v /users/aafall/documents/docker/es/data:/usr/share/elasticsearch/data \\\n-v /users/aafall/documents/docker/es/plugins:/usr/share/elasticsearch/plugins \\\nelasticsearch:7.17.2\n# -d åå°è¿è¡å®¹å¨ï¼è¿åå®¹å¨id\n# -e es_java_opts="-xms64m -xmx512m" éç½®åå­å¤§å°\n# -e "discovery.type=single-node" åä¾æ¨¡å¼\n# -v ç®å½çæ å°\n\n\n\n# 3.2 å®è£ ik åè¯å¨\n\n * å¨çº¿å®è£\n   \n   # è¿å¥å®¹å¨\n   docker exec -it elasticsearch /bin/bash  \n   # å®è£å¯¹åºçæ¬\n   ./bin/elasticsearch-plugin install https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v7.17.2/elasticsearch-analysis-ik-7.17.2.zip\n   # https://github.com/medcl/elasticsearch-analysis-ik/releases\n   \n\n * ç¦»çº¿å®è£\n\n\n# åãè¿æ¥æ¹å¼\n\n * transport ï¼éè¿ tcp æ¹å¼è®¿é® es ã\n   \n   > å¯¹åºçåºæ¯ org.elasticsearch.client.transport ã\n\n * rest ï¼éè¿ http api æ¹å¼è®¿é® es ã\n   \n   > å¯¹åºçåºæ¯ï¼\n   > \n   >  * elasticsearch-rest-client + org.elasticsearch.client.rest\n   >  * elasticsearch-rest-high-level-client ï¼æä¾ high-level rest api ãä» elasticsearch 6.0.0-beta1 å¼å§æä¾ã\n\næä»¬å¨é¡¹ç®ä¸­ï¼ç¼åæ°æ®åºæä½çé»è¾ï¼ä½¿ç¨ mybatis æè jpa ä¸ºä¸»ï¼èä¸ä½¿ç¨åçç jdbc ãé£ä¹ï¼æä»¬å¨ç¼å elasticsearch æä½çé»è¾ï¼ä¹ä¸ç´æ¥ä½¿ç¨ä¸è¿°çå®¢æ·ç«¯ï¼èæ¯ï¼\n\n * spring-data-elasticsearch ï¼åºäº elasticsearch transport å®¢æ·ç«¯å°è£ã\n * spring-data-jest ï¼åºäº jest å®¢æ·ç«¯å°è£ã\n\nè½ç¶è¿ä¸¤èåºå±ä½¿ç¨çä¸åå®¢æ·ç«¯ï¼ä½æ¯é½åºäº spring data ä½ç³»ï¼æä»¥é¡¹ç®å¨ä½¿ç¨æ¶ï¼ç¼åçä»£ç æ¯ç¸åçã\n\n\n# 4.1 spring data jest\n\n * å¼å¥ä¾èµ\n   \n   \x3c!-- èªå¨åéç½® spring data jest --\x3e\n    <dependency>\n        <groupid>com.github.vanroy</groupid>\n        <artifactid>spring-boot-starter-data-jest</artifactid>\n        <version>3.2.5.release</version>\n   </dependency>\n   \n\n\n# 4.2 spring data elasticsearch',charsets:{cjk:!0},lastUpdated:"2022/04/12, 21:23:57",lastUpdatedTimestamp:1649769837e3},{title:"RabbitMQ",frontmatter:{title:"RabbitMQ",date:"2022-04-13T19:52:37.000Z",permalink:"/pages/c267a5/"},regularPath:"/02.%E6%A1%86%E6%9E%B6/03.SpringBoot/04.MQ/01.RabbitMQ.html",relativePath:"02.æ¡æ¶/03.SpringBoot/04.MQ/01.RabbitMQ.md",key:"v-2b9d952b",path:"/pages/c267a5/",headers:[{level:2,title:"ä¸ãä»ä¹æ¯æ¶æ¯éå",slug:"ä¸ãä»ä¹æ¯æ¶æ¯éå",normalizedTitle:"ä¸ãä»ä¹æ¯æ¶æ¯éå",charIndex:2},{level:2,title:"äºãä¸ºä½ä½¿ç¨æ¶æ¯éå",slug:"äºãä¸ºä½ä½¿ç¨æ¶æ¯éå",normalizedTitle:"äºãä¸ºä½ä½¿ç¨æ¶æ¯éå",charIndex:110},{level:2,title:"ä¸ãRabbitMQçç¹ç¹",slug:"ä¸ãrabbitmqçç¹ç¹",normalizedTitle:"ä¸ãrabbitmqçç¹ç¹",charIndex:205},{level:2,title:"åãRabbitMQä¸­çæ¦å¿µ",slug:"åãrabbitmqä¸­çæ¦å¿µ",normalizedTitle:"åãrabbitmqä¸­çæ¦å¿µ",charIndex:1119},{level:3,title:"æ¶æ¯æ¨¡å",slug:"æ¶æ¯æ¨¡å",normalizedTitle:"æ¶æ¯æ¨¡å",charIndex:1138},{level:3,title:"RabbitMQ åºæ¬æ¦å¿µ",slug:"rabbitmq-åºæ¬æ¦å¿µ",normalizedTitle:"rabbitmq åºæ¬æ¦å¿µ",charIndex:1243},{level:3,title:"Exchange ç±»å",slug:"exchange-ç±»å",normalizedTitle:"exchange ç±»å",charIndex:2220},{level:2,title:"äºãRabbitMQ çå®è£",slug:"äºãrabbitmq-çå®è£",normalizedTitle:"äºãrabbitmq çå®è£",charIndex:3039}],headersStr:"ä¸ãä»ä¹æ¯æ¶æ¯éå äºãä¸ºä½ä½¿ç¨æ¶æ¯éå ä¸ãRabbitMQçç¹ç¹ åãRabbitMQä¸­çæ¦å¿µ æ¶æ¯æ¨¡å RabbitMQ åºæ¬æ¦å¿µ Exchange ç±»å äºãRabbitMQ çå®è£",content:"# ä¸ãä»ä¹æ¯æ¶æ¯éå\n\næ¶æ¯ï¼å¨åºç¨ä¹é´ä¼ éçæ°æ®\n\næ¶æ¯éåï¼æ¯åºç¨ä¹é´çéä¿¡æ¹å¼ï¼æ¶æ¯åéä¹åå¯ä»¥ç«å³è¿åï¼ç±æ¶æ¯ç³»ç»ä¿è¯æ¶æ¯çå¯é ä¼ éãæ¶æ¯åå¸èåªç®¡ææ¶æ¯åå¸å°MQä¸­ï¼èæ¶æ¯ä½¿ç¨èåªç®¡ä»MQä¸­åæ°æ®ã\n\n\n# äºãä¸ºä½ä½¿ç¨æ¶æ¯éå\n\næ¶æ¯éåæ¯ä¸ç§åºç¨é´çå¼æ­¥åä½æºå¶ï¼å°ä¸äºä¸éè¦ç«å³æ§è¡çæçæä½æååºæ¥å¼æ­¥æ§è¡ï¼æåæå¡å¨çæ§è½ã\n\næ¶æ¯éåè¿å¯ä»¥ç¨æ¥å®ç°ï¼æå¡è§£è¦ãæµéæ§å¶(æ¶å³°)\n\n\n# ä¸ãRabbitMQçç¹ç¹\n\nRabbitMQ æ¯ä¸ä¸ªç± Erlang è¯­è¨å¼åç AMQP çå¼æºå®ç°ã\n\nAMQP ï¼ Advanced Message Queuing Protocolï¼é«çº§æ¶æ¯éååè®®ãå®æ¯åºç¨å±åè®®çä¸ä¸ªå¼æ¾æ åï¼ä¸ºé¢åæ¶æ¯çä¸­é´ä»¶è®¾è®¡ï¼åºäºæ­¤åè®®çå®¢æ·ç«¯ä¸æ¶æ¯ä¸­é´ä»¶å¯ä¼ éæ¶æ¯ï¼å¹¶ä¸åäº§åãå¼åè¯­è¨ç­æ¡ä»¶çéå¶ã\n\nRabbitMQ æåèµ·æºäºéèç³»ç»ï¼ç¨äºå¨åå¸å¼ç³»ç»ä¸­å­å¨è½¬åæ¶æ¯ï¼å¨æç¨æ§ãæ©å±æ§ãé«å¯ç¨æ§ç­æ¹é¢è¡¨ç°ä¸ä¿ãå·ä½ç¹ç¹åæ¬ï¼\n\n 1. å¯é æ§ï¼Reliabilityï¼ RabbitMQ ä½¿ç¨ä¸äºæºå¶æ¥ä¿è¯å¯é æ§ï¼å¦æä¹åãä¼ è¾ç¡®è®¤ãåå¸ç¡®è®¤ã\n 2. çµæ´»çè·¯ç±ï¼Flexible Routingï¼ å¨æ¶æ¯è¿å¥éåä¹åï¼éè¿ Exchange æ¥è·¯ç±æ¶æ¯çãå¯¹äºå¸åçè·¯ç±åè½ï¼RabbitMQ å·²ç»æä¾äºä¸äºåç½®ç Exchange æ¥å®ç°ãéå¯¹æ´å¤æçè·¯ç±åè½ï¼å¯ä»¥å°å¤ä¸ª Exchange ç»å®å¨ä¸èµ·ï¼ä¹éè¿æä»¶æºå¶å®ç°èªå·±ç Exchange ã\n 3. æ¶æ¯éç¾¤ï¼Clusteringï¼ å¤ä¸ª RabbitMQ æå¡å¨å¯ä»¥ç»æä¸ä¸ªéç¾¤ï¼å½¢æä¸ä¸ªé»è¾ Broker ã\n 4. é«å¯ç¨ï¼Highly Available Queuesï¼ éåå¯ä»¥å¨éç¾¤ä¸­çæºå¨ä¸è¿è¡éåï¼ä½¿å¾å¨é¨åèç¹åºé®é¢çæåµä¸éåä»ç¶å¯ç¨ã\n 5. å¤ç§åè®®ï¼Multi-protocolï¼ RabbitMQ æ¯æå¤ç§æ¶æ¯éååè®®ï¼æ¯å¦ STOMPãMQTT ç­ç­ã\n 6. å¤è¯­è¨å®¢æ·ç«¯ï¼Many Clientsï¼ RabbitMQ å ä¹æ¯æææå¸¸ç¨è¯­è¨ï¼æ¯å¦ Javaã.NETãRuby ç­ç­ã\n 7. ç®¡ççé¢ï¼Management UIï¼ RabbitMQ æä¾äºä¸ä¸ªæç¨çç¨æ·çé¢ï¼ä½¿å¾ç¨æ·å¯ä»¥çæ§åç®¡çæ¶æ¯ Broker çè®¸å¤æ¹é¢ã\n 8. è·è¸ªæºå¶ï¼Tracingï¼ å¦ææ¶æ¯å¼å¸¸ï¼RabbitMQ æä¾äºæ¶æ¯è·è¸ªæºå¶ï¼ä½¿ç¨èå¯ä»¥æ¾åºåçäºä»ä¹ã\n 9. æä»¶æºå¶ï¼Plugin Systemï¼ RabbitMQ æä¾äºè®¸å¤æä»¶ï¼æ¥ä»å¤æ¹é¢è¿è¡æ©å±ï¼ä¹å¯ä»¥ç¼åèªå·±çæä»¶ã\n\n\n# åãRabbitMQä¸­çæ¦å¿µ\n\n\n# æ¶æ¯æ¨¡å\n\nææ MQ äº§åä»æ¨¡åæ½è±¡ä¸æ¥è¯´é½æ¯ä¸æ ·çè¿ç¨ï¼ æ¶è´¹èï¼consumerï¼è®¢éæä¸ªéåãçäº§èï¼producerï¼åå»ºæ¶æ¯ï¼ç¶ååå¸å°éåï¼queueï¼ä¸­ï¼æåå°æ¶æ¯åéå°çå¬çæ¶è´¹èã\n\n\n# RabbitMQ åºæ¬æ¦å¿µ\n\nä¸é¢åªæ¯æç®åæ½è±¡çæè¿°ï¼å·ä½å° RabbitMQ åææ´è¯¦ç»çæ¦å¿µéè¦è§£éãä¸é¢ä»ç»è¿ RabbitMQ æ¯ AMQP åè®®çä¸ä¸ªå¼æºå®ç°ï¼æä»¥å¶åé¨å®éä¸ä¹æ¯ AMQP ä¸­çåºæ¬æ¦å¿µï¼\n\n\n\n 1.  Message æ¶æ¯ï¼æ¶æ¯æ¯ä¸å·åçï¼å®ç±æ¶æ¯å¤´åæ¶æ¯ä½ç»æãæ¶æ¯ä½æ¯ä¸éæçï¼èæ¶æ¯å¤´åç±ä¸ç³»åçå¯éå±æ§ç»æï¼è¿äºå±æ§åæ¬routing-keyï¼è·¯ç±é®ï¼ãpriorityï¼ç¸å¯¹äºå¶ä»æ¶æ¯çä¼åæï¼ãdelivery-modeï¼æåºè¯¥æ¶æ¯å¯è½éè¦æä¹æ§å­å¨ï¼ç­ã\n\n 2.  Publisher æ¶æ¯ççäº§èï¼ä¹æ¯ä¸ä¸ªåäº¤æ¢å¨åå¸æ¶æ¯çå®¢æ·ç«¯åºç¨ç¨åºã\n\n 3.  Exchange äº¤æ¢å¨ï¼ç¨æ¥æ¥æ¶çäº§èåéçæ¶æ¯å¹¶å°è¿äºæ¶æ¯è·¯ç±ç»æå¡å¨ä¸­çéåã\n\n 4.  Binding ç»å®ï¼ç¨äºæ¶æ¯éååäº¤æ¢å¨ä¹é´çå³èãä¸ä¸ªç»å®å°±æ¯åºäºè·¯ç±é®å°äº¤æ¢å¨åæ¶æ¯éåè¿æ¥èµ·æ¥çè·¯ç±è§åï¼æä»¥å¯ä»¥å°äº¤æ¢å¨çè§£æä¸ä¸ªç±ç»å®ææçè·¯ç±è¡¨ã\n\n 5.  Queue æ¶æ¯éåï¼ç¨æ¥ä¿å­æ¶æ¯ç´å°åéç»æ¶è´¹èãå®æ¯æ¶æ¯çå®¹å¨ï¼ä¹æ¯æ¶æ¯çç»ç¹ãä¸ä¸ªæ¶æ¯å¯æå¥ä¸ä¸ªæå¤ä¸ªéåãæ¶æ¯ä¸ç´å¨éåéé¢ï¼ç­å¾æ¶è´¹èè¿æ¥å°è¿ä¸ªéåå°å¶åèµ°ã\n\n 6.  Connection ç½ç»è¿æ¥ï¼æ¯å¦ä¸ä¸ªTCPè¿æ¥ã\n\n 7.  Channel ä¿¡éï¼å¤è·¯å¤ç¨è¿æ¥ä¸­çä¸æ¡ç¬ç«çååæ°æ®æµééãä¿¡éæ¯å»ºç«å¨çå®çTCPè¿æ¥åå°èæè¿æ¥ï¼AMQP å½ä»¤é½æ¯éè¿ä¿¡éååºå»çï¼ä¸ç®¡æ¯åå¸æ¶æ¯ãè®¢ééåè¿æ¯æ¥æ¶æ¶æ¯ï¼è¿äºå¨ä½é½æ¯éè¿ä¿¡éå®æãå ä¸ºå¯¹äºæä½ç³»ç»æ¥è¯´å»ºç«åéæ¯ TCP é½æ¯éå¸¸æè´µçå¼éï¼æä»¥å¼å¥äºä¿¡éçæ¦å¿µï¼ä»¥å¤ç¨ä¸æ¡ TCP è¿æ¥ã\n\n 8.  Consumer æ¶æ¯çæ¶è´¹èï¼è¡¨ç¤ºä¸ä¸ªä»æ¶æ¯éåä¸­åå¾æ¶æ¯çå®¢æ·ç«¯åºç¨ç¨åºã\n\n 9.  Virtual Host èæä¸»æºï¼è¡¨ç¤ºä¸æ¹äº¤æ¢å¨ãæ¶æ¯éååç¸å³å¯¹è±¡ãèæä¸»æºæ¯å±äº«ç¸åçèº«ä»½è®¤è¯åå å¯ç¯å¢çç¬ç«æå¡å¨åãæ¯ä¸ª vhost æ¬è´¨ä¸å°±æ¯ä¸ä¸ª mini çç RabbitMQ æå¡å¨ï¼æ¥æèªå·±çéåãäº¤æ¢å¨ãç»å®åæéæºå¶ãvhost æ¯ AMQP æ¦å¿µçåºç¡ï¼å¿é¡»å¨è¿æ¥æ¶æå®ï¼RabbitMQ é»è®¤ç vhost æ¯ / ã\n\n 10. Broker è¡¨ç¤ºæ¶æ¯éåæå¡å¨å®ä½ã\n\n\n# Exchange ç±»å\n\nExchangeååæ¶æ¯æ¶æ ¹æ®ç±»åçä¸åååç­ç¥æåºå«ï¼ç®åå±åç§ç±»åï¼directãfanoutãtopicãheaders ãheaders å¹é AMQP æ¶æ¯ç header èä¸æ¯è·¯ç±é®ï¼æ­¤å¤ headers äº¤æ¢å¨å direct äº¤æ¢å¨å®å¨ä¸è´ï¼ä½æ§è½å·®å¾å¤ï¼ç®åå ä¹ç¨ä¸å°äºï¼æä»¥ç´æ¥çå¦å¤ä¸ç§ç±»åï¼\n\n 1. direct\n    \n    æ¶æ¯ä¸­çè·¯ç±é®ï¼routing keyï¼å¦æå Binding ä¸­ç binding key ä¸è´ï¼ äº¤æ¢å¨å°±å°æ¶æ¯åå°å¯¹åºçéåä¸­ãè·¯ç±é®ä¸éååå®å¨å¹éï¼å¦æä¸ä¸ªéåç»å®å°äº¤æ¢æºè¦æ±è·¯ç±é®ä¸ºâdogâï¼ååªè½¬å routing key æ è®°ä¸ºâdogâçæ¶æ¯ï¼ä¸ä¼è½¬åâdog.puppyâï¼ä¹ä¸ä¼è½¬åâdog.guardâç­ç­ãå®æ¯å®å¨å¹éãåæ­çæ¨¡å¼ã\n    \n    \n\n 2. fanout\n    \n    æ¯ä¸ªåå° fanout ç±»åäº¤æ¢å¨çæ¶æ¯é½ä¼åå°ææç»å®çéåä¸å»ãfanout äº¤æ¢å¨ä¸å¤çè·¯ç±é®ï¼åªæ¯ç®åçå°éåç»å®å°äº¤æ¢å¨ä¸ï¼æ¯ä¸ªåéå°äº¤æ¢å¨çæ¶æ¯é½ä¼è¢«è½¬åå°ä¸è¯¥äº¤æ¢å¨ç»å®çææéåä¸ãå¾åå­ç½å¹¿æ­ï¼æ¯å°å­ç½åçä¸»æºé½è·å¾äºä¸ä»½å¤å¶çæ¶æ¯ãfanout ç±»åè½¬åæ¶æ¯æ¯æå¿«çã\n    \n    \n    \n    çäº§è Publisher åéå° Exchange çæææ¶æ¯é½ä¼è·¯ç±å°å¾ä¸­çä¸¤ä¸ª Queueï¼å¹¶æç»è¢«ä¸¤ä¸ªæ¶è´¹èï¼Consumer1ä¸Comsumer2ï¼æ¶è´¹ã\n\n 3. topic\n    \n    topic äº¤æ¢å¨éè¿æ¨¡å¼å¹éåéæ¶æ¯çè·¯ç±é®å±æ§ï¼å°è·¯ç±é®åæä¸ªæ¨¡å¼è¿è¡å¹éï¼æ­¤æ¶éåéè¦ç»å®å°ä¸ä¸ªæ¨¡å¼ä¸ãå®å°è·¯ç±é®åç»å®é®çå­ç¬¦ä¸²ååæåè¯ï¼è¿äºåè¯ä¹é´ç¨ç¹éå¼ãå®åæ ·ä¹ä¼è¯å«ä¸¤ä¸ªééç¬¦ï¼ç¬¦å·â#âåç¬¦å·â*âã#å¹é0ä¸ªæå¤ä¸ªåè¯ï¼*å¹éä¸å¤ä¸å°ä¸ä¸ªåè¯ã\n    \n    \n\n\n# äºãRabbitMQ çå®è£\n\n#ä»docker hub ä¸æåéå\ndocker pull rabbitmq:3-management\n#åå»ºRabbitMQå®¹å¨\ndocker run -d --name=rabbitmq -p 5672:5672 -p 15672:15672 --hostname myRabbit -e RABBITMQ_DEFAULT_VHOST=/  -e RABBITMQ_DEFAULT_USER=admin -e RABBITMQ_DEFAULT_PASS=admin  rabbitmq:3-management\n\n\nRabbitMQ Management",normalizedContent:"# ä¸ãä»ä¹æ¯æ¶æ¯éå\n\næ¶æ¯ï¼å¨åºç¨ä¹é´ä¼ éçæ°æ®\n\næ¶æ¯éåï¼æ¯åºç¨ä¹é´çéä¿¡æ¹å¼ï¼æ¶æ¯åéä¹åå¯ä»¥ç«å³è¿åï¼ç±æ¶æ¯ç³»ç»ä¿è¯æ¶æ¯çå¯é ä¼ éãæ¶æ¯åå¸èåªç®¡ææ¶æ¯åå¸å°mqä¸­ï¼èæ¶æ¯ä½¿ç¨èåªç®¡ä»mqä¸­åæ°æ®ã\n\n\n# äºãä¸ºä½ä½¿ç¨æ¶æ¯éå\n\næ¶æ¯éåæ¯ä¸ç§åºç¨é´çå¼æ­¥åä½æºå¶ï¼å°ä¸äºä¸éè¦ç«å³æ§è¡çæçæä½æååºæ¥å¼æ­¥æ§è¡ï¼æåæå¡å¨çæ§è½ã\n\næ¶æ¯éåè¿å¯ä»¥ç¨æ¥å®ç°ï¼æå¡è§£è¦ãæµéæ§å¶(æ¶å³°)\n\n\n# ä¸ãrabbitmqçç¹ç¹\n\nrabbitmq æ¯ä¸ä¸ªç± erlang è¯­è¨å¼åç amqp çå¼æºå®ç°ã\n\namqp ï¼ advanced message queuing protocolï¼é«çº§æ¶æ¯éååè®®ãå®æ¯åºç¨å±åè®®çä¸ä¸ªå¼æ¾æ åï¼ä¸ºé¢åæ¶æ¯çä¸­é´ä»¶è®¾è®¡ï¼åºäºæ­¤åè®®çå®¢æ·ç«¯ä¸æ¶æ¯ä¸­é´ä»¶å¯ä¼ éæ¶æ¯ï¼å¹¶ä¸åäº§åãå¼åè¯­è¨ç­æ¡ä»¶çéå¶ã\n\nrabbitmq æåèµ·æºäºéèç³»ç»ï¼ç¨äºå¨åå¸å¼ç³»ç»ä¸­å­å¨è½¬åæ¶æ¯ï¼å¨æç¨æ§ãæ©å±æ§ãé«å¯ç¨æ§ç­æ¹é¢è¡¨ç°ä¸ä¿ãå·ä½ç¹ç¹åæ¬ï¼\n\n 1. å¯é æ§ï¼reliabilityï¼ rabbitmq ä½¿ç¨ä¸äºæºå¶æ¥ä¿è¯å¯é æ§ï¼å¦æä¹åãä¼ è¾ç¡®è®¤ãåå¸ç¡®è®¤ã\n 2. çµæ´»çè·¯ç±ï¼flexible routingï¼ å¨æ¶æ¯è¿å¥éåä¹åï¼éè¿ exchange æ¥è·¯ç±æ¶æ¯çãå¯¹äºå¸åçè·¯ç±åè½ï¼rabbitmq å·²ç»æä¾äºä¸äºåç½®ç exchange æ¥å®ç°ãéå¯¹æ´å¤æçè·¯ç±åè½ï¼å¯ä»¥å°å¤ä¸ª exchange ç»å®å¨ä¸èµ·ï¼ä¹éè¿æä»¶æºå¶å®ç°èªå·±ç exchange ã\n 3. æ¶æ¯éç¾¤ï¼clusteringï¼ å¤ä¸ª rabbitmq æå¡å¨å¯ä»¥ç»æä¸ä¸ªéç¾¤ï¼å½¢æä¸ä¸ªé»è¾ broker ã\n 4. é«å¯ç¨ï¼highly available queuesï¼ éåå¯ä»¥å¨éç¾¤ä¸­çæºå¨ä¸è¿è¡éåï¼ä½¿å¾å¨é¨åèç¹åºé®é¢çæåµä¸éåä»ç¶å¯ç¨ã\n 5. å¤ç§åè®®ï¼multi-protocolï¼ rabbitmq æ¯æå¤ç§æ¶æ¯éååè®®ï¼æ¯å¦ stompãmqtt ç­ç­ã\n 6. å¤è¯­è¨å®¢æ·ç«¯ï¼many clientsï¼ rabbitmq å ä¹æ¯æææå¸¸ç¨è¯­è¨ï¼æ¯å¦ javaã.netãruby ç­ç­ã\n 7. ç®¡ççé¢ï¼management uiï¼ rabbitmq æä¾äºä¸ä¸ªæç¨çç¨æ·çé¢ï¼ä½¿å¾ç¨æ·å¯ä»¥çæ§åç®¡çæ¶æ¯ broker çè®¸å¤æ¹é¢ã\n 8. è·è¸ªæºå¶ï¼tracingï¼ å¦ææ¶æ¯å¼å¸¸ï¼rabbitmq æä¾äºæ¶æ¯è·è¸ªæºå¶ï¼ä½¿ç¨èå¯ä»¥æ¾åºåçäºä»ä¹ã\n 9. æä»¶æºå¶ï¼plugin systemï¼ rabbitmq æä¾äºè®¸å¤æä»¶ï¼æ¥ä»å¤æ¹é¢è¿è¡æ©å±ï¼ä¹å¯ä»¥ç¼åèªå·±çæä»¶ã\n\n\n# åãrabbitmqä¸­çæ¦å¿µ\n\n\n# æ¶æ¯æ¨¡å\n\nææ mq äº§åä»æ¨¡åæ½è±¡ä¸æ¥è¯´é½æ¯ä¸æ ·çè¿ç¨ï¼ æ¶è´¹èï¼consumerï¼è®¢éæä¸ªéåãçäº§èï¼producerï¼åå»ºæ¶æ¯ï¼ç¶ååå¸å°éåï¼queueï¼ä¸­ï¼æåå°æ¶æ¯åéå°çå¬çæ¶è´¹èã\n\n\n# rabbitmq åºæ¬æ¦å¿µ\n\nä¸é¢åªæ¯æç®åæ½è±¡çæè¿°ï¼å·ä½å° rabbitmq åææ´è¯¦ç»çæ¦å¿µéè¦è§£éãä¸é¢ä»ç»è¿ rabbitmq æ¯ amqp åè®®çä¸ä¸ªå¼æºå®ç°ï¼æä»¥å¶åé¨å®éä¸ä¹æ¯ amqp ä¸­çåºæ¬æ¦å¿µï¼\n\n\n\n 1.  message æ¶æ¯ï¼æ¶æ¯æ¯ä¸å·åçï¼å®ç±æ¶æ¯å¤´åæ¶æ¯ä½ç»æãæ¶æ¯ä½æ¯ä¸éæçï¼èæ¶æ¯å¤´åç±ä¸ç³»åçå¯éå±æ§ç»æï¼è¿äºå±æ§åæ¬routing-keyï¼è·¯ç±é®ï¼ãpriorityï¼ç¸å¯¹äºå¶ä»æ¶æ¯çä¼åæï¼ãdelivery-modeï¼æåºè¯¥æ¶æ¯å¯è½éè¦æä¹æ§å­å¨ï¼ç­ã\n\n 2.  publisher æ¶æ¯ççäº§èï¼ä¹æ¯ä¸ä¸ªåäº¤æ¢å¨åå¸æ¶æ¯çå®¢æ·ç«¯åºç¨ç¨åºã\n\n 3.  exchange äº¤æ¢å¨ï¼ç¨æ¥æ¥æ¶çäº§èåéçæ¶æ¯å¹¶å°è¿äºæ¶æ¯è·¯ç±ç»æå¡å¨ä¸­çéåã\n\n 4.  binding ç»å®ï¼ç¨äºæ¶æ¯éååäº¤æ¢å¨ä¹é´çå³èãä¸ä¸ªç»å®å°±æ¯åºäºè·¯ç±é®å°äº¤æ¢å¨åæ¶æ¯éåè¿æ¥èµ·æ¥çè·¯ç±è§åï¼æä»¥å¯ä»¥å°äº¤æ¢å¨çè§£æä¸ä¸ªç±ç»å®ææçè·¯ç±è¡¨ã\n\n 5.  queue æ¶æ¯éåï¼ç¨æ¥ä¿å­æ¶æ¯ç´å°åéç»æ¶è´¹èãå®æ¯æ¶æ¯çå®¹å¨ï¼ä¹æ¯æ¶æ¯çç»ç¹ãä¸ä¸ªæ¶æ¯å¯æå¥ä¸ä¸ªæå¤ä¸ªéåãæ¶æ¯ä¸ç´å¨éåéé¢ï¼ç­å¾æ¶è´¹èè¿æ¥å°è¿ä¸ªéåå°å¶åèµ°ã\n\n 6.  connection ç½ç»è¿æ¥ï¼æ¯å¦ä¸ä¸ªtcpè¿æ¥ã\n\n 7.  channel ä¿¡éï¼å¤è·¯å¤ç¨è¿æ¥ä¸­çä¸æ¡ç¬ç«çååæ°æ®æµééãä¿¡éæ¯å»ºç«å¨çå®çtcpè¿æ¥åå°èæè¿æ¥ï¼amqp å½ä»¤é½æ¯éè¿ä¿¡éååºå»çï¼ä¸ç®¡æ¯åå¸æ¶æ¯ãè®¢ééåè¿æ¯æ¥æ¶æ¶æ¯ï¼è¿äºå¨ä½é½æ¯éè¿ä¿¡éå®æãå ä¸ºå¯¹äºæä½ç³»ç»æ¥è¯´å»ºç«åéæ¯ tcp é½æ¯éå¸¸æè´µçå¼éï¼æä»¥å¼å¥äºä¿¡éçæ¦å¿µï¼ä»¥å¤ç¨ä¸æ¡ tcp è¿æ¥ã\n\n 8.  consumer æ¶æ¯çæ¶è´¹èï¼è¡¨ç¤ºä¸ä¸ªä»æ¶æ¯éåä¸­åå¾æ¶æ¯çå®¢æ·ç«¯åºç¨ç¨åºã\n\n 9.  virtual host èæä¸»æºï¼è¡¨ç¤ºä¸æ¹äº¤æ¢å¨ãæ¶æ¯éååç¸å³å¯¹è±¡ãèæä¸»æºæ¯å±äº«ç¸åçèº«ä»½è®¤è¯åå å¯ç¯å¢çç¬ç«æå¡å¨åãæ¯ä¸ª vhost æ¬è´¨ä¸å°±æ¯ä¸ä¸ª mini çç rabbitmq æå¡å¨ï¼æ¥æèªå·±çéåãäº¤æ¢å¨ãç»å®åæéæºå¶ãvhost æ¯ amqp æ¦å¿µçåºç¡ï¼å¿é¡»å¨è¿æ¥æ¶æå®ï¼rabbitmq é»è®¤ç vhost æ¯ / ã\n\n 10. broker è¡¨ç¤ºæ¶æ¯éåæå¡å¨å®ä½ã\n\n\n# exchange ç±»å\n\nexchangeååæ¶æ¯æ¶æ ¹æ®ç±»åçä¸åååç­ç¥æåºå«ï¼ç®åå±åç§ç±»åï¼directãfanoutãtopicãheaders ãheaders å¹é amqp æ¶æ¯ç header èä¸æ¯è·¯ç±é®ï¼æ­¤å¤ headers äº¤æ¢å¨å direct äº¤æ¢å¨å®å¨ä¸è´ï¼ä½æ§è½å·®å¾å¤ï¼ç®åå ä¹ç¨ä¸å°äºï¼æä»¥ç´æ¥çå¦å¤ä¸ç§ç±»åï¼\n\n 1. direct\n    \n    æ¶æ¯ä¸­çè·¯ç±é®ï¼routing keyï¼å¦æå binding ä¸­ç binding key ä¸è´ï¼ äº¤æ¢å¨å°±å°æ¶æ¯åå°å¯¹åºçéåä¸­ãè·¯ç±é®ä¸éååå®å¨å¹éï¼å¦æä¸ä¸ªéåç»å®å°äº¤æ¢æºè¦æ±è·¯ç±é®ä¸ºâdogâï¼ååªè½¬å routing key æ è®°ä¸ºâdogâçæ¶æ¯ï¼ä¸ä¼è½¬åâdog.puppyâï¼ä¹ä¸ä¼è½¬åâdog.guardâç­ç­ãå®æ¯å®å¨å¹éãåæ­çæ¨¡å¼ã\n    \n    \n\n 2. fanout\n    \n    æ¯ä¸ªåå° fanout ç±»åäº¤æ¢å¨çæ¶æ¯é½ä¼åå°ææç»å®çéåä¸å»ãfanout äº¤æ¢å¨ä¸å¤çè·¯ç±é®ï¼åªæ¯ç®åçå°éåç»å®å°äº¤æ¢å¨ä¸ï¼æ¯ä¸ªåéå°äº¤æ¢å¨çæ¶æ¯é½ä¼è¢«è½¬åå°ä¸è¯¥äº¤æ¢å¨ç»å®çææéåä¸ãå¾åå­ç½å¹¿æ­ï¼æ¯å°å­ç½åçä¸»æºé½è·å¾äºä¸ä»½å¤å¶çæ¶æ¯ãfanout ç±»åè½¬åæ¶æ¯æ¯æå¿«çã\n    \n    \n    \n    çäº§è publisher åéå° exchange çæææ¶æ¯é½ä¼è·¯ç±å°å¾ä¸­çä¸¤ä¸ª queueï¼å¹¶æç»è¢«ä¸¤ä¸ªæ¶è´¹èï¼consumer1ä¸comsumer2ï¼æ¶è´¹ã\n\n 3. topic\n    \n    topic äº¤æ¢å¨éè¿æ¨¡å¼å¹éåéæ¶æ¯çè·¯ç±é®å±æ§ï¼å°è·¯ç±é®åæä¸ªæ¨¡å¼è¿è¡å¹éï¼æ­¤æ¶éåéè¦ç»å®å°ä¸ä¸ªæ¨¡å¼ä¸ãå®å°è·¯ç±é®åç»å®é®çå­ç¬¦ä¸²ååæåè¯ï¼è¿äºåè¯ä¹é´ç¨ç¹éå¼ãå®åæ ·ä¹ä¼è¯å«ä¸¤ä¸ªééç¬¦ï¼ç¬¦å·â#âåç¬¦å·â*âã#å¹é0ä¸ªæå¤ä¸ªåè¯ï¼*å¹éä¸å¤ä¸å°ä¸ä¸ªåè¯ã\n    \n    \n\n\n# äºãrabbitmq çå®è£\n\n#ä»docker hub ä¸æåéå\ndocker pull rabbitmq:3-management\n#åå»ºrabbitmqå®¹å¨\ndocker run -d --name=rabbitmq -p 5672:5672 -p 15672:15672 --hostname myrabbit -e rabbitmq_default_vhost=/  -e rabbitmq_default_user=admin -e rabbitmq_default_pass=admin  rabbitmq:3-management\n\n\nrabbitmq management",charsets:{cjk:!0},lastUpdated:"2022/04/13, 19:55:43",lastUpdatedTimestamp:1649850943e3},{title:"èµæº",frontmatter:{title:"èµæº",date:"2020-05-12T15:10:15.000Z",permalink:"/pages/db78e2",article:!1},regularPath:"/03.%E5%B7%A5%E5%85%B7/01.%E8%B5%84%E6%BA%90.html",relativePath:"03.å·¥å·/01.èµæº.md",key:"v-b721a6a6",path:"/pages/db78e2/",headers:[{level:2,title:"æä»¶æ¨è",slug:"æä»¶æ¨è",normalizedTitle:"æä»¶æ¨è",charIndex:2},{level:3,title:"æ´å¤æä»¶...",slug:"æ´å¤æä»¶",normalizedTitle:"æ´å¤æä»¶...",charIndex:387},{level:2,title:"ç¤¾åºä¼ç§è§£å³æ¹æ¡",slug:"ç¤¾åºä¼ç§è§£å³æ¹æ¡",normalizedTitle:"ç¤¾åºä¼ç§è§£å³æ¹æ¡",charIndex:443},{level:3,title:"1. ç«ç¹ä¿¡æ¯æ¨¡å",slug:"_1-ç«ç¹ä¿¡æ¯æ¨¡å",normalizedTitle:"1. ç«ç¹ä¿¡æ¯æ¨¡å",charIndex:456},{level:3,title:"2. ç§å¯æç« åè½",slug:"_2-ç§å¯æç« åè½",normalizedTitle:"2. ç§å¯æç« åè½",charIndex:516},{level:3,title:"3. é¦é¡µå¤§å¾æ¨¡å",slug:"_3-é¦é¡µå¤§å¾æ¨¡å",normalizedTitle:"3. é¦é¡µå¤§å¾æ¨¡å",charIndex:567},{level:2,title:"å¾æ &éå¾",slug:"å¾æ -éå¾",normalizedTitle:"å¾æ &amp;éå¾",charIndex:null},{level:3,title:"éæå¾æ ",slug:"éæå¾æ ",normalizedTitle:"éæå¾æ ",charIndex:659},{level:3,title:"èç³»å¾æ ",slug:"èç³»å¾æ ",normalizedTitle:"èç³»å¾æ ",charIndex:714},{level:3,title:"å¨æå¾æ ",slug:"å¨æå¾æ ",normalizedTitle:"å¨æå¾æ ",charIndex:752},{level:3,title:"æç»",slug:"æç»",normalizedTitle:"æç»",charIndex:780},{level:3,title:"éå¾",slug:"éå¾",normalizedTitle:"éå¾",charIndex:605},{level:3,title:"Logo",slug:"logo",normalizedTitle:"logo",charIndex:827},{level:3,title:"Emojiè¡¨æ",slug:"emojiè¡¨æ",normalizedTitle:"emojiè¡¨æ",charIndex:853},{level:2,title:"å±äº«èµæº",slug:"å±äº«èµæº",normalizedTitle:"å±äº«èµæº",charIndex:950}],headersStr:"æä»¶æ¨è æ´å¤æä»¶... ç¤¾åºä¼ç§è§£å³æ¹æ¡ 1. ç«ç¹ä¿¡æ¯æ¨¡å 2. ç§å¯æç« åè½ 3. é¦é¡µå¤§å¾æ¨¡å å¾æ &éå¾ éæå¾æ  èç³»å¾æ  å¨æå¾æ  æç» éå¾ Logo Emojiè¡¨æ å±äº«èµæº",content:'# æä»¶æ¨è\n\n * vuepress-plugin-fulltext-search å¨ææç´¢\n\n * vuepress-plugin-thirdparty-search å¯ä»¥æ·»å ç¬¬ä¸æ¹æç´¢é¾æ¥çæç´¢æ¡\n\n * vuepress-plugin-one-click-copy ä»£ç åä¸é®å¤å¶\n\n * vuepress-plugin-comment è¯è®ºåº\n\n * vuepress-plugin-vssue è¯è®ºåº\n\n * vuepress-plugin-flowchart æµç¨å¾\n\n * vuepress-plugin-mathjax æ°å­¦å¬å¼\n\n * vuepress-plugin-tabs éé¡¹å¡\n\n * vuepress-plugin-element-ui Element UI\n\n * è±éè¡å¨çæä»¶ é¼ æ ç¹å»ç¹æãèæ¯å½©å¸¦ãé³ä¹æ­æ¾å¨ç­è±éè¡å¨çæä»¶\n\n\n# æ´å¤æä»¶...\n\nAwesome VuePress\n\nå¨npmä¸­æç´¢"vuepressâplugin"\n\n\n# ç¤¾åºä¼ç§è§£å³æ¹æ¡\n\n\n# 1. ç«ç¹ä¿¡æ¯æ¨¡å\n\nå¨é¦é¡µæ·»å ç«ç¹ä¿¡æ¯æ¨¡åï¼ææï¼\n\n\n\nå¨æç« é¡µæ·»å æç« å­æ°ãéè¯»æ¶é´ãæµè§éï¼ææï¼\n\n\n\n\n# 2. ç§å¯æç« åè½\n\nå½å¤§å®¶æ³è¦ãäºç«¯å¤ä»½ãæç« å°åå®¢æ¶ï¼åä¸å¸æå«äººçå°ï¼è¯¥åè½è½æ»¡è¶³ä½ ã\n\n\n# 3. é¦é¡µå¤§å¾æ¨¡å\n\nåæ¬¢é¦é¡µå¤§å¾æ¨¡å¼çæåå¯ä»¥åèæ­¤æç¨ã\n\n\n# å¾æ &éå¾\n\nè¯´æï¼ä»¥ä¸å¾æ éä¸»é¢åç½®ï¼ä½ å¯ä»¥éæ©åæ¬¢çå¾æ å³é®ä¿å­æå°å¾æ åºä¸è½½ãæ´å¤å¾æ ï¼é¿éå¾æ åº\n\n\n# éæå¾æ \n\nç¼ç¨   æå¡å¨   æºå¨å­¦ä¹    è®¡ç®æºç½ç»   é¢åå¯¹è±¡   è½¯ä»¶å¼å   æ°æ®ç»æ\n\n\n# èç³»å¾æ \n\n * ç«åªç³»å\n   \n * æ°ç å®è´\n * æ°´æç³»å\n\n\n# å¨æå¾æ \n\nç«1   ç«2   ç«3   ç«4\n\n\n# æç»\n\nåè´¹æç»\n2D/3D/æç»æç»\né¿éæç»åº\n\n\n\n# éå¾\n\nå¯ç»-æç« éå¾\n\n\n# Logo\n\nlogoçæ1\nlogoçæ2\n\n\n# Emojiè¡¨æ\n\nEmojiç¾ç§\n\nå°æå·§\n\nå¨ä»»æè¾å¥æ¡å¿«éæå¼emojiè¡¨ææ¹æ³ï¼\nWindowsç³»ç»ä¸æWin + .\nMacç³»ç»ä¸æControl + Command + ç©ºæ ¼\n\n\n# å±äº«èµæº\n\nå¦ææ¨æä¸éçèµæºï¼æ¬¢è¿å¨ èµæºåäº«åº çè¨ã',normalizedContent:'# æä»¶æ¨è\n\n * vuepress-plugin-fulltext-search å¨ææç´¢\n\n * vuepress-plugin-thirdparty-search å¯ä»¥æ·»å ç¬¬ä¸æ¹æç´¢é¾æ¥çæç´¢æ¡\n\n * vuepress-plugin-one-click-copy ä»£ç åä¸é®å¤å¶\n\n * vuepress-plugin-comment è¯è®ºåº\n\n * vuepress-plugin-vssue è¯è®ºåº\n\n * vuepress-plugin-flowchart æµç¨å¾\n\n * vuepress-plugin-mathjax æ°å­¦å¬å¼\n\n * vuepress-plugin-tabs éé¡¹å¡\n\n * vuepress-plugin-element-ui element ui\n\n * è±éè¡å¨çæä»¶ é¼ æ ç¹å»ç¹æãèæ¯å½©å¸¦ãé³ä¹æ­æ¾å¨ç­è±éè¡å¨çæä»¶\n\n\n# æ´å¤æä»¶...\n\nawesome vuepress\n\nå¨npmä¸­æç´¢"vuepressâplugin"\n\n\n# ç¤¾åºä¼ç§è§£å³æ¹æ¡\n\n\n# 1. ç«ç¹ä¿¡æ¯æ¨¡å\n\nå¨é¦é¡µæ·»å ç«ç¹ä¿¡æ¯æ¨¡åï¼ææï¼\n\n\n\nå¨æç« é¡µæ·»å æç« å­æ°ãéè¯»æ¶é´ãæµè§éï¼ææï¼\n\n\n\n\n# 2. ç§å¯æç« åè½\n\nå½å¤§å®¶æ³è¦ãäºç«¯å¤ä»½ãæç« å°åå®¢æ¶ï¼åä¸å¸æå«äººçå°ï¼è¯¥åè½è½æ»¡è¶³ä½ ã\n\n\n# 3. é¦é¡µå¤§å¾æ¨¡å\n\nåæ¬¢é¦é¡µå¤§å¾æ¨¡å¼çæåå¯ä»¥åèæ­¤æç¨ã\n\n\n# å¾æ &éå¾\n\nè¯´æï¼ä»¥ä¸å¾æ éä¸»é¢åç½®ï¼ä½ å¯ä»¥éæ©åæ¬¢çå¾æ å³é®ä¿å­æå°å¾æ åºä¸è½½ãæ´å¤å¾æ ï¼é¿éå¾æ åº\n\n\n# éæå¾æ \n\nç¼ç¨   æå¡å¨   æºå¨å­¦ä¹    è®¡ç®æºç½ç»   é¢åå¯¹è±¡   è½¯ä»¶å¼å   æ°æ®ç»æ\n\n\n# èç³»å¾æ \n\n * ç«åªç³»å\n   \n * æ°ç å®è´\n * æ°´æç³»å\n\n\n# å¨æå¾æ \n\nç«1   ç«2   ç«3   ç«4\n\n\n# æç»\n\nåè´¹æç»\n2d/3d/æç»æç»\né¿éæç»åº\n\n\n\n# éå¾\n\nå¯ç»-æç« éå¾\n\n\n# logo\n\nlogoçæ1\nlogoçæ2\n\n\n# emojiè¡¨æ\n\nemojiç¾ç§\n\nå°æå·§\n\nå¨ä»»æè¾å¥æ¡å¿«éæå¼emojiè¡¨ææ¹æ³ï¼\nwindowsç³»ç»ä¸æwin + .\nmacç³»ç»ä¸æcontrol + command + ç©ºæ ¼\n\n\n# å±äº«èµæº\n\nå¦ææ¨æä¸éçèµæºï¼æ¬¢è¿å¨ èµæºåäº«åº çè¨ã',charsets:{cjk:!0},lastUpdated:"2022/04/05, 22:07:38",lastUpdatedTimestamp:1649167658e3},{title:"æ¡ä¾",frontmatter:{title:"æ¡ä¾",date:"2020-05-14T11:39:45.000Z",permalink:"/pages/5d571c",article:!1},regularPath:"/04.%E9%A1%B9%E7%9B%AE/01.%E6%A1%88%E4%BE%8B.html",relativePath:"04.é¡¹ç®/01.æ¡ä¾.md",key:"v-065d30b4",path:"/pages/5d571c/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/04/05, 22:07:38",lastUpdatedTimestamp:1649167658e3},{title:"é®ç­",frontmatter:{title:"é®ç­",date:"2020-05-25T12:01:52.000Z",permalink:"/pages/9cc27d",article:!1},regularPath:"/05.%E4%BA%91/01.%E9%97%AE%E7%AD%94.html",relativePath:"05.äº/01.é®ç­.md",key:"v-669128ba",path:"/pages/9cc27d/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/04/05, 22:07:38",lastUpdatedTimestamp:1649167658e3},{title:"æ¯æè¿ä¸ªé¡¹ç®",frontmatter:{title:"æ¯æè¿ä¸ªé¡¹ç®",date:"2020-05-12T15:09:57.000Z",permalink:"/pages/1b12ed",sidebar:!1,article:!1},regularPath:"/06.%E4%B9%A6%E7%B1%8D/01.%E6%94%AF%E6%8C%81.html",relativePath:"06.ä¹¦ç±/01.æ¯æ.md",key:"v-02cf1748",path:"/pages/1b12ed/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2022/04/05, 22:07:38",lastUpdatedTimestamp:1649167658e3},{title:"Home",frontmatter:{home:!0,heroImage:"https://cdn.jsdelivr.net/gh/TitoniPine/Images@main/uPic/cat2.png",heroText:"æ¢è±é¦èªè¦å¯æ¥",tagline:"ðè®°å½ç¥è¯",actionText:"å¼å§éè¯» â",actionLink:"/pages/52d5c3/",bannerBg:"none",postList:"none"},regularPath:"/",relativePath:"index.md",key:"v-19e87a0e",path:"/",headersStr:null,content:"\n\n\n\n\n\n\n",normalizedContent:"\n\n\n\n\n\n\n",charsets:{},lastUpdated:"2022/04/05, 22:07:38",lastUpdatedTimestamp:1649167658e3},{title:"åå®¢æç« ",frontmatter:{archivesPage:!0,title:"åå®¢æç« ",permalink:"/blog/",article:!1},regularPath:"/@pages/archivesPage.html",relativePath:"@pages/archivesPage.md",key:"v-332e2ff5",path:"/blog/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2020/05/29, 16:33:54",lastUpdatedTimestamp:1590741234e3}],themeConfig:{nav:[{text:"é¦é¡µ",link:"/"},{text:"åºç¡",link:"/pages/52d5c3/",items:[]},{text:"æ¡æ¶",link:"/pages/ce6c78/",items:[]},{text:"å·¥å·",link:"/pages/db78e2/"},{text:"é¡¹ç®",link:"/pages/5d571c/"},{text:"âï¸",link:"/pages/9cc27d/"},{text:"ä¹¦ç±",link:"/pages/1b12ed/"}],sidebarDepth:2,logo:"https://cdn.jsdelivr.net/gh/TitoniPine/Images@main/uPic/cat1.png",repo:"titonipine",searchMaxSuggestions:10,lastUpdated:"ä¸æ¬¡æ´æ°",sidebar:{"/01.åºç¡/":[{title:"åºç¡ç¥è¯",collapsable:!1,children:[["01.åºç¡ç¥è¯/01.åºç¡.md","åºç¡é¢è¯é¢","/pages/52d5c3"],["01.åºç¡ç¥è¯/04.JVM.md","JVM","/pages/649cb6/"]]},{title:"å¹¶å",collapsable:!1,children:[]},{title:"æ°æ®åº",collapsable:!1,children:[["03.æ°æ®åº/01.MySQL.md","MySQL","/pages/a99400/"]]}],catalogue:{},"/02.æ¡æ¶/":[{title:"Spring",collapsable:!1,children:[{title:"åºç¡",collapsable:!1,children:[["01.Spring/01.åºç¡/01.Spring.md","Spring","/pages/5aa973/"]]},{title:"å®å¨æ¡æ¶",collapsable:!1,children:[["01.Spring/10.å®å¨æ¡æ¶/01.JWT.md","JWT","/pages/ce6c78/"]]}]},{title:"Mybatis",collapsable:!1,children:[]},{title:"SpringBoot",collapsable:!1,children:[{title:"web",collapsable:!1,children:[]},{title:"éå³ç³»åæ°æ®åº",collapsable:!1,children:[["03.SpringBoot/03.éå³ç³»åæ°æ®åº/01.Redis.md","Redis","/pages/9a6634/"],["03.SpringBoot/03.éå³ç³»åæ°æ®åº/02.Elasticsearch.md","Elasticsearch","/pages/0a0365/"]]},{title:"MQ",collapsable:!1,children:[["03.SpringBoot/04.MQ/01.RabbitMQ.md","RabbitMQ","/pages/c267a5/"]]}]}],"/03.å·¥å·/":[["01.èµæº.md","èµæº","/pages/db78e2"]],"/04.é¡¹ç®/":[["01.æ¡ä¾.md","æ¡ä¾","/pages/5d571c"]],"/05.äº/":[["01.é®ç­.md","é®ç­","/pages/9cc27d"]],"/06.ä¹¦ç±/":[["01.æ¯æ.md","æ¯æè¿ä¸ªé¡¹ç®","/pages/1b12ed"]]},updateBar:{showToArticle:!1},category:!1,tag:!1,author:{name:"Plum Blossom",href:"https://github.com/titonipine"},social:{icons:[{iconClass:"icon-youjian",title:"åé®ä»¶",link:"mailto:hyt10101025@163.com"},{iconClass:"icon-github",title:"GitHub",link:"https://github.com/titonipine"},{iconClass:"icon-erji",title:"å¬é³ä¹",link:"https://music.163.com/"}]},footer:{createYear:2019,copyrightInfo:"Plum Blossom | MIT License"},htmlModules:{pageB:'\n  <div class="wwads-cn wwads-horizontal pageB" data-id="136" style="width:100%;max-height:80px;min-height:auto;"></div>\n  <style>\n    .pageB img{width:80px!important;}\n    .wwads-horizontal .wwads-text, .wwads-content .wwads-text{line-height:1;}\n  </style>\n  ',windowRB:'\n    <div class="wwads-cn wwads-vertical windowRB" data-id="136" style="max-width:160px;\n    min-width: auto;min-height:auto;"></div>\n    <style>\n      .windowRB{ padding: 0;}\n      .windowRB .wwads-img{margin-top: 10px;}\n      .windowRB .wwads-content{margin: 0 10px 10px 10px;}\n      .custom-html-window-rb .close-but{\n        display: none;\n      }\n    </style>\n  '}}},ll=(t(366),t(151),t(207),t(138),t(217)),cl=t(218),ul=(t(372),t(232),t(42));var pl={computed:{$filterPosts:function(){return this.$site.pages.filter((function(n){var e=n.frontmatter,t=e.pageComponent,r=e.article,a=e.home;return!(t||!1===r||!0===a)}))},$sortPosts:function(){return(n=this.$filterPosts).sort((function(n,e){var t=n.frontmatter.sticky,r=e.frontmatter.sticky;return t&&r?t==r?Object(ul.a)(n,e):t-r:t&&!r?-1:!t&&r?1:Object(ul.a)(n,e)})),n;var n},$sortPostsByDate:function(){return(n=this.$filterPosts).sort((function(n,e){return Object(ul.a)(n,e)})),n;var n},$groupPosts:function(){return function(n){for(var e={},t={},r=function(r,a){var i=n[r].frontmatter,o=i.categories,s=i.tags;"array"===Object(ul.n)(o)&&o.forEach((function(t){t&&(e[t]||(e[t]=[]),e[t].push(n[r]))})),"array"===Object(ul.n)(s)&&s.forEach((function(e){e&&(t[e]||(t[e]=[]),t[e].push(n[r]))}))},a=0,i=n.length;a<i;a++)r(a);return{categories:e,tags:t}}(this.$sortPosts)},$categoriesAndTags:function(){return function(n){var e=[],t=[];for(var r in n.categories)e.push({key:r,length:n.categories[r].length});for(var a in n.tags)t.push({key:a,length:n.tags[a].length});return{categories:e,tags:t}}(this.$groupPosts)}}};Ra.component(ll.default),Ra.component(cl.default);function dl(n){return n.toString().padStart(2,"0")}t(376);Ra.component("Badge",(function(){return Promise.all([t.e(0),t.e(3)]).then(t.bind(null,489))})),Ra.component("CodeBlock",(function(){return Promise.resolve().then(t.bind(null,217))})),Ra.component("CodeGroup",(function(){return Promise.resolve().then(t.bind(null,218))}));t(377);var fl=[{},function(n){var e=n.Vue,t=(n.options,n.router,n.siteData);t.pages.map((function(n){var e=n.frontmatter,r=e.date,a=e.author;"string"==typeof r&&"Z"===r.charAt(r.length-1)&&(n.frontmatter.date=function(n){n instanceof Date||(n=new Date(n));return"".concat(n.getUTCFullYear(),"-").concat(dl(n.getUTCMonth()+1),"-").concat(dl(n.getUTCDate())," ").concat(dl(n.getUTCHours()),":").concat(dl(n.getUTCMinutes()),":").concat(dl(n.getUTCSeconds()))}(r)),a?n.author=a:t.themeConfig.author&&(n.author=t.themeConfig.author)})),e.mixin(pl)},{},function(n){n.Vue.mixin({computed:{$dataBlock:function(){return this.$options.__data__block__}}})},{},{}],hl=[];t(210);function vl(n,e){return(vl=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n})(n,e)}t(211),t(212);function ml(n){return(ml=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function gl(n,e){if(e&&("object"===To(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function bl(n){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var t,r=ml(n);if(e){var a=ml(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return gl(this,t)}}var yl=function(n){!function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&vl(n,e)}(t,n);var e=bl(t);function t(){return cs(this,t),e.apply(this,arguments)}return ps(t)}(function(){function n(){cs(this,n),this.store=new Ra({data:{state:{}}})}return ps(n,[{key:"$get",value:function(n){return this.store.state[n]}},{key:"$set",value:function(n,e){Ra.set(this.store.state,n,e)}},{key:"$emit",value:function(){var n;(n=this.store).$emit.apply(n,arguments)}},{key:"$on",value:function(){var n;(n=this.store).$on.apply(n,arguments)}}]),n}());Object.assign(yl.prototype,{getPageAsyncComponent:Fo,getLayoutAsyncComponent:qo,getAsyncComponent:Uo,getVueComponent:Ho});var xl={install:function(n){var e=new yl;n.$vuepress=e,n.prototype.$vuepress=e}};function _l(n){n.beforeEach((function(e,t,r){if(wl(n,e.path))r();else if(/(\/|\.html)$/.test(e.path))if(/\/$/.test(e.path)){var a=e.path.replace(/\/$/,"")+".html";wl(n,a)?r(a):r()}else r();else{var i=e.path+"/",o=e.path+".html";wl(n,o)?r(o):wl(n,i)?r(i):r()}}))}function wl(n,e){var t=e.toLowerCase();return n.options.routes.some((function(n){return n.path.toLowerCase()===t}))}var kl={props:{pageKey:String,slotKey:{type:String,default:"default"}},render:function(n){var e=this.pageKey||this.$parent.$page.key;return Go("pageKey",e),Ra.component(e)||Ra.component(e,Fo(e)),Ra.component(e)?n(e):n("")}},Sl={functional:!0,props:{slotKey:String,required:!0},render:function(n,e){var t=e.props,r=e.slots;return n("div",{class:["content__".concat(t.slotKey)]},r()[t.slotKey])}},jl={computed:{openInNewWindowTitle:function(){return this.$themeLocaleConfig.openNewWindowText||"(opens new window)"}}},Tl=(t(378),t(379),Object(al.a)(jl,(function(){var n=this.$createElement,e=this._self._c||n;return e("span",[e("svg",{staticClass:"icon outbound",attrs:{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15"}},[e("path",{attrs:{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}}),this._v(" "),e("polygon",{attrs:{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}})]),this._v(" "),e("span",{staticClass:"sr-only"},[this._v(this._s(this.openInNewWindowTitle))])])}),[],!1,null,null,null).exports);function El(){return(El=Object(r.a)(regeneratorRuntime.mark((function n(e){var t,r,a,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t="undefined"!=typeof window&&window.__VUEPRESS_ROUTER_BASE__?window.__VUEPRESS_ROUTER_BASE__:sl.routerBase||sl.base,_l(r=new So({base:t,mode:"history",fallback:!1,routes:ol,scrollBehavior:function(n,e,t){return t||(n.hash?!Ra.$vuepress.$get("disableScrollBehavior")&&{selector:decodeURIComponent(n.hash)}:{x:0,y:0})}})),a={},n.prev=4,n.next=7,Promise.all(fl.filter((function(n){return"function"==typeof n})).map((function(n){return n({Vue:Ra,options:a,router:r,siteData:sl,isServer:e})})));case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(4),console.error(n.t0);case 12:return i=new Ra(Object.assign(a,{router:r,render:function(n){return n("div",{attrs:{id:"app"}},[n("RouterView",{ref:"layout"}),n("div",{class:"global-ui"},hl.map((function(e){return n(e)})))])}})),n.abrupt("return",{app:i,router:r});case 14:case"end":return n.stop()}}),n,null,[[4,9]])})))).apply(this,arguments)}Ra.config.productionTip=!1,Ra.use(So),Ra.use(xl),Ra.mixin(function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ra;jo(e),t.$vuepress.$set("siteData",e);var r=n(t.$vuepress.$get("siteData")),a=new r,i=Object.getOwnPropertyDescriptors(Object.getPrototypeOf(a)),o={};return Object.keys(i).reduce((function(n,e){return e.startsWith("$")&&(n[e]=i[e].get),n}),o),{computed:o}}((function(n){return function(){function e(){cs(this,e)}return ps(e,[{key:"setPage",value:function(n){this.__page=n}},{key:"$site",get:function(){return n}},{key:"$themeConfig",get:function(){return this.$site.themeConfig}},{key:"$frontmatter",get:function(){return this.$page.frontmatter}},{key:"$localeConfig",get:function(){var n,e,t=this.$site.locales,r=void 0===t?{}:t;for(var a in r)"/"===a?e=r[a]:0===this.$page.path.indexOf(a)&&(n=r[a]);return n||e||{}}},{key:"$siteTitle",get:function(){return this.$localeConfig.title||this.$site.title||""}},{key:"$canonicalUrl",get:function(){var n=this.$page.frontmatter.canonicalUrl;return"string"==typeof n&&n}},{key:"$title",get:function(){var n=this.$page,e=this.$page.frontmatter.metaTitle;if("string"==typeof e)return e;var t=this.$siteTitle,r=n.frontmatter.home?null:n.frontmatter.title||n.title;return t?r?r+" | "+t:t:r||"VuePress"}},{key:"$description",get:function(){var n=function(n){if(n){var e=n.filter((function(n){return"description"===n.name}))[0];if(e)return e.content}}(this.$page.frontmatter.meta);return n||(this.$page.frontmatter.description||this.$localeConfig.description||this.$site.description||"")}},{key:"$lang",get:function(){return this.$page.frontmatter.lang||this.$localeConfig.lang||"en-US"}},{key:"$localePath",get:function(){return this.$localeConfig.path||"/"}},{key:"$themeLocaleConfig",get:function(){return(this.$site.themeConfig.locales||{})[this.$localePath]||{}}},{key:"$page",get:function(){return this.__page?this.__page:function(n,e){for(var t=0;t<n.length;t++){var r=n[t];if(r.path.toLowerCase()===e.toLowerCase())return r}return{path:"",frontmatter:{}}}(this.$site.pages,this.$route.path)}}]),e}()}),sl)),Ra.component("Content",kl),Ra.component("ContentSlotsDistributor",Sl),Ra.component("OutboundLink",Tl),Ra.component("ClientOnly",{functional:!0,render:function(n,e){var t=e.parent,r=e.children;if(t._isMounted)return r;t.$once("hook:mounted",(function(){t.$forceUpdate()}))}}),Ra.component("Layout",qo("Layout")),Ra.component("NotFound",qo("NotFound")),Ra.prototype.$withBase=function(n){var e=this.$site.base;return"/"===n.charAt(0)?e+n.slice(1):n},window.__VUEPRESS__={version:"1.9.2",hash:"7a3aeb1"},function(n){return El.apply(this,arguments)}(!1).then((function(n){var e=n.app;n.router.onReady((function(){e.$mount("#app")}))}))}]);